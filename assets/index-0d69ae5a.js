function _O(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in e)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(e,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();function K0(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var vT={exports:{}},Sf={},wT={exports:{}},fe={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ou=Symbol.for("react.element"),xO=Symbol.for("react.portal"),EO=Symbol.for("react.fragment"),bO=Symbol.for("react.strict_mode"),CO=Symbol.for("react.profiler"),SO=Symbol.for("react.provider"),TO=Symbol.for("react.context"),kO=Symbol.for("react.forward_ref"),IO=Symbol.for("react.suspense"),PO=Symbol.for("react.memo"),RO=Symbol.for("react.lazy"),ox=Symbol.iterator;function AO(e){return e===null||typeof e!="object"?null:(e=ox&&e[ox]||e["@@iterator"],typeof e=="function"?e:null)}var _T={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},xT=Object.assign,ET={};function Da(e,t,n){this.props=e,this.context=t,this.refs=ET,this.updater=n||_T}Da.prototype.isReactComponent={};Da.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Da.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function bT(){}bT.prototype=Da.prototype;function Y0(e,t,n){this.props=e,this.context=t,this.refs=ET,this.updater=n||_T}var X0=Y0.prototype=new bT;X0.constructor=Y0;xT(X0,Da.prototype);X0.isPureReactComponent=!0;var ax=Array.isArray,CT=Object.prototype.hasOwnProperty,J0={current:null},ST={key:!0,ref:!0,__self:!0,__source:!0};function TT(e,t,n){var r,i={},s=null,o=null;if(t!=null)for(r in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(s=""+t.key),t)CT.call(t,r)&&!ST.hasOwnProperty(r)&&(i[r]=t[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var l=Array(a),c=0;c<a;c++)l[c]=arguments[c+2];i.children=l}if(e&&e.defaultProps)for(r in a=e.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:ou,type:e,key:s,ref:o,props:i,_owner:J0.current}}function NO(e,t){return{$$typeof:ou,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Q0(e){return typeof e=="object"&&e!==null&&e.$$typeof===ou}function DO(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var lx=/\/+/g;function fm(e,t){return typeof e=="object"&&e!==null&&e.key!=null?DO(""+e.key):t.toString(36)}function Md(e,t,n,r,i){var s=typeof e;(s==="undefined"||s==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case ou:case xO:o=!0}}if(o)return o=e,i=i(o),e=r===""?"."+fm(o,0):r,ax(i)?(n="",e!=null&&(n=e.replace(lx,"$&/")+"/"),Md(i,t,n,"",function(c){return c})):i!=null&&(Q0(i)&&(i=NO(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(lx,"$&/")+"/")+e)),t.push(i)),1;if(o=0,r=r===""?".":r+":",ax(e))for(var a=0;a<e.length;a++){s=e[a];var l=r+fm(s,a);o+=Md(s,t,n,l,i)}else if(l=AO(e),typeof l=="function")for(e=l.call(e),a=0;!(s=e.next()).done;)s=s.value,l=r+fm(s,a++),o+=Md(s,t,n,l,i);else if(s==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function Qu(e,t,n){if(e==null)return e;var r=[],i=0;return Md(e,r,"","",function(s){return t.call(n,s,i++)}),r}function OO(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Yt={current:null},Ld={transition:null},MO={ReactCurrentDispatcher:Yt,ReactCurrentBatchConfig:Ld,ReactCurrentOwner:J0};function kT(){throw Error("act(...) is not supported in production builds of React.")}fe.Children={map:Qu,forEach:function(e,t,n){Qu(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return Qu(e,function(){t++}),t},toArray:function(e){return Qu(e,function(t){return t})||[]},only:function(e){if(!Q0(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};fe.Component=Da;fe.Fragment=EO;fe.Profiler=CO;fe.PureComponent=Y0;fe.StrictMode=bO;fe.Suspense=IO;fe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=MO;fe.act=kT;fe.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=xT({},e.props),i=e.key,s=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(s=t.ref,o=J0.current),t.key!==void 0&&(i=""+t.key),e.type&&e.type.defaultProps)var a=e.type.defaultProps;for(l in t)CT.call(t,l)&&!ST.hasOwnProperty(l)&&(r[l]=t[l]===void 0&&a!==void 0?a[l]:t[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var c=0;c<l;c++)a[c]=arguments[c+2];r.children=a}return{$$typeof:ou,type:e.type,key:i,ref:s,props:r,_owner:o}};fe.createContext=function(e){return e={$$typeof:TO,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:SO,_context:e},e.Consumer=e};fe.createElement=TT;fe.createFactory=function(e){var t=TT.bind(null,e);return t.type=e,t};fe.createRef=function(){return{current:null}};fe.forwardRef=function(e){return{$$typeof:kO,render:e}};fe.isValidElement=Q0;fe.lazy=function(e){return{$$typeof:RO,_payload:{_status:-1,_result:e},_init:OO}};fe.memo=function(e,t){return{$$typeof:PO,type:e,compare:t===void 0?null:t}};fe.startTransition=function(e){var t=Ld.transition;Ld.transition={};try{e()}finally{Ld.transition=t}};fe.unstable_act=kT;fe.useCallback=function(e,t){return Yt.current.useCallback(e,t)};fe.useContext=function(e){return Yt.current.useContext(e)};fe.useDebugValue=function(){};fe.useDeferredValue=function(e){return Yt.current.useDeferredValue(e)};fe.useEffect=function(e,t){return Yt.current.useEffect(e,t)};fe.useId=function(){return Yt.current.useId()};fe.useImperativeHandle=function(e,t,n){return Yt.current.useImperativeHandle(e,t,n)};fe.useInsertionEffect=function(e,t){return Yt.current.useInsertionEffect(e,t)};fe.useLayoutEffect=function(e,t){return Yt.current.useLayoutEffect(e,t)};fe.useMemo=function(e,t){return Yt.current.useMemo(e,t)};fe.useReducer=function(e,t,n){return Yt.current.useReducer(e,t,n)};fe.useRef=function(e){return Yt.current.useRef(e)};fe.useState=function(e){return Yt.current.useState(e)};fe.useSyncExternalStore=function(e,t,n){return Yt.current.useSyncExternalStore(e,t,n)};fe.useTransition=function(){return Yt.current.useTransition()};fe.version="18.3.1";wT.exports=fe;var w=wT.exports;const Q=K0(w),hh=_O({__proto__:null,default:Q},[w]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var LO=w,jO=Symbol.for("react.element"),FO=Symbol.for("react.fragment"),$O=Object.prototype.hasOwnProperty,VO=LO.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,UO={key:!0,ref:!0,__self:!0,__source:!0};function IT(e,t,n){var r,i={},s=null,o=null;n!==void 0&&(s=""+n),t.key!==void 0&&(s=""+t.key),t.ref!==void 0&&(o=t.ref);for(r in t)$O.call(t,r)&&!UO.hasOwnProperty(r)&&(i[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)i[r]===void 0&&(i[r]=t[r]);return{$$typeof:jO,type:e,key:s,ref:o,props:i,_owner:VO.current}}Sf.Fragment=FO;Sf.jsx=IT;Sf.jsxs=IT;vT.exports=Sf;var m=vT.exports,Dg={},PT={exports:{}},En={},RT={exports:{}},AT={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(F,K){var X=F.length;F.push(K);e:for(;0<X;){var ae=X-1>>>1,ie=F[ae];if(0<i(ie,K))F[ae]=K,F[X]=ie,X=ae;else break e}}function n(F){return F.length===0?null:F[0]}function r(F){if(F.length===0)return null;var K=F[0],X=F.pop();if(X!==K){F[0]=X;e:for(var ae=0,ie=F.length,H=ie>>>1;ae<H;){var J=2*(ae+1)-1,se=F[J],ce=J+1,oe=F[ce];if(0>i(se,X))ce<ie&&0>i(oe,se)?(F[ae]=oe,F[ce]=X,ae=ce):(F[ae]=se,F[J]=X,ae=J);else if(ce<ie&&0>i(oe,X))F[ae]=oe,F[ce]=X,ae=ce;else break e}}return K}function i(F,K){var X=F.sortIndex-K.sortIndex;return X!==0?X:F.id-K.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;e.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();e.unstable_now=function(){return o.now()-a}}var l=[],c=[],d=1,h=null,f=3,g=!1,v=!1,S=!1,k=typeof setTimeout=="function"?setTimeout:null,_=typeof clearTimeout=="function"?clearTimeout:null,b=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function E(F){for(var K=n(c);K!==null;){if(K.callback===null)r(c);else if(K.startTime<=F)r(c),K.sortIndex=K.expirationTime,t(l,K);else break;K=n(c)}}function R(F){if(S=!1,E(F),!v)if(n(l)!==null)v=!0,q(D);else{var K=n(c);K!==null&&G(R,K.startTime-F)}}function D(F,K){v=!1,S&&(S=!1,_(C),C=-1),g=!0;var X=f;try{for(E(K),h=n(l);h!==null&&(!(h.expirationTime>K)||F&&!N());){var ae=h.callback;if(typeof ae=="function"){h.callback=null,f=h.priorityLevel;var ie=ae(h.expirationTime<=K);K=e.unstable_now(),typeof ie=="function"?h.callback=ie:h===n(l)&&r(l),E(K)}else r(l);h=n(l)}if(h!==null)var H=!0;else{var J=n(c);J!==null&&G(R,J.startTime-K),H=!1}return H}finally{h=null,f=X,g=!1}}var M=!1,T=null,C=-1,I=5,y=-1;function N(){return!(e.unstable_now()-y<I)}function O(){if(T!==null){var F=e.unstable_now();y=F;var K=!0;try{K=T(!0,F)}finally{K?A():(M=!1,T=null)}}else M=!1}var A;if(typeof b=="function")A=function(){b(O)};else if(typeof MessageChannel<"u"){var V=new MessageChannel,U=V.port2;V.port1.onmessage=O,A=function(){U.postMessage(null)}}else A=function(){k(O,0)};function q(F){T=F,M||(M=!0,A())}function G(F,K){C=k(function(){F(e.unstable_now())},K)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(F){F.callback=null},e.unstable_continueExecution=function(){v||g||(v=!0,q(D))},e.unstable_forceFrameRate=function(F){0>F||125<F?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):I=0<F?Math.floor(1e3/F):5},e.unstable_getCurrentPriorityLevel=function(){return f},e.unstable_getFirstCallbackNode=function(){return n(l)},e.unstable_next=function(F){switch(f){case 1:case 2:case 3:var K=3;break;default:K=f}var X=f;f=K;try{return F()}finally{f=X}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(F,K){switch(F){case 1:case 2:case 3:case 4:case 5:break;default:F=3}var X=f;f=F;try{return K()}finally{f=X}},e.unstable_scheduleCallback=function(F,K,X){var ae=e.unstable_now();switch(typeof X=="object"&&X!==null?(X=X.delay,X=typeof X=="number"&&0<X?ae+X:ae):X=ae,F){case 1:var ie=-1;break;case 2:ie=250;break;case 5:ie=1073741823;break;case 4:ie=1e4;break;default:ie=5e3}return ie=X+ie,F={id:d++,callback:K,priorityLevel:F,startTime:X,expirationTime:ie,sortIndex:-1},X>ae?(F.sortIndex=X,t(c,F),n(l)===null&&F===n(c)&&(S?(_(C),C=-1):S=!0,G(R,X-ae))):(F.sortIndex=ie,t(l,F),v||g||(v=!0,q(D))),F},e.unstable_shouldYield=N,e.unstable_wrapCallback=function(F){var K=f;return function(){var X=f;f=K;try{return F.apply(this,arguments)}finally{f=X}}}})(AT);RT.exports=AT;var BO=RT.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var zO=w,_n=BO;function B(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var NT=new Set,gc={};function lo(e,t){da(e,t),da(e+"Capture",t)}function da(e,t){for(gc[e]=t,e=0;e<t.length;e++)NT.add(t[e])}var ni=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Og=Object.prototype.hasOwnProperty,WO=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,cx={},ux={};function HO(e){return Og.call(ux,e)?!0:Og.call(cx,e)?!1:WO.test(e)?ux[e]=!0:(cx[e]=!0,!1)}function qO(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function GO(e,t,n,r){if(t===null||typeof t>"u"||qO(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Xt(e,t,n,r,i,s,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=s,this.removeEmptyString=o}var Ct={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Ct[e]=new Xt(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Ct[t]=new Xt(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Ct[e]=new Xt(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Ct[e]=new Xt(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Ct[e]=new Xt(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Ct[e]=new Xt(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Ct[e]=new Xt(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Ct[e]=new Xt(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Ct[e]=new Xt(e,5,!1,e.toLowerCase(),null,!1,!1)});var Z0=/[\-:]([a-z])/g;function ev(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Z0,ev);Ct[t]=new Xt(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Z0,ev);Ct[t]=new Xt(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Z0,ev);Ct[t]=new Xt(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Ct[e]=new Xt(e,1,!1,e.toLowerCase(),null,!1,!1)});Ct.xlinkHref=new Xt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Ct[e]=new Xt(e,1,!1,e.toLowerCase(),null,!0,!0)});function tv(e,t,n,r){var i=Ct.hasOwnProperty(t)?Ct[t]:null;(i!==null?i.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(GO(t,n,i,r)&&(n=null),r||i===null?HO(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=n===null?i.type===3?!1:"":n:(t=i.attributeName,r=i.attributeNamespace,n===null?e.removeAttribute(t):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var pi=zO.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Zu=Symbol.for("react.element"),Do=Symbol.for("react.portal"),Oo=Symbol.for("react.fragment"),nv=Symbol.for("react.strict_mode"),Mg=Symbol.for("react.profiler"),DT=Symbol.for("react.provider"),OT=Symbol.for("react.context"),rv=Symbol.for("react.forward_ref"),Lg=Symbol.for("react.suspense"),jg=Symbol.for("react.suspense_list"),iv=Symbol.for("react.memo"),Ti=Symbol.for("react.lazy"),MT=Symbol.for("react.offscreen"),dx=Symbol.iterator;function ul(e){return e===null||typeof e!="object"?null:(e=dx&&e[dx]||e["@@iterator"],typeof e=="function"?e:null)}var ze=Object.assign,pm;function Il(e){if(pm===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);pm=t&&t[1]||""}return`
`+pm+e}var mm=!1;function gm(e,t){if(!e||mm)return"";mm=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var r=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){r=c}e.call(t.prototype)}else{try{throw Error()}catch(c){r=c}e()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var i=c.stack.split(`
`),s=r.stack.split(`
`),o=i.length-1,a=s.length-1;1<=o&&0<=a&&i[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||i[o]!==s[a]){var l=`
`+i[o].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}while(1<=o&&0<=a);break}}}finally{mm=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?Il(e):""}function KO(e){switch(e.tag){case 5:return Il(e.type);case 16:return Il("Lazy");case 13:return Il("Suspense");case 19:return Il("SuspenseList");case 0:case 2:case 15:return e=gm(e.type,!1),e;case 11:return e=gm(e.type.render,!1),e;case 1:return e=gm(e.type,!0),e;default:return""}}function Fg(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Oo:return"Fragment";case Do:return"Portal";case Mg:return"Profiler";case nv:return"StrictMode";case Lg:return"Suspense";case jg:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case OT:return(e.displayName||"Context")+".Consumer";case DT:return(e._context.displayName||"Context")+".Provider";case rv:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case iv:return t=e.displayName||null,t!==null?t:Fg(e.type)||"Memo";case Ti:t=e._payload,e=e._init;try{return Fg(e(t))}catch{}}return null}function YO(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Fg(t);case 8:return t===nv?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Zi(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function LT(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function XO(e){var t=LT(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function ed(e){e._valueTracker||(e._valueTracker=XO(e))}function jT(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=LT(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function fh(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function $g(e,t){var n=t.checked;return ze({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function hx(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=Zi(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function FT(e,t){t=t.checked,t!=null&&tv(e,"checked",t,!1)}function Vg(e,t){FT(e,t);var n=Zi(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Ug(e,t.type,n):t.hasOwnProperty("defaultValue")&&Ug(e,t.type,Zi(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function fx(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function Ug(e,t,n){(t!=="number"||fh(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var Pl=Array.isArray;function Jo(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+Zi(n),t=null,i=0;i<e.length;i++){if(e[i].value===n){e[i].selected=!0,r&&(e[i].defaultSelected=!0);return}t!==null||e[i].disabled||(t=e[i])}t!==null&&(t.selected=!0)}}function Bg(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(B(91));return ze({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function px(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(B(92));if(Pl(n)){if(1<n.length)throw Error(B(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:Zi(n)}}function $T(e,t){var n=Zi(t.value),r=Zi(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function mx(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function VT(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function zg(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?VT(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var td,UT=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,i){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,i)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(td=td||document.createElement("div"),td.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=td.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function yc(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var Ul={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},JO=["Webkit","ms","Moz","O"];Object.keys(Ul).forEach(function(e){JO.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Ul[t]=Ul[e]})});function BT(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||Ul.hasOwnProperty(e)&&Ul[e]?(""+t).trim():t+"px"}function zT(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=BT(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}var QO=ze({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Wg(e,t){if(t){if(QO[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(B(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(B(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(B(61))}if(t.style!=null&&typeof t.style!="object")throw Error(B(62))}}function Hg(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var qg=null;function sv(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Gg=null,Qo=null,Zo=null;function gx(e){if(e=cu(e)){if(typeof Gg!="function")throw Error(B(280));var t=e.stateNode;t&&(t=Rf(t),Gg(e.stateNode,e.type,t))}}function WT(e){Qo?Zo?Zo.push(e):Zo=[e]:Qo=e}function HT(){if(Qo){var e=Qo,t=Zo;if(Zo=Qo=null,gx(e),t)for(e=0;e<t.length;e++)gx(t[e])}}function qT(e,t){return e(t)}function GT(){}var ym=!1;function KT(e,t,n){if(ym)return e(t,n);ym=!0;try{return qT(e,t,n)}finally{ym=!1,(Qo!==null||Zo!==null)&&(GT(),HT())}}function vc(e,t){var n=e.stateNode;if(n===null)return null;var r=Rf(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(B(231,t,typeof n));return n}var Kg=!1;if(ni)try{var dl={};Object.defineProperty(dl,"passive",{get:function(){Kg=!0}}),window.addEventListener("test",dl,dl),window.removeEventListener("test",dl,dl)}catch{Kg=!1}function ZO(e,t,n,r,i,s,o,a,l){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(d){this.onError(d)}}var Bl=!1,ph=null,mh=!1,Yg=null,eM={onError:function(e){Bl=!0,ph=e}};function tM(e,t,n,r,i,s,o,a,l){Bl=!1,ph=null,ZO.apply(eM,arguments)}function nM(e,t,n,r,i,s,o,a,l){if(tM.apply(this,arguments),Bl){if(Bl){var c=ph;Bl=!1,ph=null}else throw Error(B(198));mh||(mh=!0,Yg=c)}}function co(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function YT(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function yx(e){if(co(e)!==e)throw Error(B(188))}function rM(e){var t=e.alternate;if(!t){if(t=co(e),t===null)throw Error(B(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return yx(i),e;if(s===r)return yx(i),t;s=s.sibling}throw Error(B(188))}if(n.return!==r.return)n=i,r=s;else{for(var o=!1,a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o)throw Error(B(189))}}if(n.alternate!==r)throw Error(B(190))}if(n.tag!==3)throw Error(B(188));return n.stateNode.current===n?e:t}function XT(e){return e=rM(e),e!==null?JT(e):null}function JT(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=JT(e);if(t!==null)return t;e=e.sibling}return null}var QT=_n.unstable_scheduleCallback,vx=_n.unstable_cancelCallback,iM=_n.unstable_shouldYield,sM=_n.unstable_requestPaint,et=_n.unstable_now,oM=_n.unstable_getCurrentPriorityLevel,ov=_n.unstable_ImmediatePriority,ZT=_n.unstable_UserBlockingPriority,gh=_n.unstable_NormalPriority,aM=_n.unstable_LowPriority,ek=_n.unstable_IdlePriority,Tf=null,Cr=null;function lM(e){if(Cr&&typeof Cr.onCommitFiberRoot=="function")try{Cr.onCommitFiberRoot(Tf,e,void 0,(e.current.flags&128)===128)}catch{}}var rr=Math.clz32?Math.clz32:dM,cM=Math.log,uM=Math.LN2;function dM(e){return e>>>=0,e===0?32:31-(cM(e)/uM|0)|0}var nd=64,rd=4194304;function Rl(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function yh(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,i=e.suspendedLanes,s=e.pingedLanes,o=n&268435455;if(o!==0){var a=o&~i;a!==0?r=Rl(a):(s&=o,s!==0&&(r=Rl(s)))}else o=n&~i,o!==0?r=Rl(o):s!==0&&(r=Rl(s));if(r===0)return 0;if(t!==0&&t!==r&&!(t&i)&&(i=r&-r,s=t&-t,i>=s||i===16&&(s&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-rr(t),i=1<<n,r|=e[n],t&=~i;return r}function hM(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function fM(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,s=e.pendingLanes;0<s;){var o=31-rr(s),a=1<<o,l=i[o];l===-1?(!(a&n)||a&r)&&(i[o]=hM(a,t)):l<=t&&(e.expiredLanes|=a),s&=~a}}function Xg(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function tk(){var e=nd;return nd<<=1,!(nd&4194240)&&(nd=64),e}function vm(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function au(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-rr(t),e[t]=n}function pM(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-rr(n),s=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~s}}function av(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-rr(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var xe=0;function nk(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var rk,lv,ik,sk,ok,Jg=!1,id=[],Ui=null,Bi=null,zi=null,wc=new Map,_c=new Map,Pi=[],mM="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function wx(e,t){switch(e){case"focusin":case"focusout":Ui=null;break;case"dragenter":case"dragleave":Bi=null;break;case"mouseover":case"mouseout":zi=null;break;case"pointerover":case"pointerout":wc.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":_c.delete(t.pointerId)}}function hl(e,t,n,r,i,s){return e===null||e.nativeEvent!==s?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},t!==null&&(t=cu(t),t!==null&&lv(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),e)}function gM(e,t,n,r,i){switch(t){case"focusin":return Ui=hl(Ui,e,t,n,r,i),!0;case"dragenter":return Bi=hl(Bi,e,t,n,r,i),!0;case"mouseover":return zi=hl(zi,e,t,n,r,i),!0;case"pointerover":var s=i.pointerId;return wc.set(s,hl(wc.get(s)||null,e,t,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,_c.set(s,hl(_c.get(s)||null,e,t,n,r,i)),!0}return!1}function ak(e){var t=Ns(e.target);if(t!==null){var n=co(t);if(n!==null){if(t=n.tag,t===13){if(t=YT(n),t!==null){e.blockedOn=t,ok(e.priority,function(){ik(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function jd(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=Qg(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);qg=r,n.target.dispatchEvent(r),qg=null}else return t=cu(n),t!==null&&lv(t),e.blockedOn=n,!1;t.shift()}return!0}function _x(e,t,n){jd(e)&&n.delete(t)}function yM(){Jg=!1,Ui!==null&&jd(Ui)&&(Ui=null),Bi!==null&&jd(Bi)&&(Bi=null),zi!==null&&jd(zi)&&(zi=null),wc.forEach(_x),_c.forEach(_x)}function fl(e,t){e.blockedOn===t&&(e.blockedOn=null,Jg||(Jg=!0,_n.unstable_scheduleCallback(_n.unstable_NormalPriority,yM)))}function xc(e){function t(i){return fl(i,e)}if(0<id.length){fl(id[0],e);for(var n=1;n<id.length;n++){var r=id[n];r.blockedOn===e&&(r.blockedOn=null)}}for(Ui!==null&&fl(Ui,e),Bi!==null&&fl(Bi,e),zi!==null&&fl(zi,e),wc.forEach(t),_c.forEach(t),n=0;n<Pi.length;n++)r=Pi[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<Pi.length&&(n=Pi[0],n.blockedOn===null);)ak(n),n.blockedOn===null&&Pi.shift()}var ea=pi.ReactCurrentBatchConfig,vh=!0;function vM(e,t,n,r){var i=xe,s=ea.transition;ea.transition=null;try{xe=1,cv(e,t,n,r)}finally{xe=i,ea.transition=s}}function wM(e,t,n,r){var i=xe,s=ea.transition;ea.transition=null;try{xe=4,cv(e,t,n,r)}finally{xe=i,ea.transition=s}}function cv(e,t,n,r){if(vh){var i=Qg(e,t,n,r);if(i===null)Im(e,t,r,wh,n),wx(e,r);else if(gM(i,e,t,n,r))r.stopPropagation();else if(wx(e,r),t&4&&-1<mM.indexOf(e)){for(;i!==null;){var s=cu(i);if(s!==null&&rk(s),s=Qg(e,t,n,r),s===null&&Im(e,t,r,wh,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else Im(e,t,r,null,n)}}var wh=null;function Qg(e,t,n,r){if(wh=null,e=sv(r),e=Ns(e),e!==null)if(t=co(e),t===null)e=null;else if(n=t.tag,n===13){if(e=YT(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return wh=e,null}function lk(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(oM()){case ov:return 1;case ZT:return 4;case gh:case aM:return 16;case ek:return 536870912;default:return 16}default:return 16}}var Li=null,uv=null,Fd=null;function ck(){if(Fd)return Fd;var e,t=uv,n=t.length,r,i="value"in Li?Li.value:Li.textContent,s=i.length;for(e=0;e<n&&t[e]===i[e];e++);var o=n-e;for(r=1;r<=o&&t[n-r]===i[s-r];r++);return Fd=i.slice(e,1<r?1-r:void 0)}function $d(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function sd(){return!0}function xx(){return!1}function bn(e){function t(n,r,i,s,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in e)e.hasOwnProperty(a)&&(n=e[a],this[a]=n?n(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?sd:xx,this.isPropagationStopped=xx,this}return ze(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=sd)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=sd)},persist:function(){},isPersistent:sd}),t}var Oa={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},dv=bn(Oa),lu=ze({},Oa,{view:0,detail:0}),_M=bn(lu),wm,_m,pl,kf=ze({},lu,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:hv,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==pl&&(pl&&e.type==="mousemove"?(wm=e.screenX-pl.screenX,_m=e.screenY-pl.screenY):_m=wm=0,pl=e),wm)},movementY:function(e){return"movementY"in e?e.movementY:_m}}),Ex=bn(kf),xM=ze({},kf,{dataTransfer:0}),EM=bn(xM),bM=ze({},lu,{relatedTarget:0}),xm=bn(bM),CM=ze({},Oa,{animationName:0,elapsedTime:0,pseudoElement:0}),SM=bn(CM),TM=ze({},Oa,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),kM=bn(TM),IM=ze({},Oa,{data:0}),bx=bn(IM),PM={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},RM={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},AM={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function NM(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=AM[e])?!!t[e]:!1}function hv(){return NM}var DM=ze({},lu,{key:function(e){if(e.key){var t=PM[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=$d(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?RM[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:hv,charCode:function(e){return e.type==="keypress"?$d(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?$d(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),OM=bn(DM),MM=ze({},kf,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Cx=bn(MM),LM=ze({},lu,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:hv}),jM=bn(LM),FM=ze({},Oa,{propertyName:0,elapsedTime:0,pseudoElement:0}),$M=bn(FM),VM=ze({},kf,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),UM=bn(VM),BM=[9,13,27,32],fv=ni&&"CompositionEvent"in window,zl=null;ni&&"documentMode"in document&&(zl=document.documentMode);var zM=ni&&"TextEvent"in window&&!zl,uk=ni&&(!fv||zl&&8<zl&&11>=zl),Sx=String.fromCharCode(32),Tx=!1;function dk(e,t){switch(e){case"keyup":return BM.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function hk(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Mo=!1;function WM(e,t){switch(e){case"compositionend":return hk(t);case"keypress":return t.which!==32?null:(Tx=!0,Sx);case"textInput":return e=t.data,e===Sx&&Tx?null:e;default:return null}}function HM(e,t){if(Mo)return e==="compositionend"||!fv&&dk(e,t)?(e=ck(),Fd=uv=Li=null,Mo=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return uk&&t.locale!=="ko"?null:t.data;default:return null}}var qM={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function kx(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!qM[e.type]:t==="textarea"}function fk(e,t,n,r){WT(r),t=_h(t,"onChange"),0<t.length&&(n=new dv("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Wl=null,Ec=null;function GM(e){Ck(e,0)}function If(e){var t=Fo(e);if(jT(t))return e}function KM(e,t){if(e==="change")return t}var pk=!1;if(ni){var Em;if(ni){var bm="oninput"in document;if(!bm){var Ix=document.createElement("div");Ix.setAttribute("oninput","return;"),bm=typeof Ix.oninput=="function"}Em=bm}else Em=!1;pk=Em&&(!document.documentMode||9<document.documentMode)}function Px(){Wl&&(Wl.detachEvent("onpropertychange",mk),Ec=Wl=null)}function mk(e){if(e.propertyName==="value"&&If(Ec)){var t=[];fk(t,Ec,e,sv(e)),KT(GM,t)}}function YM(e,t,n){e==="focusin"?(Px(),Wl=t,Ec=n,Wl.attachEvent("onpropertychange",mk)):e==="focusout"&&Px()}function XM(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return If(Ec)}function JM(e,t){if(e==="click")return If(t)}function QM(e,t){if(e==="input"||e==="change")return If(t)}function ZM(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var lr=typeof Object.is=="function"?Object.is:ZM;function bc(e,t){if(lr(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!Og.call(t,i)||!lr(e[i],t[i]))return!1}return!0}function Rx(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Ax(e,t){var n=Rx(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Rx(n)}}function gk(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?gk(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function yk(){for(var e=window,t=fh();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=fh(e.document)}return t}function pv(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function e4(e){var t=yk(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&gk(n.ownerDocument.documentElement,n)){if(r!==null&&pv(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!e.extend&&s>r&&(i=r,r=s,s=i),i=Ax(n,s);var o=Ax(n,r);i&&o&&(e.rangeCount!==1||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(i.node,i.offset),e.removeAllRanges(),s>r?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var t4=ni&&"documentMode"in document&&11>=document.documentMode,Lo=null,Zg=null,Hl=null,ey=!1;function Nx(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;ey||Lo==null||Lo!==fh(r)||(r=Lo,"selectionStart"in r&&pv(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Hl&&bc(Hl,r)||(Hl=r,r=_h(Zg,"onSelect"),0<r.length&&(t=new dv("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=Lo)))}function od(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var jo={animationend:od("Animation","AnimationEnd"),animationiteration:od("Animation","AnimationIteration"),animationstart:od("Animation","AnimationStart"),transitionend:od("Transition","TransitionEnd")},Cm={},vk={};ni&&(vk=document.createElement("div").style,"AnimationEvent"in window||(delete jo.animationend.animation,delete jo.animationiteration.animation,delete jo.animationstart.animation),"TransitionEvent"in window||delete jo.transitionend.transition);function Pf(e){if(Cm[e])return Cm[e];if(!jo[e])return e;var t=jo[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in vk)return Cm[e]=t[n];return e}var wk=Pf("animationend"),_k=Pf("animationiteration"),xk=Pf("animationstart"),Ek=Pf("transitionend"),bk=new Map,Dx="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ls(e,t){bk.set(e,t),lo(t,[e])}for(var Sm=0;Sm<Dx.length;Sm++){var Tm=Dx[Sm],n4=Tm.toLowerCase(),r4=Tm[0].toUpperCase()+Tm.slice(1);ls(n4,"on"+r4)}ls(wk,"onAnimationEnd");ls(_k,"onAnimationIteration");ls(xk,"onAnimationStart");ls("dblclick","onDoubleClick");ls("focusin","onFocus");ls("focusout","onBlur");ls(Ek,"onTransitionEnd");da("onMouseEnter",["mouseout","mouseover"]);da("onMouseLeave",["mouseout","mouseover"]);da("onPointerEnter",["pointerout","pointerover"]);da("onPointerLeave",["pointerout","pointerover"]);lo("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));lo("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));lo("onBeforeInput",["compositionend","keypress","textInput","paste"]);lo("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));lo("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));lo("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Al="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),i4=new Set("cancel close invalid load scroll toggle".split(" ").concat(Al));function Ox(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,nM(r,t,void 0,e),e.currentTarget=null}function Ck(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var s=void 0;if(t)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==s&&i.isPropagationStopped())break e;Ox(i,a,c),s=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,c=a.currentTarget,a=a.listener,l!==s&&i.isPropagationStopped())break e;Ox(i,a,c),s=l}}}if(mh)throw e=Yg,mh=!1,Yg=null,e}function Ne(e,t){var n=t[sy];n===void 0&&(n=t[sy]=new Set);var r=e+"__bubble";n.has(r)||(Sk(t,e,2,!1),n.add(r))}function km(e,t,n){var r=0;t&&(r|=4),Sk(n,e,r,t)}var ad="_reactListening"+Math.random().toString(36).slice(2);function Cc(e){if(!e[ad]){e[ad]=!0,NT.forEach(function(n){n!=="selectionchange"&&(i4.has(n)||km(n,!1,e),km(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[ad]||(t[ad]=!0,km("selectionchange",!1,t))}}function Sk(e,t,n,r){switch(lk(t)){case 1:var i=vM;break;case 4:i=wM;break;default:i=cv}n=i.bind(null,t,n,e),i=void 0,!Kg||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(i=!0),r?i!==void 0?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):i!==void 0?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Im(e,t,n,r,i){var s=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;o=o.return}for(;a!==null;){if(o=Ns(a),o===null)return;if(l=o.tag,l===5||l===6){r=s=o;continue e}a=a.parentNode}}r=r.return}KT(function(){var c=s,d=sv(n),h=[];e:{var f=bk.get(e);if(f!==void 0){var g=dv,v=e;switch(e){case"keypress":if($d(n)===0)break e;case"keydown":case"keyup":g=OM;break;case"focusin":v="focus",g=xm;break;case"focusout":v="blur",g=xm;break;case"beforeblur":case"afterblur":g=xm;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":g=Ex;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":g=EM;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":g=jM;break;case wk:case _k:case xk:g=SM;break;case Ek:g=$M;break;case"scroll":g=_M;break;case"wheel":g=UM;break;case"copy":case"cut":case"paste":g=kM;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":g=Cx}var S=(t&4)!==0,k=!S&&e==="scroll",_=S?f!==null?f+"Capture":null:f;S=[];for(var b=c,E;b!==null;){E=b;var R=E.stateNode;if(E.tag===5&&R!==null&&(E=R,_!==null&&(R=vc(b,_),R!=null&&S.push(Sc(b,R,E)))),k)break;b=b.return}0<S.length&&(f=new g(f,v,null,n,d),h.push({event:f,listeners:S}))}}if(!(t&7)){e:{if(f=e==="mouseover"||e==="pointerover",g=e==="mouseout"||e==="pointerout",f&&n!==qg&&(v=n.relatedTarget||n.fromElement)&&(Ns(v)||v[ri]))break e;if((g||f)&&(f=d.window===d?d:(f=d.ownerDocument)?f.defaultView||f.parentWindow:window,g?(v=n.relatedTarget||n.toElement,g=c,v=v?Ns(v):null,v!==null&&(k=co(v),v!==k||v.tag!==5&&v.tag!==6)&&(v=null)):(g=null,v=c),g!==v)){if(S=Ex,R="onMouseLeave",_="onMouseEnter",b="mouse",(e==="pointerout"||e==="pointerover")&&(S=Cx,R="onPointerLeave",_="onPointerEnter",b="pointer"),k=g==null?f:Fo(g),E=v==null?f:Fo(v),f=new S(R,b+"leave",g,n,d),f.target=k,f.relatedTarget=E,R=null,Ns(d)===c&&(S=new S(_,b+"enter",v,n,d),S.target=E,S.relatedTarget=k,R=S),k=R,g&&v)t:{for(S=g,_=v,b=0,E=S;E;E=Co(E))b++;for(E=0,R=_;R;R=Co(R))E++;for(;0<b-E;)S=Co(S),b--;for(;0<E-b;)_=Co(_),E--;for(;b--;){if(S===_||_!==null&&S===_.alternate)break t;S=Co(S),_=Co(_)}S=null}else S=null;g!==null&&Mx(h,f,g,S,!1),v!==null&&k!==null&&Mx(h,k,v,S,!0)}}e:{if(f=c?Fo(c):window,g=f.nodeName&&f.nodeName.toLowerCase(),g==="select"||g==="input"&&f.type==="file")var D=KM;else if(kx(f))if(pk)D=QM;else{D=XM;var M=YM}else(g=f.nodeName)&&g.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(D=JM);if(D&&(D=D(e,c))){fk(h,D,n,d);break e}M&&M(e,f,c),e==="focusout"&&(M=f._wrapperState)&&M.controlled&&f.type==="number"&&Ug(f,"number",f.value)}switch(M=c?Fo(c):window,e){case"focusin":(kx(M)||M.contentEditable==="true")&&(Lo=M,Zg=c,Hl=null);break;case"focusout":Hl=Zg=Lo=null;break;case"mousedown":ey=!0;break;case"contextmenu":case"mouseup":case"dragend":ey=!1,Nx(h,n,d);break;case"selectionchange":if(t4)break;case"keydown":case"keyup":Nx(h,n,d)}var T;if(fv)e:{switch(e){case"compositionstart":var C="onCompositionStart";break e;case"compositionend":C="onCompositionEnd";break e;case"compositionupdate":C="onCompositionUpdate";break e}C=void 0}else Mo?dk(e,n)&&(C="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(C="onCompositionStart");C&&(uk&&n.locale!=="ko"&&(Mo||C!=="onCompositionStart"?C==="onCompositionEnd"&&Mo&&(T=ck()):(Li=d,uv="value"in Li?Li.value:Li.textContent,Mo=!0)),M=_h(c,C),0<M.length&&(C=new bx(C,e,null,n,d),h.push({event:C,listeners:M}),T?C.data=T:(T=hk(n),T!==null&&(C.data=T)))),(T=zM?WM(e,n):HM(e,n))&&(c=_h(c,"onBeforeInput"),0<c.length&&(d=new bx("onBeforeInput","beforeinput",null,n,d),h.push({event:d,listeners:c}),d.data=T))}Ck(h,t)})}function Sc(e,t,n){return{instance:e,listener:t,currentTarget:n}}function _h(e,t){for(var n=t+"Capture",r=[];e!==null;){var i=e,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=vc(e,n),s!=null&&r.unshift(Sc(e,s,i)),s=vc(e,t),s!=null&&r.push(Sc(e,s,i))),e=e.return}return r}function Co(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Mx(e,t,n,r,i){for(var s=t._reactName,o=[];n!==null&&n!==r;){var a=n,l=a.alternate,c=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&c!==null&&(a=c,i?(l=vc(n,s),l!=null&&o.unshift(Sc(n,l,a))):i||(l=vc(n,s),l!=null&&o.push(Sc(n,l,a)))),n=n.return}o.length!==0&&e.push({event:t,listeners:o})}var s4=/\r\n?/g,o4=/\u0000|\uFFFD/g;function Lx(e){return(typeof e=="string"?e:""+e).replace(s4,`
`).replace(o4,"")}function ld(e,t,n){if(t=Lx(t),Lx(e)!==t&&n)throw Error(B(425))}function xh(){}var ty=null,ny=null;function ry(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var iy=typeof setTimeout=="function"?setTimeout:void 0,a4=typeof clearTimeout=="function"?clearTimeout:void 0,jx=typeof Promise=="function"?Promise:void 0,l4=typeof queueMicrotask=="function"?queueMicrotask:typeof jx<"u"?function(e){return jx.resolve(null).then(e).catch(c4)}:iy;function c4(e){setTimeout(function(){throw e})}function Pm(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){e.removeChild(i),xc(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);xc(t)}function Wi(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Fx(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var Ma=Math.random().toString(36).slice(2),xr="__reactFiber$"+Ma,Tc="__reactProps$"+Ma,ri="__reactContainer$"+Ma,sy="__reactEvents$"+Ma,u4="__reactListeners$"+Ma,d4="__reactHandles$"+Ma;function Ns(e){var t=e[xr];if(t)return t;for(var n=e.parentNode;n;){if(t=n[ri]||n[xr]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=Fx(e);e!==null;){if(n=e[xr])return n;e=Fx(e)}return t}e=n,n=e.parentNode}return null}function cu(e){return e=e[xr]||e[ri],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Fo(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(B(33))}function Rf(e){return e[Tc]||null}var oy=[],$o=-1;function cs(e){return{current:e}}function De(e){0>$o||(e.current=oy[$o],oy[$o]=null,$o--)}function Re(e,t){$o++,oy[$o]=e.current,e.current=t}var es={},Ft=cs(es),on=cs(!1),Gs=es;function ha(e,t){var n=e.type.contextTypes;if(!n)return es;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=t[s];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function an(e){return e=e.childContextTypes,e!=null}function Eh(){De(on),De(Ft)}function $x(e,t,n){if(Ft.current!==es)throw Error(B(168));Re(Ft,t),Re(on,n)}function Tk(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in t))throw Error(B(108,YO(e)||"Unknown",i));return ze({},n,r)}function bh(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||es,Gs=Ft.current,Re(Ft,e),Re(on,on.current),!0}function Vx(e,t,n){var r=e.stateNode;if(!r)throw Error(B(169));n?(e=Tk(e,t,Gs),r.__reactInternalMemoizedMergedChildContext=e,De(on),De(Ft),Re(Ft,e)):De(on),Re(on,n)}var zr=null,Af=!1,Rm=!1;function kk(e){zr===null?zr=[e]:zr.push(e)}function h4(e){Af=!0,kk(e)}function us(){if(!Rm&&zr!==null){Rm=!0;var e=0,t=xe;try{var n=zr;for(xe=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}zr=null,Af=!1}catch(i){throw zr!==null&&(zr=zr.slice(e+1)),QT(ov,us),i}finally{xe=t,Rm=!1}}return null}var Vo=[],Uo=0,Ch=null,Sh=0,In=[],Pn=0,Ks=null,Hr=1,qr="";function Es(e,t){Vo[Uo++]=Sh,Vo[Uo++]=Ch,Ch=e,Sh=t}function Ik(e,t,n){In[Pn++]=Hr,In[Pn++]=qr,In[Pn++]=Ks,Ks=e;var r=Hr;e=qr;var i=32-rr(r)-1;r&=~(1<<i),n+=1;var s=32-rr(t)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,Hr=1<<32-rr(t)+i|n<<i|r,qr=s+e}else Hr=1<<s|n<<i|r,qr=e}function mv(e){e.return!==null&&(Es(e,1),Ik(e,1,0))}function gv(e){for(;e===Ch;)Ch=Vo[--Uo],Vo[Uo]=null,Sh=Vo[--Uo],Vo[Uo]=null;for(;e===Ks;)Ks=In[--Pn],In[Pn]=null,qr=In[--Pn],In[Pn]=null,Hr=In[--Pn],In[Pn]=null}var yn=null,gn=null,Me=!1,Xn=null;function Pk(e,t){var n=An(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function Ux(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,yn=e,gn=Wi(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,yn=e,gn=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=Ks!==null?{id:Hr,overflow:qr}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=An(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,yn=e,gn=null,!0):!1;default:return!1}}function ay(e){return(e.mode&1)!==0&&(e.flags&128)===0}function ly(e){if(Me){var t=gn;if(t){var n=t;if(!Ux(e,t)){if(ay(e))throw Error(B(418));t=Wi(n.nextSibling);var r=yn;t&&Ux(e,t)?Pk(r,n):(e.flags=e.flags&-4097|2,Me=!1,yn=e)}}else{if(ay(e))throw Error(B(418));e.flags=e.flags&-4097|2,Me=!1,yn=e}}}function Bx(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;yn=e}function cd(e){if(e!==yn)return!1;if(!Me)return Bx(e),Me=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!ry(e.type,e.memoizedProps)),t&&(t=gn)){if(ay(e))throw Rk(),Error(B(418));for(;t;)Pk(e,t),t=Wi(t.nextSibling)}if(Bx(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(B(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){gn=Wi(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}gn=null}}else gn=yn?Wi(e.stateNode.nextSibling):null;return!0}function Rk(){for(var e=gn;e;)e=Wi(e.nextSibling)}function fa(){gn=yn=null,Me=!1}function yv(e){Xn===null?Xn=[e]:Xn.push(e)}var f4=pi.ReactCurrentBatchConfig;function ml(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(B(309));var r=n.stateNode}if(!r)throw Error(B(147,e));var i=r,s=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===s?t.ref:(t=function(o){var a=i.refs;o===null?delete a[s]:a[s]=o},t._stringRef=s,t)}if(typeof e!="string")throw Error(B(284));if(!n._owner)throw Error(B(290,e))}return e}function ud(e,t){throw e=Object.prototype.toString.call(t),Error(B(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function zx(e){var t=e._init;return t(e._payload)}function Ak(e){function t(_,b){if(e){var E=_.deletions;E===null?(_.deletions=[b],_.flags|=16):E.push(b)}}function n(_,b){if(!e)return null;for(;b!==null;)t(_,b),b=b.sibling;return null}function r(_,b){for(_=new Map;b!==null;)b.key!==null?_.set(b.key,b):_.set(b.index,b),b=b.sibling;return _}function i(_,b){return _=Ki(_,b),_.index=0,_.sibling=null,_}function s(_,b,E){return _.index=E,e?(E=_.alternate,E!==null?(E=E.index,E<b?(_.flags|=2,b):E):(_.flags|=2,b)):(_.flags|=1048576,b)}function o(_){return e&&_.alternate===null&&(_.flags|=2),_}function a(_,b,E,R){return b===null||b.tag!==6?(b=jm(E,_.mode,R),b.return=_,b):(b=i(b,E),b.return=_,b)}function l(_,b,E,R){var D=E.type;return D===Oo?d(_,b,E.props.children,R,E.key):b!==null&&(b.elementType===D||typeof D=="object"&&D!==null&&D.$$typeof===Ti&&zx(D)===b.type)?(R=i(b,E.props),R.ref=ml(_,b,E),R.return=_,R):(R=qd(E.type,E.key,E.props,null,_.mode,R),R.ref=ml(_,b,E),R.return=_,R)}function c(_,b,E,R){return b===null||b.tag!==4||b.stateNode.containerInfo!==E.containerInfo||b.stateNode.implementation!==E.implementation?(b=Fm(E,_.mode,R),b.return=_,b):(b=i(b,E.children||[]),b.return=_,b)}function d(_,b,E,R,D){return b===null||b.tag!==7?(b=Bs(E,_.mode,R,D),b.return=_,b):(b=i(b,E),b.return=_,b)}function h(_,b,E){if(typeof b=="string"&&b!==""||typeof b=="number")return b=jm(""+b,_.mode,E),b.return=_,b;if(typeof b=="object"&&b!==null){switch(b.$$typeof){case Zu:return E=qd(b.type,b.key,b.props,null,_.mode,E),E.ref=ml(_,null,b),E.return=_,E;case Do:return b=Fm(b,_.mode,E),b.return=_,b;case Ti:var R=b._init;return h(_,R(b._payload),E)}if(Pl(b)||ul(b))return b=Bs(b,_.mode,E,null),b.return=_,b;ud(_,b)}return null}function f(_,b,E,R){var D=b!==null?b.key:null;if(typeof E=="string"&&E!==""||typeof E=="number")return D!==null?null:a(_,b,""+E,R);if(typeof E=="object"&&E!==null){switch(E.$$typeof){case Zu:return E.key===D?l(_,b,E,R):null;case Do:return E.key===D?c(_,b,E,R):null;case Ti:return D=E._init,f(_,b,D(E._payload),R)}if(Pl(E)||ul(E))return D!==null?null:d(_,b,E,R,null);ud(_,E)}return null}function g(_,b,E,R,D){if(typeof R=="string"&&R!==""||typeof R=="number")return _=_.get(E)||null,a(b,_,""+R,D);if(typeof R=="object"&&R!==null){switch(R.$$typeof){case Zu:return _=_.get(R.key===null?E:R.key)||null,l(b,_,R,D);case Do:return _=_.get(R.key===null?E:R.key)||null,c(b,_,R,D);case Ti:var M=R._init;return g(_,b,E,M(R._payload),D)}if(Pl(R)||ul(R))return _=_.get(E)||null,d(b,_,R,D,null);ud(b,R)}return null}function v(_,b,E,R){for(var D=null,M=null,T=b,C=b=0,I=null;T!==null&&C<E.length;C++){T.index>C?(I=T,T=null):I=T.sibling;var y=f(_,T,E[C],R);if(y===null){T===null&&(T=I);break}e&&T&&y.alternate===null&&t(_,T),b=s(y,b,C),M===null?D=y:M.sibling=y,M=y,T=I}if(C===E.length)return n(_,T),Me&&Es(_,C),D;if(T===null){for(;C<E.length;C++)T=h(_,E[C],R),T!==null&&(b=s(T,b,C),M===null?D=T:M.sibling=T,M=T);return Me&&Es(_,C),D}for(T=r(_,T);C<E.length;C++)I=g(T,_,C,E[C],R),I!==null&&(e&&I.alternate!==null&&T.delete(I.key===null?C:I.key),b=s(I,b,C),M===null?D=I:M.sibling=I,M=I);return e&&T.forEach(function(N){return t(_,N)}),Me&&Es(_,C),D}function S(_,b,E,R){var D=ul(E);if(typeof D!="function")throw Error(B(150));if(E=D.call(E),E==null)throw Error(B(151));for(var M=D=null,T=b,C=b=0,I=null,y=E.next();T!==null&&!y.done;C++,y=E.next()){T.index>C?(I=T,T=null):I=T.sibling;var N=f(_,T,y.value,R);if(N===null){T===null&&(T=I);break}e&&T&&N.alternate===null&&t(_,T),b=s(N,b,C),M===null?D=N:M.sibling=N,M=N,T=I}if(y.done)return n(_,T),Me&&Es(_,C),D;if(T===null){for(;!y.done;C++,y=E.next())y=h(_,y.value,R),y!==null&&(b=s(y,b,C),M===null?D=y:M.sibling=y,M=y);return Me&&Es(_,C),D}for(T=r(_,T);!y.done;C++,y=E.next())y=g(T,_,C,y.value,R),y!==null&&(e&&y.alternate!==null&&T.delete(y.key===null?C:y.key),b=s(y,b,C),M===null?D=y:M.sibling=y,M=y);return e&&T.forEach(function(O){return t(_,O)}),Me&&Es(_,C),D}function k(_,b,E,R){if(typeof E=="object"&&E!==null&&E.type===Oo&&E.key===null&&(E=E.props.children),typeof E=="object"&&E!==null){switch(E.$$typeof){case Zu:e:{for(var D=E.key,M=b;M!==null;){if(M.key===D){if(D=E.type,D===Oo){if(M.tag===7){n(_,M.sibling),b=i(M,E.props.children),b.return=_,_=b;break e}}else if(M.elementType===D||typeof D=="object"&&D!==null&&D.$$typeof===Ti&&zx(D)===M.type){n(_,M.sibling),b=i(M,E.props),b.ref=ml(_,M,E),b.return=_,_=b;break e}n(_,M);break}else t(_,M);M=M.sibling}E.type===Oo?(b=Bs(E.props.children,_.mode,R,E.key),b.return=_,_=b):(R=qd(E.type,E.key,E.props,null,_.mode,R),R.ref=ml(_,b,E),R.return=_,_=R)}return o(_);case Do:e:{for(M=E.key;b!==null;){if(b.key===M)if(b.tag===4&&b.stateNode.containerInfo===E.containerInfo&&b.stateNode.implementation===E.implementation){n(_,b.sibling),b=i(b,E.children||[]),b.return=_,_=b;break e}else{n(_,b);break}else t(_,b);b=b.sibling}b=Fm(E,_.mode,R),b.return=_,_=b}return o(_);case Ti:return M=E._init,k(_,b,M(E._payload),R)}if(Pl(E))return v(_,b,E,R);if(ul(E))return S(_,b,E,R);ud(_,E)}return typeof E=="string"&&E!==""||typeof E=="number"?(E=""+E,b!==null&&b.tag===6?(n(_,b.sibling),b=i(b,E),b.return=_,_=b):(n(_,b),b=jm(E,_.mode,R),b.return=_,_=b),o(_)):n(_,b)}return k}var pa=Ak(!0),Nk=Ak(!1),Th=cs(null),kh=null,Bo=null,vv=null;function wv(){vv=Bo=kh=null}function _v(e){var t=Th.current;De(Th),e._currentValue=t}function cy(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function ta(e,t){kh=e,vv=Bo=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(nn=!0),e.firstContext=null)}function Mn(e){var t=e._currentValue;if(vv!==e)if(e={context:e,memoizedValue:t,next:null},Bo===null){if(kh===null)throw Error(B(308));Bo=e,kh.dependencies={lanes:0,firstContext:e}}else Bo=Bo.next=e;return t}var Ds=null;function xv(e){Ds===null?Ds=[e]:Ds.push(e)}function Dk(e,t,n,r){var i=t.interleaved;return i===null?(n.next=n,xv(t)):(n.next=i.next,i.next=n),t.interleaved=n,ii(e,r)}function ii(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var ki=!1;function Ev(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Ok(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Xr(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Hi(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,me&2){var i=r.pending;return i===null?t.next=t:(t.next=i.next,i.next=t),r.pending=t,ii(e,n)}return i=r.interleaved,i===null?(t.next=t,xv(r)):(t.next=i.next,i.next=t),r.interleaved=t,ii(e,n)}function Vd(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,av(e,n)}}function Wx(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=o:s=s.next=o,n=n.next}while(n!==null);s===null?i=s=t:s=s.next=t}else i=s=t;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Ih(e,t,n,r){var i=e.updateQueue;ki=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var l=a,c=l.next;l.next=null,o===null?s=c:o.next=c,o=l;var d=e.alternate;d!==null&&(d=d.updateQueue,a=d.lastBaseUpdate,a!==o&&(a===null?d.firstBaseUpdate=c:a.next=c,d.lastBaseUpdate=l))}if(s!==null){var h=i.baseState;o=0,d=c=l=null,a=s;do{var f=a.lane,g=a.eventTime;if((r&f)===f){d!==null&&(d=d.next={eventTime:g,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var v=e,S=a;switch(f=t,g=n,S.tag){case 1:if(v=S.payload,typeof v=="function"){h=v.call(g,h,f);break e}h=v;break e;case 3:v.flags=v.flags&-65537|128;case 0:if(v=S.payload,f=typeof v=="function"?v.call(g,h,f):v,f==null)break e;h=ze({},h,f);break e;case 2:ki=!0}}a.callback!==null&&a.lane!==0&&(e.flags|=64,f=i.effects,f===null?i.effects=[a]:f.push(a))}else g={eventTime:g,lane:f,tag:a.tag,payload:a.payload,callback:a.callback,next:null},d===null?(c=d=g,l=h):d=d.next=g,o|=f;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;f=a,a=f.next,f.next=null,i.lastBaseUpdate=f,i.shared.pending=null}}while(1);if(d===null&&(l=h),i.baseState=l,i.firstBaseUpdate=c,i.lastBaseUpdate=d,t=i.shared.interleaved,t!==null){i=t;do o|=i.lane,i=i.next;while(i!==t)}else s===null&&(i.shared.lanes=0);Xs|=o,e.lanes=o,e.memoizedState=h}}function Hx(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(B(191,i));i.call(r)}}}var uu={},Sr=cs(uu),kc=cs(uu),Ic=cs(uu);function Os(e){if(e===uu)throw Error(B(174));return e}function bv(e,t){switch(Re(Ic,t),Re(kc,e),Re(Sr,uu),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:zg(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=zg(t,e)}De(Sr),Re(Sr,t)}function ma(){De(Sr),De(kc),De(Ic)}function Mk(e){Os(Ic.current);var t=Os(Sr.current),n=zg(t,e.type);t!==n&&(Re(kc,e),Re(Sr,n))}function Cv(e){kc.current===e&&(De(Sr),De(kc))}var $e=cs(0);function Ph(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Am=[];function Sv(){for(var e=0;e<Am.length;e++)Am[e]._workInProgressVersionPrimary=null;Am.length=0}var Ud=pi.ReactCurrentDispatcher,Nm=pi.ReactCurrentBatchConfig,Ys=0,Ue=null,st=null,ht=null,Rh=!1,ql=!1,Pc=0,p4=0;function Pt(){throw Error(B(321))}function Tv(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!lr(e[n],t[n]))return!1;return!0}function kv(e,t,n,r,i,s){if(Ys=s,Ue=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Ud.current=e===null||e.memoizedState===null?v4:w4,e=n(r,i),ql){s=0;do{if(ql=!1,Pc=0,25<=s)throw Error(B(301));s+=1,ht=st=null,t.updateQueue=null,Ud.current=_4,e=n(r,i)}while(ql)}if(Ud.current=Ah,t=st!==null&&st.next!==null,Ys=0,ht=st=Ue=null,Rh=!1,t)throw Error(B(300));return e}function Iv(){var e=Pc!==0;return Pc=0,e}function vr(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ht===null?Ue.memoizedState=ht=e:ht=ht.next=e,ht}function Ln(){if(st===null){var e=Ue.alternate;e=e!==null?e.memoizedState:null}else e=st.next;var t=ht===null?Ue.memoizedState:ht.next;if(t!==null)ht=t,st=e;else{if(e===null)throw Error(B(310));st=e,e={memoizedState:st.memoizedState,baseState:st.baseState,baseQueue:st.baseQueue,queue:st.queue,next:null},ht===null?Ue.memoizedState=ht=e:ht=ht.next=e}return ht}function Rc(e,t){return typeof t=="function"?t(e):t}function Dm(e){var t=Ln(),n=t.queue;if(n===null)throw Error(B(311));n.lastRenderedReducer=e;var r=st,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var a=o=null,l=null,c=s;do{var d=c.lane;if((Ys&d)===d)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:e(r,c.action);else{var h={lane:d,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(a=l=h,o=r):l=l.next=h,Ue.lanes|=d,Xs|=d}c=c.next}while(c!==null&&c!==s);l===null?o=r:l.next=a,lr(r,t.memoizedState)||(nn=!0),t.memoizedState=r,t.baseState=o,t.baseQueue=l,n.lastRenderedState=r}if(e=n.interleaved,e!==null){i=e;do s=i.lane,Ue.lanes|=s,Xs|=s,i=i.next;while(i!==e)}else i===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Om(e){var t=Ln(),n=t.queue;if(n===null)throw Error(B(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,s=t.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do s=e(s,o.action),o=o.next;while(o!==i);lr(s,t.memoizedState)||(nn=!0),t.memoizedState=s,t.baseQueue===null&&(t.baseState=s),n.lastRenderedState=s}return[s,r]}function Lk(){}function jk(e,t){var n=Ue,r=Ln(),i=t(),s=!lr(r.memoizedState,i);if(s&&(r.memoizedState=i,nn=!0),r=r.queue,Pv(Vk.bind(null,n,r,e),[e]),r.getSnapshot!==t||s||ht!==null&&ht.memoizedState.tag&1){if(n.flags|=2048,Ac(9,$k.bind(null,n,r,i,t),void 0,null),pt===null)throw Error(B(349));Ys&30||Fk(n,t,i)}return i}function Fk(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=Ue.updateQueue,t===null?(t={lastEffect:null,stores:null},Ue.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function $k(e,t,n,r){t.value=n,t.getSnapshot=r,Uk(t)&&Bk(e)}function Vk(e,t,n){return n(function(){Uk(t)&&Bk(e)})}function Uk(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!lr(e,n)}catch{return!0}}function Bk(e){var t=ii(e,1);t!==null&&ir(t,e,1,-1)}function qx(e){var t=vr();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Rc,lastRenderedState:e},t.queue=e,e=e.dispatch=y4.bind(null,Ue,e),[t.memoizedState,e]}function Ac(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=Ue.updateQueue,t===null?(t={lastEffect:null,stores:null},Ue.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function zk(){return Ln().memoizedState}function Bd(e,t,n,r){var i=vr();Ue.flags|=e,i.memoizedState=Ac(1|t,n,void 0,r===void 0?null:r)}function Nf(e,t,n,r){var i=Ln();r=r===void 0?null:r;var s=void 0;if(st!==null){var o=st.memoizedState;if(s=o.destroy,r!==null&&Tv(r,o.deps)){i.memoizedState=Ac(t,n,s,r);return}}Ue.flags|=e,i.memoizedState=Ac(1|t,n,s,r)}function Gx(e,t){return Bd(8390656,8,e,t)}function Pv(e,t){return Nf(2048,8,e,t)}function Wk(e,t){return Nf(4,2,e,t)}function Hk(e,t){return Nf(4,4,e,t)}function qk(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Gk(e,t,n){return n=n!=null?n.concat([e]):null,Nf(4,4,qk.bind(null,t,e),n)}function Rv(){}function Kk(e,t){var n=Ln();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Tv(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Yk(e,t){var n=Ln();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Tv(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Xk(e,t,n){return Ys&21?(lr(n,t)||(n=tk(),Ue.lanes|=n,Xs|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,nn=!0),e.memoizedState=n)}function m4(e,t){var n=xe;xe=n!==0&&4>n?n:4,e(!0);var r=Nm.transition;Nm.transition={};try{e(!1),t()}finally{xe=n,Nm.transition=r}}function Jk(){return Ln().memoizedState}function g4(e,t,n){var r=Gi(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Qk(e))Zk(t,n);else if(n=Dk(e,t,n,r),n!==null){var i=qt();ir(n,e,r,i),eI(n,t,r)}}function y4(e,t,n){var r=Gi(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Qk(e))Zk(t,i);else{var s=e.alternate;if(e.lanes===0&&(s===null||s.lanes===0)&&(s=t.lastRenderedReducer,s!==null))try{var o=t.lastRenderedState,a=s(o,n);if(i.hasEagerState=!0,i.eagerState=a,lr(a,o)){var l=t.interleaved;l===null?(i.next=i,xv(t)):(i.next=l.next,l.next=i),t.interleaved=i;return}}catch{}finally{}n=Dk(e,t,i,r),n!==null&&(i=qt(),ir(n,e,r,i),eI(n,t,r))}}function Qk(e){var t=e.alternate;return e===Ue||t!==null&&t===Ue}function Zk(e,t){ql=Rh=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function eI(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,av(e,n)}}var Ah={readContext:Mn,useCallback:Pt,useContext:Pt,useEffect:Pt,useImperativeHandle:Pt,useInsertionEffect:Pt,useLayoutEffect:Pt,useMemo:Pt,useReducer:Pt,useRef:Pt,useState:Pt,useDebugValue:Pt,useDeferredValue:Pt,useTransition:Pt,useMutableSource:Pt,useSyncExternalStore:Pt,useId:Pt,unstable_isNewReconciler:!1},v4={readContext:Mn,useCallback:function(e,t){return vr().memoizedState=[e,t===void 0?null:t],e},useContext:Mn,useEffect:Gx,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,Bd(4194308,4,qk.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Bd(4194308,4,e,t)},useInsertionEffect:function(e,t){return Bd(4,2,e,t)},useMemo:function(e,t){var n=vr();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=vr();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=g4.bind(null,Ue,e),[r.memoizedState,e]},useRef:function(e){var t=vr();return e={current:e},t.memoizedState=e},useState:qx,useDebugValue:Rv,useDeferredValue:function(e){return vr().memoizedState=e},useTransition:function(){var e=qx(!1),t=e[0];return e=m4.bind(null,e[1]),vr().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=Ue,i=vr();if(Me){if(n===void 0)throw Error(B(407));n=n()}else{if(n=t(),pt===null)throw Error(B(349));Ys&30||Fk(r,t,n)}i.memoizedState=n;var s={value:n,getSnapshot:t};return i.queue=s,Gx(Vk.bind(null,r,s,e),[e]),r.flags|=2048,Ac(9,$k.bind(null,r,s,n,t),void 0,null),n},useId:function(){var e=vr(),t=pt.identifierPrefix;if(Me){var n=qr,r=Hr;n=(r&~(1<<32-rr(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=Pc++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=p4++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},w4={readContext:Mn,useCallback:Kk,useContext:Mn,useEffect:Pv,useImperativeHandle:Gk,useInsertionEffect:Wk,useLayoutEffect:Hk,useMemo:Yk,useReducer:Dm,useRef:zk,useState:function(){return Dm(Rc)},useDebugValue:Rv,useDeferredValue:function(e){var t=Ln();return Xk(t,st.memoizedState,e)},useTransition:function(){var e=Dm(Rc)[0],t=Ln().memoizedState;return[e,t]},useMutableSource:Lk,useSyncExternalStore:jk,useId:Jk,unstable_isNewReconciler:!1},_4={readContext:Mn,useCallback:Kk,useContext:Mn,useEffect:Pv,useImperativeHandle:Gk,useInsertionEffect:Wk,useLayoutEffect:Hk,useMemo:Yk,useReducer:Om,useRef:zk,useState:function(){return Om(Rc)},useDebugValue:Rv,useDeferredValue:function(e){var t=Ln();return st===null?t.memoizedState=e:Xk(t,st.memoizedState,e)},useTransition:function(){var e=Om(Rc)[0],t=Ln().memoizedState;return[e,t]},useMutableSource:Lk,useSyncExternalStore:jk,useId:Jk,unstable_isNewReconciler:!1};function Gn(e,t){if(e&&e.defaultProps){t=ze({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function uy(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:ze({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var Df={isMounted:function(e){return(e=e._reactInternals)?co(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=qt(),i=Gi(e),s=Xr(r,i);s.payload=t,n!=null&&(s.callback=n),t=Hi(e,s,i),t!==null&&(ir(t,e,i,r),Vd(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=qt(),i=Gi(e),s=Xr(r,i);s.tag=1,s.payload=t,n!=null&&(s.callback=n),t=Hi(e,s,i),t!==null&&(ir(t,e,i,r),Vd(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=qt(),r=Gi(e),i=Xr(n,r);i.tag=2,t!=null&&(i.callback=t),t=Hi(e,i,r),t!==null&&(ir(t,e,r,n),Vd(t,e,r))}};function Kx(e,t,n,r,i,s,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,s,o):t.prototype&&t.prototype.isPureReactComponent?!bc(n,r)||!bc(i,s):!0}function tI(e,t,n){var r=!1,i=es,s=t.contextType;return typeof s=="object"&&s!==null?s=Mn(s):(i=an(t)?Gs:Ft.current,r=t.contextTypes,s=(r=r!=null)?ha(e,i):es),t=new t(n,s),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Df,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=s),t}function Yx(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Df.enqueueReplaceState(t,t.state,null)}function dy(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs={},Ev(e);var s=t.contextType;typeof s=="object"&&s!==null?i.context=Mn(s):(s=an(t)?Gs:Ft.current,i.context=ha(e,s)),i.state=e.memoizedState,s=t.getDerivedStateFromProps,typeof s=="function"&&(uy(e,t,s,n),i.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(t=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),t!==i.state&&Df.enqueueReplaceState(i,i.state,null),Ih(e,n,i,r),i.state=e.memoizedState),typeof i.componentDidMount=="function"&&(e.flags|=4194308)}function ga(e,t){try{var n="",r=t;do n+=KO(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:e,source:t,stack:i,digest:null}}function Mm(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function hy(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var x4=typeof WeakMap=="function"?WeakMap:Map;function nI(e,t,n){n=Xr(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Dh||(Dh=!0,Ey=r),hy(e,t)},n}function rI(e,t,n){n=Xr(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){hy(e,t)}}var s=e.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){hy(e,t),typeof r!="function"&&(qi===null?qi=new Set([this]):qi.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),n}function Xx(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new x4;var i=new Set;r.set(t,i)}else i=r.get(t),i===void 0&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=M4.bind(null,e,t,n),t.then(e,e))}function Jx(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Qx(e,t,n,r,i){return e.mode&1?(e.flags|=65536,e.lanes=i,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=Xr(-1,1),t.tag=2,Hi(n,t,1))),n.lanes|=1),e)}var E4=pi.ReactCurrentOwner,nn=!1;function Bt(e,t,n,r){t.child=e===null?Nk(t,null,n,r):pa(t,e.child,n,r)}function Zx(e,t,n,r,i){n=n.render;var s=t.ref;return ta(t,i),r=kv(e,t,n,r,s,i),n=Iv(),e!==null&&!nn?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,si(e,t,i)):(Me&&n&&mv(t),t.flags|=1,Bt(e,t,r,i),t.child)}function eE(e,t,n,r,i){if(e===null){var s=n.type;return typeof s=="function"&&!Fv(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=s,iI(e,t,s,r,i)):(e=qd(n.type,null,r,t,t.mode,i),e.ref=t.ref,e.return=t,t.child=e)}if(s=e.child,!(e.lanes&i)){var o=s.memoizedProps;if(n=n.compare,n=n!==null?n:bc,n(o,r)&&e.ref===t.ref)return si(e,t,i)}return t.flags|=1,e=Ki(s,r),e.ref=t.ref,e.return=t,t.child=e}function iI(e,t,n,r,i){if(e!==null){var s=e.memoizedProps;if(bc(s,r)&&e.ref===t.ref)if(nn=!1,t.pendingProps=r=s,(e.lanes&i)!==0)e.flags&131072&&(nn=!0);else return t.lanes=e.lanes,si(e,t,i)}return fy(e,t,n,r,i)}function sI(e,t,n){var r=t.pendingProps,i=r.children,s=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Re(Wo,pn),pn|=n;else{if(!(n&1073741824))return e=s!==null?s.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Re(Wo,pn),pn|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,Re(Wo,pn),pn|=r}else s!==null?(r=s.baseLanes|n,t.memoizedState=null):r=n,Re(Wo,pn),pn|=r;return Bt(e,t,i,n),t.child}function oI(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function fy(e,t,n,r,i){var s=an(n)?Gs:Ft.current;return s=ha(t,s),ta(t,i),n=kv(e,t,n,r,s,i),r=Iv(),e!==null&&!nn?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,si(e,t,i)):(Me&&r&&mv(t),t.flags|=1,Bt(e,t,n,i),t.child)}function tE(e,t,n,r,i){if(an(n)){var s=!0;bh(t)}else s=!1;if(ta(t,i),t.stateNode===null)zd(e,t),tI(t,n,r),dy(t,n,r,i),r=!0;else if(e===null){var o=t.stateNode,a=t.memoizedProps;o.props=a;var l=o.context,c=n.contextType;typeof c=="object"&&c!==null?c=Mn(c):(c=an(n)?Gs:Ft.current,c=ha(t,c));var d=n.getDerivedStateFromProps,h=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";h||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==c)&&Yx(t,o,r,c),ki=!1;var f=t.memoizedState;o.state=f,Ih(t,r,o,i),l=t.memoizedState,a!==r||f!==l||on.current||ki?(typeof d=="function"&&(uy(t,n,d,r),l=t.memoizedState),(a=ki||Kx(t,n,a,r,f,l,c))?(h||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=l),o.props=r,o.state=l,o.context=c,r=a):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,Ok(e,t),a=t.memoizedProps,c=t.type===t.elementType?a:Gn(t.type,a),o.props=c,h=t.pendingProps,f=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=Mn(l):(l=an(n)?Gs:Ft.current,l=ha(t,l));var g=n.getDerivedStateFromProps;(d=typeof g=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==h||f!==l)&&Yx(t,o,r,l),ki=!1,f=t.memoizedState,o.state=f,Ih(t,r,o,i);var v=t.memoizedState;a!==h||f!==v||on.current||ki?(typeof g=="function"&&(uy(t,n,g,r),v=t.memoizedState),(c=ki||Kx(t,n,c,r,f,v,l)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,v,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,v,l)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=v),o.props=r,o.state=v,o.context=l,r=c):(typeof o.componentDidUpdate!="function"||a===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),r=!1)}return py(e,t,n,r,s,i)}function py(e,t,n,r,i,s){oI(e,t);var o=(t.flags&128)!==0;if(!r&&!o)return i&&Vx(t,n,!1),si(e,t,s);r=t.stateNode,E4.current=t;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&o?(t.child=pa(t,e.child,null,s),t.child=pa(t,null,a,s)):Bt(e,t,a,s),t.memoizedState=r.state,i&&Vx(t,n,!0),t.child}function aI(e){var t=e.stateNode;t.pendingContext?$x(e,t.pendingContext,t.pendingContext!==t.context):t.context&&$x(e,t.context,!1),bv(e,t.containerInfo)}function nE(e,t,n,r,i){return fa(),yv(i),t.flags|=256,Bt(e,t,n,r),t.child}var my={dehydrated:null,treeContext:null,retryLane:0};function gy(e){return{baseLanes:e,cachePool:null,transitions:null}}function lI(e,t,n){var r=t.pendingProps,i=$e.current,s=!1,o=(t.flags&128)!==0,a;if((a=o)||(a=e!==null&&e.memoizedState===null?!1:(i&2)!==0),a?(s=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(i|=1),Re($e,i&1),e===null)return ly(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=r.children,e=r.fallback,s?(r=t.mode,s=t.child,o={mode:"hidden",children:o},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=Lf(o,r,0,null),e=Bs(e,r,n,null),s.return=t,e.return=t,s.sibling=e,t.child=s,t.child.memoizedState=gy(n),t.memoizedState=my,e):Av(t,o));if(i=e.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return b4(e,t,o,r,a,i,n);if(s){s=r.fallback,o=t.mode,i=e.child,a=i.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&t.child!==i?(r=t.child,r.childLanes=0,r.pendingProps=l,t.deletions=null):(r=Ki(i,l),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?s=Ki(a,s):(s=Bs(s,o,n,null),s.flags|=2),s.return=t,r.return=t,r.sibling=s,t.child=r,r=s,s=t.child,o=e.child.memoizedState,o=o===null?gy(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=e.childLanes&~n,t.memoizedState=my,r}return s=e.child,e=s.sibling,r=Ki(s,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function Av(e,t){return t=Lf({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function dd(e,t,n,r){return r!==null&&yv(r),pa(t,e.child,null,n),e=Av(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function b4(e,t,n,r,i,s,o){if(n)return t.flags&256?(t.flags&=-257,r=Mm(Error(B(422))),dd(e,t,o,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(s=r.fallback,i=t.mode,r=Lf({mode:"visible",children:r.children},i,0,null),s=Bs(s,i,o,null),s.flags|=2,r.return=t,s.return=t,r.sibling=s,t.child=r,t.mode&1&&pa(t,e.child,null,o),t.child.memoizedState=gy(o),t.memoizedState=my,s);if(!(t.mode&1))return dd(e,t,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,s=Error(B(419)),r=Mm(s,r,void 0),dd(e,t,o,r)}if(a=(o&e.childLanes)!==0,nn||a){if(r=pt,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,ii(e,i),ir(r,e,i,-1))}return jv(),r=Mm(Error(B(421))),dd(e,t,o,r)}return i.data==="$?"?(t.flags|=128,t.child=e.child,t=L4.bind(null,e),i._reactRetry=t,null):(e=s.treeContext,gn=Wi(i.nextSibling),yn=t,Me=!0,Xn=null,e!==null&&(In[Pn++]=Hr,In[Pn++]=qr,In[Pn++]=Ks,Hr=e.id,qr=e.overflow,Ks=t),t=Av(t,r.children),t.flags|=4096,t)}function rE(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),cy(e.return,t,n)}function Lm(e,t,n,r,i){var s=e.memoizedState;s===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=t,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function cI(e,t,n){var r=t.pendingProps,i=r.revealOrder,s=r.tail;if(Bt(e,t,r.children,n),r=$e.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&rE(e,n,t);else if(e.tag===19)rE(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Re($e,r),!(t.mode&1))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;n!==null;)e=n.alternate,e!==null&&Ph(e)===null&&(i=n),n=n.sibling;n=i,n===null?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),Lm(t,!1,i,n,s);break;case"backwards":for(n=null,i=t.child,t.child=null;i!==null;){if(e=i.alternate,e!==null&&Ph(e)===null){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}Lm(t,!0,n,null,s);break;case"together":Lm(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function zd(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function si(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),Xs|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(B(153));if(t.child!==null){for(e=t.child,n=Ki(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=Ki(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function C4(e,t,n){switch(t.tag){case 3:aI(t),fa();break;case 5:Mk(t);break;case 1:an(t.type)&&bh(t);break;case 4:bv(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;Re(Th,r._currentValue),r._currentValue=i;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(Re($e,$e.current&1),t.flags|=128,null):n&t.child.childLanes?lI(e,t,n):(Re($e,$e.current&1),e=si(e,t,n),e!==null?e.sibling:null);Re($e,$e.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return cI(e,t,n);t.flags|=128}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Re($e,$e.current),r)break;return null;case 22:case 23:return t.lanes=0,sI(e,t,n)}return si(e,t,n)}var uI,yy,dI,hI;uI=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};yy=function(){};dI=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,Os(Sr.current);var s=null;switch(n){case"input":i=$g(e,i),r=$g(e,r),s=[];break;case"select":i=ze({},i,{value:void 0}),r=ze({},r,{value:void 0}),s=[];break;case"textarea":i=Bg(e,i),r=Bg(e,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=xh)}Wg(n,r);var o;n=null;for(c in i)if(!r.hasOwnProperty(c)&&i.hasOwnProperty(c)&&i[c]!=null)if(c==="style"){var a=i[c];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(gc.hasOwnProperty(c)?s||(s=[]):(s=s||[]).push(c,null));for(c in r){var l=r[c];if(a=i!=null?i[c]:void 0,r.hasOwnProperty(c)&&l!==a&&(l!=null||a!=null))if(c==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(s||(s=[]),s.push(c,n)),n=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(s=s||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(gc.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&Ne("scroll",e),s||a===l||(s=[])):(s=s||[]).push(c,l))}n&&(s=s||[]).push("style",n);var c=s;(t.updateQueue=c)&&(t.flags|=4)}};hI=function(e,t,n,r){n!==r&&(t.flags|=4)};function gl(e,t){if(!Me)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Rt(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=e,i=i.sibling;else for(i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function S4(e,t,n){var r=t.pendingProps;switch(gv(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Rt(t),null;case 1:return an(t.type)&&Eh(),Rt(t),null;case 3:return r=t.stateNode,ma(),De(on),De(Ft),Sv(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(cd(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Xn!==null&&(Sy(Xn),Xn=null))),yy(e,t),Rt(t),null;case 5:Cv(t);var i=Os(Ic.current);if(n=t.type,e!==null&&t.stateNode!=null)dI(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(B(166));return Rt(t),null}if(e=Os(Sr.current),cd(t)){r=t.stateNode,n=t.type;var s=t.memoizedProps;switch(r[xr]=t,r[Tc]=s,e=(t.mode&1)!==0,n){case"dialog":Ne("cancel",r),Ne("close",r);break;case"iframe":case"object":case"embed":Ne("load",r);break;case"video":case"audio":for(i=0;i<Al.length;i++)Ne(Al[i],r);break;case"source":Ne("error",r);break;case"img":case"image":case"link":Ne("error",r),Ne("load",r);break;case"details":Ne("toggle",r);break;case"input":hx(r,s),Ne("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},Ne("invalid",r);break;case"textarea":px(r,s),Ne("invalid",r)}Wg(n,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="children"?typeof a=="string"?r.textContent!==a&&(s.suppressHydrationWarning!==!0&&ld(r.textContent,a,e),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&ld(r.textContent,a,e),i=["children",""+a]):gc.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&Ne("scroll",r)}switch(n){case"input":ed(r),fx(r,s,!0);break;case"textarea":ed(r),mx(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=xh)}r=i,t.updateQueue=r,r!==null&&(t.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=VT(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=o.createElement(n,{is:r.is}):(e=o.createElement(n),n==="select"&&(o=e,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):e=o.createElementNS(e,n),e[xr]=t,e[Tc]=r,uI(e,t,!1,!1),t.stateNode=e;e:{switch(o=Hg(n,r),n){case"dialog":Ne("cancel",e),Ne("close",e),i=r;break;case"iframe":case"object":case"embed":Ne("load",e),i=r;break;case"video":case"audio":for(i=0;i<Al.length;i++)Ne(Al[i],e);i=r;break;case"source":Ne("error",e),i=r;break;case"img":case"image":case"link":Ne("error",e),Ne("load",e),i=r;break;case"details":Ne("toggle",e),i=r;break;case"input":hx(e,r),i=$g(e,r),Ne("invalid",e);break;case"option":i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=ze({},r,{value:void 0}),Ne("invalid",e);break;case"textarea":px(e,r),i=Bg(e,r),Ne("invalid",e);break;default:i=r}Wg(n,i),a=i;for(s in a)if(a.hasOwnProperty(s)){var l=a[s];s==="style"?zT(e,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&UT(e,l)):s==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&yc(e,l):typeof l=="number"&&yc(e,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(gc.hasOwnProperty(s)?l!=null&&s==="onScroll"&&Ne("scroll",e):l!=null&&tv(e,s,l,o))}switch(n){case"input":ed(e),fx(e,r,!1);break;case"textarea":ed(e),mx(e);break;case"option":r.value!=null&&e.setAttribute("value",""+Zi(r.value));break;case"select":e.multiple=!!r.multiple,s=r.value,s!=null?Jo(e,!!r.multiple,s,!1):r.defaultValue!=null&&Jo(e,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(e.onclick=xh)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Rt(t),null;case 6:if(e&&t.stateNode!=null)hI(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(B(166));if(n=Os(Ic.current),Os(Sr.current),cd(t)){if(r=t.stateNode,n=t.memoizedProps,r[xr]=t,(s=r.nodeValue!==n)&&(e=yn,e!==null))switch(e.tag){case 3:ld(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&ld(r.nodeValue,n,(e.mode&1)!==0)}s&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[xr]=t,t.stateNode=r}return Rt(t),null;case 13:if(De($e),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Me&&gn!==null&&t.mode&1&&!(t.flags&128))Rk(),fa(),t.flags|=98560,s=!1;else if(s=cd(t),r!==null&&r.dehydrated!==null){if(e===null){if(!s)throw Error(B(318));if(s=t.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(B(317));s[xr]=t}else fa(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Rt(t),s=!1}else Xn!==null&&(Sy(Xn),Xn=null),s=!0;if(!s)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||$e.current&1?lt===0&&(lt=3):jv())),t.updateQueue!==null&&(t.flags|=4),Rt(t),null);case 4:return ma(),yy(e,t),e===null&&Cc(t.stateNode.containerInfo),Rt(t),null;case 10:return _v(t.type._context),Rt(t),null;case 17:return an(t.type)&&Eh(),Rt(t),null;case 19:if(De($e),s=t.memoizedState,s===null)return Rt(t),null;if(r=(t.flags&128)!==0,o=s.rendering,o===null)if(r)gl(s,!1);else{if(lt!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=Ph(e),o!==null){for(t.flags|=128,gl(s,!1),r=o.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)s=n,e=r,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=e,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,e=o.dependencies,s.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Re($e,$e.current&1|2),t.child}e=e.sibling}s.tail!==null&&et()>ya&&(t.flags|=128,r=!0,gl(s,!1),t.lanes=4194304)}else{if(!r)if(e=Ph(o),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),gl(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!Me)return Rt(t),null}else 2*et()-s.renderingStartTime>ya&&n!==1073741824&&(t.flags|=128,r=!0,gl(s,!1),t.lanes=4194304);s.isBackwards?(o.sibling=t.child,t.child=o):(n=s.last,n!==null?n.sibling=o:t.child=o,s.last=o)}return s.tail!==null?(t=s.tail,s.rendering=t,s.tail=t.sibling,s.renderingStartTime=et(),t.sibling=null,n=$e.current,Re($e,r?n&1|2:n&1),t):(Rt(t),null);case 22:case 23:return Lv(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?pn&1073741824&&(Rt(t),t.subtreeFlags&6&&(t.flags|=8192)):Rt(t),null;case 24:return null;case 25:return null}throw Error(B(156,t.tag))}function T4(e,t){switch(gv(t),t.tag){case 1:return an(t.type)&&Eh(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return ma(),De(on),De(Ft),Sv(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Cv(t),null;case 13:if(De($e),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(B(340));fa()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return De($e),null;case 4:return ma(),null;case 10:return _v(t.type._context),null;case 22:case 23:return Lv(),null;case 24:return null;default:return null}}var hd=!1,Dt=!1,k4=typeof WeakSet=="function"?WeakSet:Set,Y=null;function zo(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Ke(e,t,r)}else n.current=null}function vy(e,t,n){try{n()}catch(r){Ke(e,t,r)}}var iE=!1;function I4(e,t){if(ty=vh,e=yk(),pv(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var o=0,a=-1,l=-1,c=0,d=0,h=e,f=null;t:for(;;){for(var g;h!==n||i!==0&&h.nodeType!==3||(a=o+i),h!==s||r!==0&&h.nodeType!==3||(l=o+r),h.nodeType===3&&(o+=h.nodeValue.length),(g=h.firstChild)!==null;)f=h,h=g;for(;;){if(h===e)break t;if(f===n&&++c===i&&(a=o),f===s&&++d===r&&(l=o),(g=h.nextSibling)!==null)break;h=f,f=h.parentNode}h=g}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(ny={focusedElem:e,selectionRange:n},vh=!1,Y=t;Y!==null;)if(t=Y,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,Y=e;else for(;Y!==null;){t=Y;try{var v=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(v!==null){var S=v.memoizedProps,k=v.memoizedState,_=t.stateNode,b=_.getSnapshotBeforeUpdate(t.elementType===t.type?S:Gn(t.type,S),k);_.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var E=t.stateNode.containerInfo;E.nodeType===1?E.textContent="":E.nodeType===9&&E.documentElement&&E.removeChild(E.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(B(163))}}catch(R){Ke(t,t.return,R)}if(e=t.sibling,e!==null){e.return=t.return,Y=e;break}Y=t.return}return v=iE,iE=!1,v}function Gl(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&e)===e){var s=i.destroy;i.destroy=void 0,s!==void 0&&vy(t,n,s)}i=i.next}while(i!==r)}}function Of(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function wy(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function fI(e){var t=e.alternate;t!==null&&(e.alternate=null,fI(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[xr],delete t[Tc],delete t[sy],delete t[u4],delete t[d4])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function pI(e){return e.tag===5||e.tag===3||e.tag===4}function sE(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||pI(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function _y(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=xh));else if(r!==4&&(e=e.child,e!==null))for(_y(e,t,n),e=e.sibling;e!==null;)_y(e,t,n),e=e.sibling}function xy(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(xy(e,t,n),e=e.sibling;e!==null;)xy(e,t,n),e=e.sibling}var vt=null,Kn=!1;function bi(e,t,n){for(n=n.child;n!==null;)mI(e,t,n),n=n.sibling}function mI(e,t,n){if(Cr&&typeof Cr.onCommitFiberUnmount=="function")try{Cr.onCommitFiberUnmount(Tf,n)}catch{}switch(n.tag){case 5:Dt||zo(n,t);case 6:var r=vt,i=Kn;vt=null,bi(e,t,n),vt=r,Kn=i,vt!==null&&(Kn?(e=vt,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):vt.removeChild(n.stateNode));break;case 18:vt!==null&&(Kn?(e=vt,n=n.stateNode,e.nodeType===8?Pm(e.parentNode,n):e.nodeType===1&&Pm(e,n),xc(e)):Pm(vt,n.stateNode));break;case 4:r=vt,i=Kn,vt=n.stateNode.containerInfo,Kn=!0,bi(e,t,n),vt=r,Kn=i;break;case 0:case 11:case 14:case 15:if(!Dt&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&vy(n,t,o),i=i.next}while(i!==r)}bi(e,t,n);break;case 1:if(!Dt&&(zo(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){Ke(n,t,a)}bi(e,t,n);break;case 21:bi(e,t,n);break;case 22:n.mode&1?(Dt=(r=Dt)||n.memoizedState!==null,bi(e,t,n),Dt=r):bi(e,t,n);break;default:bi(e,t,n)}}function oE(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new k4),t.forEach(function(r){var i=j4.bind(null,e,r);n.has(r)||(n.add(r),r.then(i,i))})}}function Hn(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=e,o=t,a=o;e:for(;a!==null;){switch(a.tag){case 5:vt=a.stateNode,Kn=!1;break e;case 3:vt=a.stateNode.containerInfo,Kn=!0;break e;case 4:vt=a.stateNode.containerInfo,Kn=!0;break e}a=a.return}if(vt===null)throw Error(B(160));mI(s,o,i),vt=null,Kn=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(c){Ke(i,t,c)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)gI(t,e),t=t.sibling}function gI(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Hn(t,e),mr(e),r&4){try{Gl(3,e,e.return),Of(3,e)}catch(S){Ke(e,e.return,S)}try{Gl(5,e,e.return)}catch(S){Ke(e,e.return,S)}}break;case 1:Hn(t,e),mr(e),r&512&&n!==null&&zo(n,n.return);break;case 5:if(Hn(t,e),mr(e),r&512&&n!==null&&zo(n,n.return),e.flags&32){var i=e.stateNode;try{yc(i,"")}catch(S){Ke(e,e.return,S)}}if(r&4&&(i=e.stateNode,i!=null)){var s=e.memoizedProps,o=n!==null?n.memoizedProps:s,a=e.type,l=e.updateQueue;if(e.updateQueue=null,l!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&FT(i,s),Hg(a,o);var c=Hg(a,s);for(o=0;o<l.length;o+=2){var d=l[o],h=l[o+1];d==="style"?zT(i,h):d==="dangerouslySetInnerHTML"?UT(i,h):d==="children"?yc(i,h):tv(i,d,h,c)}switch(a){case"input":Vg(i,s);break;case"textarea":$T(i,s);break;case"select":var f=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var g=s.value;g!=null?Jo(i,!!s.multiple,g,!1):f!==!!s.multiple&&(s.defaultValue!=null?Jo(i,!!s.multiple,s.defaultValue,!0):Jo(i,!!s.multiple,s.multiple?[]:"",!1))}i[Tc]=s}catch(S){Ke(e,e.return,S)}}break;case 6:if(Hn(t,e),mr(e),r&4){if(e.stateNode===null)throw Error(B(162));i=e.stateNode,s=e.memoizedProps;try{i.nodeValue=s}catch(S){Ke(e,e.return,S)}}break;case 3:if(Hn(t,e),mr(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{xc(t.containerInfo)}catch(S){Ke(e,e.return,S)}break;case 4:Hn(t,e),mr(e);break;case 13:Hn(t,e),mr(e),i=e.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(Ov=et())),r&4&&oE(e);break;case 22:if(d=n!==null&&n.memoizedState!==null,e.mode&1?(Dt=(c=Dt)||d,Hn(t,e),Dt=c):Hn(t,e),mr(e),r&8192){if(c=e.memoizedState!==null,(e.stateNode.isHidden=c)&&!d&&e.mode&1)for(Y=e,d=e.child;d!==null;){for(h=Y=d;Y!==null;){switch(f=Y,g=f.child,f.tag){case 0:case 11:case 14:case 15:Gl(4,f,f.return);break;case 1:zo(f,f.return);var v=f.stateNode;if(typeof v.componentWillUnmount=="function"){r=f,n=f.return;try{t=r,v.props=t.memoizedProps,v.state=t.memoizedState,v.componentWillUnmount()}catch(S){Ke(r,n,S)}}break;case 5:zo(f,f.return);break;case 22:if(f.memoizedState!==null){lE(h);continue}}g!==null?(g.return=f,Y=g):lE(h)}d=d.sibling}e:for(d=null,h=e;;){if(h.tag===5){if(d===null){d=h;try{i=h.stateNode,c?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=h.stateNode,l=h.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=BT("display",o))}catch(S){Ke(e,e.return,S)}}}else if(h.tag===6){if(d===null)try{h.stateNode.nodeValue=c?"":h.memoizedProps}catch(S){Ke(e,e.return,S)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===e)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;h.sibling===null;){if(h.return===null||h.return===e)break e;d===h&&(d=null),h=h.return}d===h&&(d=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:Hn(t,e),mr(e),r&4&&oE(e);break;case 21:break;default:Hn(t,e),mr(e)}}function mr(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(pI(n)){var r=n;break e}n=n.return}throw Error(B(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(yc(i,""),r.flags&=-33);var s=sE(e);xy(e,s,i);break;case 3:case 4:var o=r.stateNode.containerInfo,a=sE(e);_y(e,a,o);break;default:throw Error(B(161))}}catch(l){Ke(e,e.return,l)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function P4(e,t,n){Y=e,yI(e)}function yI(e,t,n){for(var r=(e.mode&1)!==0;Y!==null;){var i=Y,s=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||hd;if(!o){var a=i.alternate,l=a!==null&&a.memoizedState!==null||Dt;a=hd;var c=Dt;if(hd=o,(Dt=l)&&!c)for(Y=i;Y!==null;)o=Y,l=o.child,o.tag===22&&o.memoizedState!==null?cE(i):l!==null?(l.return=o,Y=l):cE(i);for(;s!==null;)Y=s,yI(s),s=s.sibling;Y=i,hd=a,Dt=c}aE(e)}else i.subtreeFlags&8772&&s!==null?(s.return=i,Y=s):aE(e)}}function aE(e){for(;Y!==null;){var t=Y;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Dt||Of(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!Dt)if(n===null)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:Gn(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=t.updateQueue;s!==null&&Hx(t,s,r);break;case 3:var o=t.updateQueue;if(o!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}Hx(t,o,n)}break;case 5:var a=t.stateNode;if(n===null&&t.flags&4){n=a;var l=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var c=t.alternate;if(c!==null){var d=c.memoizedState;if(d!==null){var h=d.dehydrated;h!==null&&xc(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(B(163))}Dt||t.flags&512&&wy(t)}catch(f){Ke(t,t.return,f)}}if(t===e){Y=null;break}if(n=t.sibling,n!==null){n.return=t.return,Y=n;break}Y=t.return}}function lE(e){for(;Y!==null;){var t=Y;if(t===e){Y=null;break}var n=t.sibling;if(n!==null){n.return=t.return,Y=n;break}Y=t.return}}function cE(e){for(;Y!==null;){var t=Y;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{Of(4,t)}catch(l){Ke(t,n,l)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var i=t.return;try{r.componentDidMount()}catch(l){Ke(t,i,l)}}var s=t.return;try{wy(t)}catch(l){Ke(t,s,l)}break;case 5:var o=t.return;try{wy(t)}catch(l){Ke(t,o,l)}}}catch(l){Ke(t,t.return,l)}if(t===e){Y=null;break}var a=t.sibling;if(a!==null){a.return=t.return,Y=a;break}Y=t.return}}var R4=Math.ceil,Nh=pi.ReactCurrentDispatcher,Nv=pi.ReactCurrentOwner,Dn=pi.ReactCurrentBatchConfig,me=0,pt=null,rt=null,bt=0,pn=0,Wo=cs(0),lt=0,Nc=null,Xs=0,Mf=0,Dv=0,Kl=null,Zt=null,Ov=0,ya=1/0,Ur=null,Dh=!1,Ey=null,qi=null,fd=!1,ji=null,Oh=0,Yl=0,by=null,Wd=-1,Hd=0;function qt(){return me&6?et():Wd!==-1?Wd:Wd=et()}function Gi(e){return e.mode&1?me&2&&bt!==0?bt&-bt:f4.transition!==null?(Hd===0&&(Hd=tk()),Hd):(e=xe,e!==0||(e=window.event,e=e===void 0?16:lk(e.type)),e):1}function ir(e,t,n,r){if(50<Yl)throw Yl=0,by=null,Error(B(185));au(e,n,r),(!(me&2)||e!==pt)&&(e===pt&&(!(me&2)&&(Mf|=n),lt===4&&Ri(e,bt)),ln(e,r),n===1&&me===0&&!(t.mode&1)&&(ya=et()+500,Af&&us()))}function ln(e,t){var n=e.callbackNode;fM(e,t);var r=yh(e,e===pt?bt:0);if(r===0)n!==null&&vx(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&vx(n),t===1)e.tag===0?h4(uE.bind(null,e)):kk(uE.bind(null,e)),l4(function(){!(me&6)&&us()}),n=null;else{switch(nk(r)){case 1:n=ov;break;case 4:n=ZT;break;case 16:n=gh;break;case 536870912:n=ek;break;default:n=gh}n=SI(n,vI.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function vI(e,t){if(Wd=-1,Hd=0,me&6)throw Error(B(327));var n=e.callbackNode;if(na()&&e.callbackNode!==n)return null;var r=yh(e,e===pt?bt:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=Mh(e,r);else{t=r;var i=me;me|=2;var s=_I();(pt!==e||bt!==t)&&(Ur=null,ya=et()+500,Us(e,t));do try{D4();break}catch(a){wI(e,a)}while(1);wv(),Nh.current=s,me=i,rt!==null?t=0:(pt=null,bt=0,t=lt)}if(t!==0){if(t===2&&(i=Xg(e),i!==0&&(r=i,t=Cy(e,i))),t===1)throw n=Nc,Us(e,0),Ri(e,r),ln(e,et()),n;if(t===6)Ri(e,r);else{if(i=e.current.alternate,!(r&30)&&!A4(i)&&(t=Mh(e,r),t===2&&(s=Xg(e),s!==0&&(r=s,t=Cy(e,s))),t===1))throw n=Nc,Us(e,0),Ri(e,r),ln(e,et()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(B(345));case 2:bs(e,Zt,Ur);break;case 3:if(Ri(e,r),(r&130023424)===r&&(t=Ov+500-et(),10<t)){if(yh(e,0)!==0)break;if(i=e.suspendedLanes,(i&r)!==r){qt(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=iy(bs.bind(null,e,Zt,Ur),t);break}bs(e,Zt,Ur);break;case 4:if(Ri(e,r),(r&4194240)===r)break;for(t=e.eventTimes,i=-1;0<r;){var o=31-rr(r);s=1<<o,o=t[o],o>i&&(i=o),r&=~s}if(r=i,r=et()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*R4(r/1960))-r,10<r){e.timeoutHandle=iy(bs.bind(null,e,Zt,Ur),r);break}bs(e,Zt,Ur);break;case 5:bs(e,Zt,Ur);break;default:throw Error(B(329))}}}return ln(e,et()),e.callbackNode===n?vI.bind(null,e):null}function Cy(e,t){var n=Kl;return e.current.memoizedState.isDehydrated&&(Us(e,t).flags|=256),e=Mh(e,t),e!==2&&(t=Zt,Zt=n,t!==null&&Sy(t)),e}function Sy(e){Zt===null?Zt=e:Zt.push.apply(Zt,e)}function A4(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!lr(s(),i))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Ri(e,t){for(t&=~Dv,t&=~Mf,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-rr(t),r=1<<n;e[n]=-1,t&=~r}}function uE(e){if(me&6)throw Error(B(327));na();var t=yh(e,0);if(!(t&1))return ln(e,et()),null;var n=Mh(e,t);if(e.tag!==0&&n===2){var r=Xg(e);r!==0&&(t=r,n=Cy(e,r))}if(n===1)throw n=Nc,Us(e,0),Ri(e,t),ln(e,et()),n;if(n===6)throw Error(B(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,bs(e,Zt,Ur),ln(e,et()),null}function Mv(e,t){var n=me;me|=1;try{return e(t)}finally{me=n,me===0&&(ya=et()+500,Af&&us())}}function Js(e){ji!==null&&ji.tag===0&&!(me&6)&&na();var t=me;me|=1;var n=Dn.transition,r=xe;try{if(Dn.transition=null,xe=1,e)return e()}finally{xe=r,Dn.transition=n,me=t,!(me&6)&&us()}}function Lv(){pn=Wo.current,De(Wo)}function Us(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,a4(n)),rt!==null)for(n=rt.return;n!==null;){var r=n;switch(gv(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Eh();break;case 3:ma(),De(on),De(Ft),Sv();break;case 5:Cv(r);break;case 4:ma();break;case 13:De($e);break;case 19:De($e);break;case 10:_v(r.type._context);break;case 22:case 23:Lv()}n=n.return}if(pt=e,rt=e=Ki(e.current,null),bt=pn=t,lt=0,Nc=null,Dv=Mf=Xs=0,Zt=Kl=null,Ds!==null){for(t=0;t<Ds.length;t++)if(n=Ds[t],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var o=s.next;s.next=i,r.next=o}n.pending=r}Ds=null}return e}function wI(e,t){do{var n=rt;try{if(wv(),Ud.current=Ah,Rh){for(var r=Ue.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}Rh=!1}if(Ys=0,ht=st=Ue=null,ql=!1,Pc=0,Nv.current=null,n===null||n.return===null){lt=1,Nc=t,rt=null;break}e:{var s=e,o=n.return,a=n,l=t;if(t=bt,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,d=a,h=d.tag;if(!(d.mode&1)&&(h===0||h===11||h===15)){var f=d.alternate;f?(d.updateQueue=f.updateQueue,d.memoizedState=f.memoizedState,d.lanes=f.lanes):(d.updateQueue=null,d.memoizedState=null)}var g=Jx(o);if(g!==null){g.flags&=-257,Qx(g,o,a,s,t),g.mode&1&&Xx(s,c,t),t=g,l=c;var v=t.updateQueue;if(v===null){var S=new Set;S.add(l),t.updateQueue=S}else v.add(l);break e}else{if(!(t&1)){Xx(s,c,t),jv();break e}l=Error(B(426))}}else if(Me&&a.mode&1){var k=Jx(o);if(k!==null){!(k.flags&65536)&&(k.flags|=256),Qx(k,o,a,s,t),yv(ga(l,a));break e}}s=l=ga(l,a),lt!==4&&(lt=2),Kl===null?Kl=[s]:Kl.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,t&=-t,s.lanes|=t;var _=nI(s,l,t);Wx(s,_);break e;case 1:a=l;var b=s.type,E=s.stateNode;if(!(s.flags&128)&&(typeof b.getDerivedStateFromError=="function"||E!==null&&typeof E.componentDidCatch=="function"&&(qi===null||!qi.has(E)))){s.flags|=65536,t&=-t,s.lanes|=t;var R=rI(s,a,t);Wx(s,R);break e}}s=s.return}while(s!==null)}EI(n)}catch(D){t=D,rt===n&&n!==null&&(rt=n=n.return);continue}break}while(1)}function _I(){var e=Nh.current;return Nh.current=Ah,e===null?Ah:e}function jv(){(lt===0||lt===3||lt===2)&&(lt=4),pt===null||!(Xs&268435455)&&!(Mf&268435455)||Ri(pt,bt)}function Mh(e,t){var n=me;me|=2;var r=_I();(pt!==e||bt!==t)&&(Ur=null,Us(e,t));do try{N4();break}catch(i){wI(e,i)}while(1);if(wv(),me=n,Nh.current=r,rt!==null)throw Error(B(261));return pt=null,bt=0,lt}function N4(){for(;rt!==null;)xI(rt)}function D4(){for(;rt!==null&&!iM();)xI(rt)}function xI(e){var t=CI(e.alternate,e,pn);e.memoizedProps=e.pendingProps,t===null?EI(e):rt=t,Nv.current=null}function EI(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=T4(n,t),n!==null){n.flags&=32767,rt=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{lt=6,rt=null;return}}else if(n=S4(n,t,pn),n!==null){rt=n;return}if(t=t.sibling,t!==null){rt=t;return}rt=t=e}while(t!==null);lt===0&&(lt=5)}function bs(e,t,n){var r=xe,i=Dn.transition;try{Dn.transition=null,xe=1,O4(e,t,n,r)}finally{Dn.transition=i,xe=r}return null}function O4(e,t,n,r){do na();while(ji!==null);if(me&6)throw Error(B(327));n=e.finishedWork;var i=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(B(177));e.callbackNode=null,e.callbackPriority=0;var s=n.lanes|n.childLanes;if(pM(e,s),e===pt&&(rt=pt=null,bt=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||fd||(fd=!0,SI(gh,function(){return na(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=Dn.transition,Dn.transition=null;var o=xe;xe=1;var a=me;me|=4,Nv.current=null,I4(e,n),gI(n,e),e4(ny),vh=!!ty,ny=ty=null,e.current=n,P4(n),sM(),me=a,xe=o,Dn.transition=s}else e.current=n;if(fd&&(fd=!1,ji=e,Oh=i),s=e.pendingLanes,s===0&&(qi=null),lM(n.stateNode),ln(e,et()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Dh)throw Dh=!1,e=Ey,Ey=null,e;return Oh&1&&e.tag!==0&&na(),s=e.pendingLanes,s&1?e===by?Yl++:(Yl=0,by=e):Yl=0,us(),null}function na(){if(ji!==null){var e=nk(Oh),t=Dn.transition,n=xe;try{if(Dn.transition=null,xe=16>e?16:e,ji===null)var r=!1;else{if(e=ji,ji=null,Oh=0,me&6)throw Error(B(331));var i=me;for(me|=4,Y=e.current;Y!==null;){var s=Y,o=s.child;if(Y.flags&16){var a=s.deletions;if(a!==null){for(var l=0;l<a.length;l++){var c=a[l];for(Y=c;Y!==null;){var d=Y;switch(d.tag){case 0:case 11:case 15:Gl(8,d,s)}var h=d.child;if(h!==null)h.return=d,Y=h;else for(;Y!==null;){d=Y;var f=d.sibling,g=d.return;if(fI(d),d===c){Y=null;break}if(f!==null){f.return=g,Y=f;break}Y=g}}}var v=s.alternate;if(v!==null){var S=v.child;if(S!==null){v.child=null;do{var k=S.sibling;S.sibling=null,S=k}while(S!==null)}}Y=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,Y=o;else e:for(;Y!==null;){if(s=Y,s.flags&2048)switch(s.tag){case 0:case 11:case 15:Gl(9,s,s.return)}var _=s.sibling;if(_!==null){_.return=s.return,Y=_;break e}Y=s.return}}var b=e.current;for(Y=b;Y!==null;){o=Y;var E=o.child;if(o.subtreeFlags&2064&&E!==null)E.return=o,Y=E;else e:for(o=b;Y!==null;){if(a=Y,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:Of(9,a)}}catch(D){Ke(a,a.return,D)}if(a===o){Y=null;break e}var R=a.sibling;if(R!==null){R.return=a.return,Y=R;break e}Y=a.return}}if(me=i,us(),Cr&&typeof Cr.onPostCommitFiberRoot=="function")try{Cr.onPostCommitFiberRoot(Tf,e)}catch{}r=!0}return r}finally{xe=n,Dn.transition=t}}return!1}function dE(e,t,n){t=ga(n,t),t=nI(e,t,1),e=Hi(e,t,1),t=qt(),e!==null&&(au(e,1,t),ln(e,t))}function Ke(e,t,n){if(e.tag===3)dE(e,e,n);else for(;t!==null;){if(t.tag===3){dE(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(qi===null||!qi.has(r))){e=ga(n,e),e=rI(t,e,1),t=Hi(t,e,1),e=qt(),t!==null&&(au(t,1,e),ln(t,e));break}}t=t.return}}function M4(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=qt(),e.pingedLanes|=e.suspendedLanes&n,pt===e&&(bt&n)===n&&(lt===4||lt===3&&(bt&130023424)===bt&&500>et()-Ov?Us(e,0):Dv|=n),ln(e,t)}function bI(e,t){t===0&&(e.mode&1?(t=rd,rd<<=1,!(rd&130023424)&&(rd=4194304)):t=1);var n=qt();e=ii(e,t),e!==null&&(au(e,t,n),ln(e,n))}function L4(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),bI(e,n)}function j4(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(B(314))}r!==null&&r.delete(t),bI(e,n)}var CI;CI=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||on.current)nn=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return nn=!1,C4(e,t,n);nn=!!(e.flags&131072)}else nn=!1,Me&&t.flags&1048576&&Ik(t,Sh,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;zd(e,t),e=t.pendingProps;var i=ha(t,Ft.current);ta(t,n),i=kv(null,t,r,e,i,n);var s=Iv();return t.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,an(r)?(s=!0,bh(t)):s=!1,t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,Ev(t),i.updater=Df,t.stateNode=i,i._reactInternals=t,dy(t,r,e,n),t=py(null,t,r,!0,s,n)):(t.tag=0,Me&&s&&mv(t),Bt(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(zd(e,t),e=t.pendingProps,i=r._init,r=i(r._payload),t.type=r,i=t.tag=$4(r),e=Gn(r,e),i){case 0:t=fy(null,t,r,e,n);break e;case 1:t=tE(null,t,r,e,n);break e;case 11:t=Zx(null,t,r,e,n);break e;case 14:t=eE(null,t,r,Gn(r.type,e),n);break e}throw Error(B(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Gn(r,i),fy(e,t,r,i,n);case 1:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Gn(r,i),tE(e,t,r,i,n);case 3:e:{if(aI(t),e===null)throw Error(B(387));r=t.pendingProps,s=t.memoizedState,i=s.element,Ok(e,t),Ih(t,r,null,n);var o=t.memoizedState;if(r=o.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=s,t.memoizedState=s,t.flags&256){i=ga(Error(B(423)),t),t=nE(e,t,r,n,i);break e}else if(r!==i){i=ga(Error(B(424)),t),t=nE(e,t,r,n,i);break e}else for(gn=Wi(t.stateNode.containerInfo.firstChild),yn=t,Me=!0,Xn=null,n=Nk(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(fa(),r===i){t=si(e,t,n);break e}Bt(e,t,r,n)}t=t.child}return t;case 5:return Mk(t),e===null&&ly(t),r=t.type,i=t.pendingProps,s=e!==null?e.memoizedProps:null,o=i.children,ry(r,i)?o=null:s!==null&&ry(r,s)&&(t.flags|=32),oI(e,t),Bt(e,t,o,n),t.child;case 6:return e===null&&ly(t),null;case 13:return lI(e,t,n);case 4:return bv(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=pa(t,null,r,n):Bt(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Gn(r,i),Zx(e,t,r,i,n);case 7:return Bt(e,t,t.pendingProps,n),t.child;case 8:return Bt(e,t,t.pendingProps.children,n),t.child;case 12:return Bt(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,s=t.memoizedProps,o=i.value,Re(Th,r._currentValue),r._currentValue=o,s!==null)if(lr(s.value,o)){if(s.children===i.children&&!on.current){t=si(e,t,n);break e}}else for(s=t.child,s!==null&&(s.return=t);s!==null;){var a=s.dependencies;if(a!==null){o=s.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(s.tag===1){l=Xr(-1,n&-n),l.tag=2;var c=s.updateQueue;if(c!==null){c=c.shared;var d=c.pending;d===null?l.next=l:(l.next=d.next,d.next=l),c.pending=l}}s.lanes|=n,l=s.alternate,l!==null&&(l.lanes|=n),cy(s.return,n,t),a.lanes|=n;break}l=l.next}}else if(s.tag===10)o=s.type===t.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(B(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),cy(o,n,t),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===t){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}Bt(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,ta(t,n),i=Mn(i),r=r(i),t.flags|=1,Bt(e,t,r,n),t.child;case 14:return r=t.type,i=Gn(r,t.pendingProps),i=Gn(r.type,i),eE(e,t,r,i,n);case 15:return iI(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Gn(r,i),zd(e,t),t.tag=1,an(r)?(e=!0,bh(t)):e=!1,ta(t,n),tI(t,r,i),dy(t,r,i,n),py(null,t,r,!0,e,n);case 19:return cI(e,t,n);case 22:return sI(e,t,n)}throw Error(B(156,t.tag))};function SI(e,t){return QT(e,t)}function F4(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function An(e,t,n,r){return new F4(e,t,n,r)}function Fv(e){return e=e.prototype,!(!e||!e.isReactComponent)}function $4(e){if(typeof e=="function")return Fv(e)?1:0;if(e!=null){if(e=e.$$typeof,e===rv)return 11;if(e===iv)return 14}return 2}function Ki(e,t){var n=e.alternate;return n===null?(n=An(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function qd(e,t,n,r,i,s){var o=2;if(r=e,typeof e=="function")Fv(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case Oo:return Bs(n.children,i,s,t);case nv:o=8,i|=8;break;case Mg:return e=An(12,n,t,i|2),e.elementType=Mg,e.lanes=s,e;case Lg:return e=An(13,n,t,i),e.elementType=Lg,e.lanes=s,e;case jg:return e=An(19,n,t,i),e.elementType=jg,e.lanes=s,e;case MT:return Lf(n,i,s,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case DT:o=10;break e;case OT:o=9;break e;case rv:o=11;break e;case iv:o=14;break e;case Ti:o=16,r=null;break e}throw Error(B(130,e==null?e:typeof e,""))}return t=An(o,n,t,i),t.elementType=e,t.type=r,t.lanes=s,t}function Bs(e,t,n,r){return e=An(7,e,r,t),e.lanes=n,e}function Lf(e,t,n,r){return e=An(22,e,r,t),e.elementType=MT,e.lanes=n,e.stateNode={isHidden:!1},e}function jm(e,t,n){return e=An(6,e,null,t),e.lanes=n,e}function Fm(e,t,n){return t=An(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function V4(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=vm(0),this.expirationTimes=vm(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=vm(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function $v(e,t,n,r,i,s,o,a,l){return e=new V4(e,t,n,a,l),t===1?(t=1,s===!0&&(t|=8)):t=0,s=An(3,null,null,t),e.current=s,s.stateNode=e,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Ev(s),e}function U4(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Do,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function TI(e){if(!e)return es;e=e._reactInternals;e:{if(co(e)!==e||e.tag!==1)throw Error(B(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(an(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(B(171))}if(e.tag===1){var n=e.type;if(an(n))return Tk(e,n,t)}return t}function kI(e,t,n,r,i,s,o,a,l){return e=$v(n,r,!0,e,i,s,o,a,l),e.context=TI(null),n=e.current,r=qt(),i=Gi(n),s=Xr(r,i),s.callback=t??null,Hi(n,s,i),e.current.lanes=i,au(e,i,r),ln(e,r),e}function jf(e,t,n,r){var i=t.current,s=qt(),o=Gi(i);return n=TI(n),t.context===null?t.context=n:t.pendingContext=n,t=Xr(s,o),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=Hi(i,t,o),e!==null&&(ir(e,i,o,s),Vd(e,i,o)),o}function Lh(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function hE(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function Vv(e,t){hE(e,t),(e=e.alternate)&&hE(e,t)}function B4(){return null}var II=typeof reportError=="function"?reportError:function(e){console.error(e)};function Uv(e){this._internalRoot=e}Ff.prototype.render=Uv.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(B(409));jf(e,t,null,null)};Ff.prototype.unmount=Uv.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Js(function(){jf(null,e,null,null)}),t[ri]=null}};function Ff(e){this._internalRoot=e}Ff.prototype.unstable_scheduleHydration=function(e){if(e){var t=sk();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Pi.length&&t!==0&&t<Pi[n].priority;n++);Pi.splice(n,0,e),n===0&&ak(e)}};function Bv(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function $f(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function fE(){}function z4(e,t,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var c=Lh(o);s.call(c)}}var o=kI(t,r,e,0,null,!1,!1,"",fE);return e._reactRootContainer=o,e[ri]=o.current,Cc(e.nodeType===8?e.parentNode:e),Js(),o}for(;i=e.lastChild;)e.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var c=Lh(l);a.call(c)}}var l=$v(e,0,!1,null,null,!1,!1,"",fE);return e._reactRootContainer=l,e[ri]=l.current,Cc(e.nodeType===8?e.parentNode:e),Js(function(){jf(t,l,n,r)}),l}function Vf(e,t,n,r,i){var s=n._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var a=i;i=function(){var l=Lh(o);a.call(l)}}jf(t,o,e,i)}else o=z4(n,t,e,i,r);return Lh(o)}rk=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=Rl(t.pendingLanes);n!==0&&(av(t,n|1),ln(t,et()),!(me&6)&&(ya=et()+500,us()))}break;case 13:Js(function(){var r=ii(e,1);if(r!==null){var i=qt();ir(r,e,1,i)}}),Vv(e,1)}};lv=function(e){if(e.tag===13){var t=ii(e,134217728);if(t!==null){var n=qt();ir(t,e,134217728,n)}Vv(e,134217728)}};ik=function(e){if(e.tag===13){var t=Gi(e),n=ii(e,t);if(n!==null){var r=qt();ir(n,e,t,r)}Vv(e,t)}};sk=function(){return xe};ok=function(e,t){var n=xe;try{return xe=e,t()}finally{xe=n}};Gg=function(e,t,n){switch(t){case"input":if(Vg(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=Rf(r);if(!i)throw Error(B(90));jT(r),Vg(r,i)}}}break;case"textarea":$T(e,n);break;case"select":t=n.value,t!=null&&Jo(e,!!n.multiple,t,!1)}};qT=Mv;GT=Js;var W4={usingClientEntryPoint:!1,Events:[cu,Fo,Rf,WT,HT,Mv]},yl={findFiberByHostInstance:Ns,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},H4={bundleType:yl.bundleType,version:yl.version,rendererPackageName:yl.rendererPackageName,rendererConfig:yl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:pi.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=XT(e),e===null?null:e.stateNode},findFiberByHostInstance:yl.findFiberByHostInstance||B4,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var pd=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!pd.isDisabled&&pd.supportsFiber)try{Tf=pd.inject(H4),Cr=pd}catch{}}En.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=W4;En.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Bv(t))throw Error(B(200));return U4(e,t,null,n)};En.createRoot=function(e,t){if(!Bv(e))throw Error(B(299));var n=!1,r="",i=II;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(i=t.onRecoverableError)),t=$v(e,1,!1,null,null,n,!1,r,i),e[ri]=t.current,Cc(e.nodeType===8?e.parentNode:e),new Uv(t)};En.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(B(188)):(e=Object.keys(e).join(","),Error(B(268,e)));return e=XT(t),e=e===null?null:e.stateNode,e};En.flushSync=function(e){return Js(e)};En.hydrate=function(e,t,n){if(!$f(t))throw Error(B(200));return Vf(null,e,t,!0,n)};En.hydrateRoot=function(e,t,n){if(!Bv(e))throw Error(B(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",o=II;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),t=kI(t,null,e,1,n??null,i,!1,s,o),e[ri]=t.current,Cc(e),r)for(e=0;e<r.length;e++)n=r[e],i=n._getVersion,i=i(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new Ff(t)};En.render=function(e,t,n){if(!$f(t))throw Error(B(200));return Vf(null,e,t,!1,n)};En.unmountComponentAtNode=function(e){if(!$f(e))throw Error(B(40));return e._reactRootContainer?(Js(function(){Vf(null,null,e,!1,function(){e._reactRootContainer=null,e[ri]=null})}),!0):!1};En.unstable_batchedUpdates=Mv;En.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!$f(n))throw Error(B(200));if(e==null||e._reactInternals===void 0)throw Error(B(38));return Vf(e,t,n,!1,r)};En.version="18.3.1-next-f1338f8080-20240426";function PI(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(PI)}catch(e){console.error(e)}}PI(),PT.exports=En;var Uf=PT.exports;const md=K0(Uf);var pE=Uf;Dg.createRoot=pE.createRoot,Dg.hydrateRoot=pE.hydrateRoot;const q4="modulepreload",G4=function(e){return"/EmproChampions-2025/"+e},mE={},K4=function(t,n,r){if(!n||n.length===0)return t();const i=document.getElementsByTagName("link");return Promise.all(n.map(s=>{if(s=G4(s),s in mE)return;mE[s]=!0;const o=s.endsWith(".css"),a=o?'[rel="stylesheet"]':"";if(!!r)for(let d=i.length-1;d>=0;d--){const h=i[d];if(h.href===s&&(!o||h.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${s}"]${a}`))return;const c=document.createElement("link");if(c.rel=o?"stylesheet":q4,o||(c.as="script",c.crossOrigin=""),c.href=s,document.head.appendChild(c),o)return new Promise((d,h)=>{c.addEventListener("load",d),c.addEventListener("error",()=>h(new Error(`Unable to preload CSS for ${s}`)))})})).then(()=>t()).catch(s=>{const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=s,window.dispatchEvent(o),!o.defaultPrevented)throw s})};var zv={};Object.defineProperty(zv,"__esModule",{value:!0});zv.parse=tL;zv.serialize=nL;const Y4=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,X4=/^[\u0021-\u003A\u003C-\u007E]*$/,J4=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,Q4=/^[\u0020-\u003A\u003D-\u007E]*$/,Z4=Object.prototype.toString,eL=(()=>{const e=function(){};return e.prototype=Object.create(null),e})();function tL(e,t){const n=new eL,r=e.length;if(r<2)return n;const i=(t==null?void 0:t.decode)||rL;let s=0;do{const o=e.indexOf("=",s);if(o===-1)break;const a=e.indexOf(";",s),l=a===-1?r:a;if(o>l){s=e.lastIndexOf(";",o-1)+1;continue}const c=gE(e,s,o),d=yE(e,o,c),h=e.slice(c,d);if(n[h]===void 0){let f=gE(e,o+1,l),g=yE(e,l,f);const v=i(e.slice(f,g));n[h]=v}s=l+1}while(s<r);return n}function gE(e,t,n){do{const r=e.charCodeAt(t);if(r!==32&&r!==9)return t}while(++t<n);return n}function yE(e,t,n){for(;t>n;){const r=e.charCodeAt(--t);if(r!==32&&r!==9)return t+1}return n}function nL(e,t,n){const r=(n==null?void 0:n.encode)||encodeURIComponent;if(!Y4.test(e))throw new TypeError(`argument name is invalid: ${e}`);const i=r(t);if(!X4.test(i))throw new TypeError(`argument val is invalid: ${t}`);let s=e+"="+i;if(!n)return s;if(n.maxAge!==void 0){if(!Number.isInteger(n.maxAge))throw new TypeError(`option maxAge is invalid: ${n.maxAge}`);s+="; Max-Age="+n.maxAge}if(n.domain){if(!J4.test(n.domain))throw new TypeError(`option domain is invalid: ${n.domain}`);s+="; Domain="+n.domain}if(n.path){if(!Q4.test(n.path))throw new TypeError(`option path is invalid: ${n.path}`);s+="; Path="+n.path}if(n.expires){if(!iL(n.expires)||!Number.isFinite(n.expires.valueOf()))throw new TypeError(`option expires is invalid: ${n.expires}`);s+="; Expires="+n.expires.toUTCString()}if(n.httpOnly&&(s+="; HttpOnly"),n.secure&&(s+="; Secure"),n.partitioned&&(s+="; Partitioned"),n.priority)switch(typeof n.priority=="string"?n.priority.toLowerCase():void 0){case"low":s+="; Priority=Low";break;case"medium":s+="; Priority=Medium";break;case"high":s+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${n.priority}`)}if(n.sameSite)switch(typeof n.sameSite=="string"?n.sameSite.toLowerCase():n.sameSite){case!0:case"strict":s+="; SameSite=Strict";break;case"lax":s+="; SameSite=Lax";break;case"none":s+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${n.sameSite}`)}return s}function rL(e){if(e.indexOf("%")===-1)return e;try{return decodeURIComponent(e)}catch{return e}}function iL(e){return Z4.call(e)==="[object Date]"}var vE="popstate";function sL(e={}){function t(r,i){let{pathname:s,search:o,hash:a}=r.location;return Ty("",{pathname:s,search:o,hash:a},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:Dc(i)}return aL(t,n,null,e)}function Le(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function cr(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function oL(){return Math.random().toString(36).substring(2,10)}function wE(e,t){return{usr:e.state,key:e.key,idx:t}}function Ty(e,t,n=null,r){return{pathname:typeof e=="string"?e:e.pathname,search:"",hash:"",...typeof t=="string"?La(t):t,state:n,key:t&&t.key||r||oL()}}function Dc({pathname:e="/",search:t="",hash:n=""}){return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),n&&n!=="#"&&(e+=n.charAt(0)==="#"?n:"#"+n),e}function La(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substring(n),e=e.substring(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substring(r),e=e.substring(0,r)),e&&(t.pathname=e)}return t}function aL(e,t,n,r={}){let{window:i=document.defaultView,v5Compat:s=!1}=r,o=i.history,a="POP",l=null,c=d();c==null&&(c=0,o.replaceState({...o.state,idx:c},""));function d(){return(o.state||{idx:null}).idx}function h(){a="POP";let k=d(),_=k==null?null:k-c;c=k,l&&l({action:a,location:S.location,delta:_})}function f(k,_){a="PUSH";let b=Ty(S.location,k,_);n&&n(b,k),c=d()+1;let E=wE(b,c),R=S.createHref(b);try{o.pushState(E,"",R)}catch(D){if(D instanceof DOMException&&D.name==="DataCloneError")throw D;i.location.assign(R)}s&&l&&l({action:a,location:S.location,delta:1})}function g(k,_){a="REPLACE";let b=Ty(S.location,k,_);n&&n(b,k),c=d();let E=wE(b,c),R=S.createHref(b);o.replaceState(E,"",R),s&&l&&l({action:a,location:S.location,delta:0})}function v(k){return lL(k)}let S={get action(){return a},get location(){return e(i,o)},listen(k){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(vE,h),l=k,()=>{i.removeEventListener(vE,h),l=null}},createHref(k){return t(i,k)},createURL:v,encodeLocation(k){let _=v(k);return{pathname:_.pathname,search:_.search,hash:_.hash}},push:f,replace:g,go(k){return o.go(k)}};return S}function lL(e,t=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),Le(n,"No window.location.(origin|href) available to create URL");let r=typeof e=="string"?e:Dc(e);return r=r.replace(/ $/,"%20"),!t&&r.startsWith("//")&&(r=n+r),new URL(r,n)}function RI(e,t,n="/"){return cL(e,t,n,!1)}function cL(e,t,n,r){let i=typeof t=="string"?La(t):t,s=oi(i.pathname||"/",n);if(s==null)return null;let o=AI(e);uL(o);let a=null;for(let l=0;a==null&&l<o.length;++l){let c=xL(s);a=wL(o[l],c,r)}return a}function AI(e,t=[],n=[],r=""){let i=(s,o,a)=>{let l={relativePath:a===void 0?s.path||"":a,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};l.relativePath.startsWith("/")&&(Le(l.relativePath.startsWith(r),`Absolute route path "${l.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),l.relativePath=l.relativePath.slice(r.length));let c=Jr([r,l.relativePath]),d=n.concat(l);s.children&&s.children.length>0&&(Le(s.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${c}".`),AI(s.children,t,d,c)),!(s.path==null&&!s.index)&&t.push({path:c,score:yL(c,s.index),routesMeta:d})};return e.forEach((s,o)=>{var a;if(s.path===""||!((a=s.path)!=null&&a.includes("?")))i(s,o);else for(let l of NI(s.path))i(s,o,l)}),t}function NI(e){let t=e.split("/");if(t.length===0)return[];let[n,...r]=t,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let o=NI(r.join("/")),a=[];return a.push(...o.map(l=>l===""?s:[s,l].join("/"))),i&&a.push(...o),a.map(l=>e.startsWith("/")&&l===""?"/":l)}function uL(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:vL(t.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}var dL=/^:[\w-]+$/,hL=3,fL=2,pL=1,mL=10,gL=-2,_E=e=>e==="*";function yL(e,t){let n=e.split("/"),r=n.length;return n.some(_E)&&(r+=gL),t&&(r+=fL),n.filter(i=>!_E(i)).reduce((i,s)=>i+(dL.test(s)?hL:s===""?pL:mL),r)}function vL(e,t){return e.length===t.length&&e.slice(0,-1).every((r,i)=>r===t[i])?e[e.length-1]-t[t.length-1]:0}function wL(e,t,n=!1){let{routesMeta:r}=e,i={},s="/",o=[];for(let a=0;a<r.length;++a){let l=r[a],c=a===r.length-1,d=s==="/"?t:t.slice(s.length)||"/",h=jh({path:l.relativePath,caseSensitive:l.caseSensitive,end:c},d),f=l.route;if(!h&&c&&n&&!r[r.length-1].route.index&&(h=jh({path:l.relativePath,caseSensitive:l.caseSensitive,end:!1},d)),!h)return null;Object.assign(i,h.params),o.push({params:i,pathname:Jr([s,h.pathname]),pathnameBase:SL(Jr([s,h.pathnameBase])),route:f}),h.pathnameBase!=="/"&&(s=Jr([s,h.pathnameBase]))}return o}function jh(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=_L(e.path,e.caseSensitive,e.end),i=t.match(n);if(!i)return null;let s=i[0],o=s.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:r.reduce((c,{paramName:d,isOptional:h},f)=>{if(d==="*"){let v=a[f]||"";o=s.slice(0,s.length-v.length).replace(/(.)\/+$/,"$1")}const g=a[f];return h&&!g?c[d]=void 0:c[d]=(g||"").replace(/%2F/g,"/"),c},{}),pathname:s,pathnameBase:o,pattern:e}}function _L(e,t=!1,n=!0){cr(e==="*"||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,l)=>(r.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(r.push({paramName:"*"}),i+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":e!==""&&e!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,t?void 0:"i"),r]}function xL(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return cr(!1,`The URL path "${e}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),e}}function oi(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&r!=="/"?null:e.slice(n)||"/"}function EL(e,t="/"){let{pathname:n,search:r="",hash:i=""}=typeof e=="string"?La(e):e;return{pathname:n?n.startsWith("/")?n:bL(n,t):t,search:TL(r),hash:kL(i)}}function bL(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function $m(e,t,n,r){return`Cannot include a '${e}' character in a manually specified \`to.${t}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function CL(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function Wv(e){let t=CL(e);return t.map((n,r)=>r===t.length-1?n.pathname:n.pathnameBase)}function Hv(e,t,n,r=!1){let i;typeof e=="string"?i=La(e):(i={...e},Le(!i.pathname||!i.pathname.includes("?"),$m("?","pathname","search",i)),Le(!i.pathname||!i.pathname.includes("#"),$m("#","pathname","hash",i)),Le(!i.search||!i.search.includes("#"),$m("#","search","hash",i)));let s=e===""||i.pathname==="",o=s?"/":i.pathname,a;if(o==null)a=n;else{let h=t.length-1;if(!r&&o.startsWith("..")){let f=o.split("/");for(;f[0]==="..";)f.shift(),h-=1;i.pathname=f.join("/")}a=h>=0?t[h]:"/"}let l=EL(i,a),c=o&&o!=="/"&&o.endsWith("/"),d=(s||o===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(c||d)&&(l.pathname+="/"),l}var Jr=e=>e.join("/").replace(/\/\/+/g,"/"),SL=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),TL=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,kL=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function IL(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}var DI=["POST","PUT","PATCH","DELETE"];new Set(DI);var PL=["GET",...DI];new Set(PL);var ja=w.createContext(null);ja.displayName="DataRouter";var Bf=w.createContext(null);Bf.displayName="DataRouterState";var OI=w.createContext({isTransitioning:!1});OI.displayName="ViewTransition";var RL=w.createContext(new Map);RL.displayName="Fetchers";var AL=w.createContext(null);AL.displayName="Await";var hr=w.createContext(null);hr.displayName="Navigation";var du=w.createContext(null);du.displayName="Location";var fr=w.createContext({outlet:null,matches:[],isDataRoute:!1});fr.displayName="Route";var qv=w.createContext(null);qv.displayName="RouteError";function NL(e,{relative:t}={}){Le(Fa(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=w.useContext(hr),{hash:i,pathname:s,search:o}=hu(e,{relative:t}),a=s;return n!=="/"&&(a=s==="/"?n:Jr([n,s])),r.createHref({pathname:a,search:o,hash:i})}function Fa(){return w.useContext(du)!=null}function Nr(){return Le(Fa(),"useLocation() may be used only in the context of a <Router> component."),w.useContext(du).location}var MI="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function LI(e){w.useContext(hr).static||w.useLayoutEffect(e)}function $n(){let{isDataRoute:e}=w.useContext(fr);return e?HL():DL()}function DL(){Le(Fa(),"useNavigate() may be used only in the context of a <Router> component.");let e=w.useContext(ja),{basename:t,navigator:n}=w.useContext(hr),{matches:r}=w.useContext(fr),{pathname:i}=Nr(),s=JSON.stringify(Wv(r)),o=w.useRef(!1);return LI(()=>{o.current=!0}),w.useCallback((l,c={})=>{if(cr(o.current,MI),!o.current)return;if(typeof l=="number"){n.go(l);return}let d=Hv(l,JSON.parse(s),i,c.relative==="path");e==null&&t!=="/"&&(d.pathname=d.pathname==="/"?t:Jr([t,d.pathname])),(c.replace?n.replace:n.push)(d,c.state,c)},[t,n,s,i,e])}w.createContext(null);function Gv(){let{matches:e}=w.useContext(fr),t=e[e.length-1];return t?t.params:{}}function hu(e,{relative:t}={}){let{matches:n}=w.useContext(fr),{pathname:r}=Nr(),i=JSON.stringify(Wv(n));return w.useMemo(()=>Hv(e,JSON.parse(i),r,t==="path"),[e,i,r,t])}function OL(e,t){return jI(e,t)}function jI(e,t,n,r){var b;Le(Fa(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:i,static:s}=w.useContext(hr),{matches:o}=w.useContext(fr),a=o[o.length-1],l=a?a.params:{},c=a?a.pathname:"/",d=a?a.pathnameBase:"/",h=a&&a.route;{let E=h&&h.path||"";FI(c,!h||E.endsWith("*")||E.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${c}" (under <Route path="${E}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${E}"> to <Route path="${E==="/"?"*":`${E}/*`}">.`)}let f=Nr(),g;if(t){let E=typeof t=="string"?La(t):t;Le(d==="/"||((b=E.pathname)==null?void 0:b.startsWith(d)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${d}" but pathname "${E.pathname}" was given in the \`location\` prop.`),g=E}else g=f;let v=g.pathname||"/",S=v;if(d!=="/"){let E=d.replace(/^\//,"").split("/");S="/"+v.replace(/^\//,"").split("/").slice(E.length).join("/")}let k=!s&&n&&n.matches&&n.matches.length>0?n.matches:RI(e,{pathname:S});cr(h||k!=null,`No routes matched location "${g.pathname}${g.search}${g.hash}" `),cr(k==null||k[k.length-1].route.element!==void 0||k[k.length-1].route.Component!==void 0||k[k.length-1].route.lazy!==void 0,`Matched leaf route at location "${g.pathname}${g.search}${g.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let _=$L(k&&k.map(E=>Object.assign({},E,{params:Object.assign({},l,E.params),pathname:Jr([d,i.encodeLocation?i.encodeLocation(E.pathname).pathname:E.pathname]),pathnameBase:E.pathnameBase==="/"?d:Jr([d,i.encodeLocation?i.encodeLocation(E.pathnameBase).pathname:E.pathnameBase])})),o,n,r);return t&&_?w.createElement(du.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...g},navigationType:"POP"}},_):_}function ML(){let e=WL(),t=IL(e)?`${e.status} ${e.statusText}`:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,r="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:r},s={padding:"2px 4px",backgroundColor:r},o=null;return console.error("Error handled by React Router default ErrorBoundary:",e),o=w.createElement(w.Fragment,null,w.createElement("p",null," Hey developer "),w.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",w.createElement("code",{style:s},"ErrorBoundary")," or"," ",w.createElement("code",{style:s},"errorElement")," prop on your route.")),w.createElement(w.Fragment,null,w.createElement("h2",null,"Unexpected Application Error!"),w.createElement("h3",{style:{fontStyle:"italic"}},t),n?w.createElement("pre",{style:i},n):null,o)}var LL=w.createElement(ML,null),jL=class extends w.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return this.state.error!==void 0?w.createElement(fr.Provider,{value:this.props.routeContext},w.createElement(qv.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function FL({routeContext:e,match:t,children:n}){let r=w.useContext(ja);return r&&r.static&&r.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=t.route.id),w.createElement(fr.Provider,{value:e},n)}function $L(e,t=[],n=null,r=null){if(e==null){if(!n)return null;if(n.errors)e=n.matches;else if(t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let i=e,s=n==null?void 0:n.errors;if(s!=null){let l=i.findIndex(c=>c.route.id&&(s==null?void 0:s[c.route.id])!==void 0);Le(l>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(s).join(",")}`),i=i.slice(0,Math.min(i.length,l+1))}let o=!1,a=-1;if(n)for(let l=0;l<i.length;l++){let c=i[l];if((c.route.HydrateFallback||c.route.hydrateFallbackElement)&&(a=l),c.route.id){let{loaderData:d,errors:h}=n,f=c.route.loader&&!d.hasOwnProperty(c.route.id)&&(!h||h[c.route.id]===void 0);if(c.route.lazy||f){o=!0,a>=0?i=i.slice(0,a+1):i=[i[0]];break}}}return i.reduceRight((l,c,d)=>{let h,f=!1,g=null,v=null;n&&(h=s&&c.route.id?s[c.route.id]:void 0,g=c.route.errorElement||LL,o&&(a<0&&d===0?(FI("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),f=!0,v=null):a===d&&(f=!0,v=c.route.hydrateFallbackElement||null)));let S=t.concat(i.slice(0,d+1)),k=()=>{let _;return h?_=g:f?_=v:c.route.Component?_=w.createElement(c.route.Component,null):c.route.element?_=c.route.element:_=l,w.createElement(FL,{match:c,routeContext:{outlet:l,matches:S,isDataRoute:n!=null},children:_})};return n&&(c.route.ErrorBoundary||c.route.errorElement||d===0)?w.createElement(jL,{location:n.location,revalidation:n.revalidation,component:g,error:h,children:k(),routeContext:{outlet:null,matches:S,isDataRoute:!0}}):k()},null)}function Kv(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function VL(e){let t=w.useContext(ja);return Le(t,Kv(e)),t}function UL(e){let t=w.useContext(Bf);return Le(t,Kv(e)),t}function BL(e){let t=w.useContext(fr);return Le(t,Kv(e)),t}function Yv(e){let t=BL(e),n=t.matches[t.matches.length-1];return Le(n.route.id,`${e} can only be used on routes that contain a unique "id"`),n.route.id}function zL(){return Yv("useRouteId")}function WL(){var r;let e=w.useContext(qv),t=UL("useRouteError"),n=Yv("useRouteError");return e!==void 0?e:(r=t.errors)==null?void 0:r[n]}function HL(){let{router:e}=VL("useNavigate"),t=Yv("useNavigate"),n=w.useRef(!1);return LI(()=>{n.current=!0}),w.useCallback(async(i,s={})=>{cr(n.current,MI),n.current&&(typeof i=="number"?e.navigate(i):await e.navigate(i,{fromRouteId:t,...s}))},[e,t])}var xE={};function FI(e,t,n){!t&&!xE[e]&&(xE[e]=!0,cr(!1,n))}w.memo(qL);function qL({routes:e,future:t,state:n}){return jI(e,void 0,n,t)}function ky({to:e,replace:t,state:n,relative:r}){Le(Fa(),"<Navigate> may be used only in the context of a <Router> component.");let{static:i}=w.useContext(hr);cr(!i,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:s}=w.useContext(fr),{pathname:o}=Nr(),a=$n(),l=Hv(e,Wv(s),o,r==="path"),c=JSON.stringify(l);return w.useEffect(()=>{a(JSON.parse(c),{replace:t,state:n,relative:r})},[a,c,r,t,n]),null}function Ut(e){Le(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function GL({basename:e="/",children:t=null,location:n,navigationType:r="POP",navigator:i,static:s=!1}){Le(!Fa(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let o=e.replace(/^\/*/,"/"),a=w.useMemo(()=>({basename:o,navigator:i,static:s,future:{}}),[o,i,s]);typeof n=="string"&&(n=La(n));let{pathname:l="/",search:c="",hash:d="",state:h=null,key:f="default"}=n,g=w.useMemo(()=>{let v=oi(l,o);return v==null?null:{location:{pathname:v,search:c,hash:d,state:h,key:f},navigationType:r}},[o,l,c,d,h,f,r]);return cr(g!=null,`<Router basename="${o}"> is not able to match the URL "${l}${c}${d}" because it does not start with the basename, so the <Router> won't render anything.`),g==null?null:w.createElement(hr.Provider,{value:a},w.createElement(du.Provider,{children:t,value:g}))}function KL({children:e,location:t}){return OL(Iy(e),t)}function Iy(e,t=[]){let n=[];return w.Children.forEach(e,(r,i)=>{if(!w.isValidElement(r))return;let s=[...t,i];if(r.type===w.Fragment){n.push.apply(n,Iy(r.props.children,s));return}Le(r.type===Ut,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Le(!r.props.index||!r.props.children,"An index route cannot have child routes.");let o={id:r.props.id||s.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=Iy(r.props.children,s)),n.push(o)}),n}var Gd="get",Kd="application/x-www-form-urlencoded";function zf(e){return e!=null&&typeof e.tagName=="string"}function YL(e){return zf(e)&&e.tagName.toLowerCase()==="button"}function XL(e){return zf(e)&&e.tagName.toLowerCase()==="form"}function JL(e){return zf(e)&&e.tagName.toLowerCase()==="input"}function QL(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function ZL(e,t){return e.button===0&&(!t||t==="_self")&&!QL(e)}var gd=null;function ej(){if(gd===null)try{new FormData(document.createElement("form"),0),gd=!1}catch{gd=!0}return gd}var tj=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Vm(e){return e!=null&&!tj.has(e)?(cr(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Kd}"`),null):e}function nj(e,t){let n,r,i,s,o;if(XL(e)){let a=e.getAttribute("action");r=a?oi(a,t):null,n=e.getAttribute("method")||Gd,i=Vm(e.getAttribute("enctype"))||Kd,s=new FormData(e)}else if(YL(e)||JL(e)&&(e.type==="submit"||e.type==="image")){let a=e.form;if(a==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let l=e.getAttribute("formaction")||a.getAttribute("action");if(r=l?oi(l,t):null,n=e.getAttribute("formmethod")||a.getAttribute("method")||Gd,i=Vm(e.getAttribute("formenctype"))||Vm(a.getAttribute("enctype"))||Kd,s=new FormData(a,e),!ej()){let{name:c,type:d,value:h}=e;if(d==="image"){let f=c?`${c}.`:"";s.append(`${f}x`,"0"),s.append(`${f}y`,"0")}else c&&s.append(c,h)}}else{if(zf(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Gd,r=null,i=Kd,o=e}return s&&i==="text/plain"&&(o=s,s=void 0),{action:r,method:n.toLowerCase(),encType:i,formData:s,body:o}}function Xv(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}async function rj(e,t){if(e.id in t)return t[e.id];try{let n=await K4(()=>import(e.module),[]);return t[e.id]=n,n}catch(n){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function ij(e){return e!=null&&typeof e.page=="string"}function sj(e){return e==null?!1:e.href==null?e.rel==="preload"&&typeof e.imageSrcSet=="string"&&typeof e.imageSizes=="string":typeof e.rel=="string"&&typeof e.href=="string"}async function oj(e,t,n){let r=await Promise.all(e.map(async i=>{let s=t.routes[i.route.id];if(s){let o=await rj(s,n);return o.links?o.links():[]}return[]}));return uj(r.flat(1).filter(sj).filter(i=>i.rel==="stylesheet"||i.rel==="preload").map(i=>i.rel==="stylesheet"?{...i,rel:"prefetch",as:"style"}:{...i,rel:"prefetch"}))}function EE(e,t,n,r,i,s){let o=(l,c)=>n[c]?l.route.id!==n[c].route.id:!0,a=(l,c)=>{var d;return n[c].pathname!==l.pathname||((d=n[c].route.path)==null?void 0:d.endsWith("*"))&&n[c].params["*"]!==l.params["*"]};return s==="assets"?t.filter((l,c)=>o(l,c)||a(l,c)):s==="data"?t.filter((l,c)=>{var h;let d=r.routes[l.route.id];if(!d||!d.hasLoader)return!1;if(o(l,c)||a(l,c))return!0;if(l.route.shouldRevalidate){let f=l.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:((h=n[0])==null?void 0:h.params)||{},nextUrl:new URL(e,window.origin),nextParams:l.params,defaultShouldRevalidate:!0});if(typeof f=="boolean")return f}return!0}):[]}function aj(e,t,{includeHydrateFallback:n}={}){return lj(e.map(r=>{let i=t.routes[r.route.id];if(!i)return[];let s=[i.module];return i.clientActionModule&&(s=s.concat(i.clientActionModule)),i.clientLoaderModule&&(s=s.concat(i.clientLoaderModule)),n&&i.hydrateFallbackModule&&(s=s.concat(i.hydrateFallbackModule)),i.imports&&(s=s.concat(i.imports)),s}).flat(1))}function lj(e){return[...new Set(e)]}function cj(e){let t={},n=Object.keys(e).sort();for(let r of n)t[r]=e[r];return t}function uj(e,t){let n=new Set,r=new Set(t);return e.reduce((i,s)=>{if(t&&!ij(s)&&s.as==="script"&&s.href&&r.has(s.href))return i;let a=JSON.stringify(cj(s));return n.has(a)||(n.add(a),i.push({key:a,link:s})),i},[])}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var dj=new Set([100,101,204,205]);function hj(e,t){let n=typeof e=="string"?new URL(e,typeof window>"u"?"server://singlefetch/":window.location.origin):e;return n.pathname==="/"?n.pathname="_root.data":t&&oi(n.pathname,t)==="/"?n.pathname=`${t.replace(/\/$/,"")}/_root.data`:n.pathname=`${n.pathname.replace(/\/$/,"")}.data`,n}function $I(){let e=w.useContext(ja);return Xv(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function fj(){let e=w.useContext(Bf);return Xv(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var Jv=w.createContext(void 0);Jv.displayName="FrameworkContext";function VI(){let e=w.useContext(Jv);return Xv(e,"You must render this element inside a <HydratedRouter> element"),e}function pj(e,t){let n=w.useContext(Jv),[r,i]=w.useState(!1),[s,o]=w.useState(!1),{onFocus:a,onBlur:l,onMouseEnter:c,onMouseLeave:d,onTouchStart:h}=t,f=w.useRef(null);w.useEffect(()=>{if(e==="render"&&o(!0),e==="viewport"){let S=_=>{_.forEach(b=>{o(b.isIntersecting)})},k=new IntersectionObserver(S,{threshold:.5});return f.current&&k.observe(f.current),()=>{k.disconnect()}}},[e]),w.useEffect(()=>{if(r){let S=setTimeout(()=>{o(!0)},100);return()=>{clearTimeout(S)}}},[r]);let g=()=>{i(!0)},v=()=>{i(!1),o(!1)};return n?e!=="intent"?[s,f,{}]:[s,f,{onFocus:vl(a,g),onBlur:vl(l,v),onMouseEnter:vl(c,g),onMouseLeave:vl(d,v),onTouchStart:vl(h,g)}]:[!1,f,{}]}function vl(e,t){return n=>{e&&e(n),n.defaultPrevented||t(n)}}function mj({page:e,...t}){let{router:n}=$I(),r=w.useMemo(()=>RI(n.routes,e,n.basename),[n.routes,e,n.basename]);return r?w.createElement(yj,{page:e,matches:r,...t}):null}function gj(e){let{manifest:t,routeModules:n}=VI(),[r,i]=w.useState([]);return w.useEffect(()=>{let s=!1;return oj(e,t,n).then(o=>{s||i(o)}),()=>{s=!0}},[e,t,n]),r}function yj({page:e,matches:t,...n}){let r=Nr(),{manifest:i,routeModules:s}=VI(),{basename:o}=$I(),{loaderData:a,matches:l}=fj(),c=w.useMemo(()=>EE(e,t,l,i,r,"data"),[e,t,l,i,r]),d=w.useMemo(()=>EE(e,t,l,i,r,"assets"),[e,t,l,i,r]),h=w.useMemo(()=>{if(e===r.pathname+r.search+r.hash)return[];let v=new Set,S=!1;if(t.forEach(_=>{var E;let b=i.routes[_.route.id];!b||!b.hasLoader||(!c.some(R=>R.route.id===_.route.id)&&_.route.id in a&&((E=s[_.route.id])!=null&&E.shouldRevalidate)||b.hasClientLoader?S=!0:v.add(_.route.id))}),v.size===0)return[];let k=hj(e,o);return S&&v.size>0&&k.searchParams.set("_routes",t.filter(_=>v.has(_.route.id)).map(_=>_.route.id).join(",")),[k.pathname+k.search]},[o,a,r,i,c,t,e,s]),f=w.useMemo(()=>aj(d,i),[d,i]),g=gj(d);return w.createElement(w.Fragment,null,h.map(v=>w.createElement("link",{key:v,rel:"prefetch",as:"fetch",href:v,...n})),f.map(v=>w.createElement("link",{key:v,rel:"modulepreload",href:v,...n})),g.map(({key:v,link:S})=>w.createElement("link",{key:v,...S})))}function vj(...e){return t=>{e.forEach(n=>{typeof n=="function"?n(t):n!=null&&(n.current=t)})}}var UI=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{UI&&(window.__reactRouterVersion="7.6.0")}catch{}function wj({basename:e,children:t,window:n}){let r=w.useRef();r.current==null&&(r.current=sL({window:n,v5Compat:!0}));let i=r.current,[s,o]=w.useState({action:i.action,location:i.location}),a=w.useCallback(l=>{w.startTransition(()=>o(l))},[o]);return w.useLayoutEffect(()=>i.listen(a),[i,a]),w.createElement(GL,{basename:e,children:t,location:s.location,navigationType:s.action,navigator:i})}var BI=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Yn=w.forwardRef(function({onClick:t,discover:n="render",prefetch:r="none",relative:i,reloadDocument:s,replace:o,state:a,target:l,to:c,preventScrollReset:d,viewTransition:h,...f},g){let{basename:v}=w.useContext(hr),S=typeof c=="string"&&BI.test(c),k,_=!1;if(typeof c=="string"&&S&&(k=c,UI))try{let I=new URL(window.location.href),y=c.startsWith("//")?new URL(I.protocol+c):new URL(c),N=oi(y.pathname,v);y.origin===I.origin&&N!=null?c=N+y.search+y.hash:_=!0}catch{cr(!1,`<Link to="${c}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let b=NL(c,{relative:i}),[E,R,D]=pj(r,f),M=bj(c,{replace:o,state:a,target:l,preventScrollReset:d,relative:i,viewTransition:h});function T(I){t&&t(I),I.defaultPrevented||M(I)}let C=w.createElement("a",{...f,...D,href:k||b,onClick:_||s?t:T,ref:vj(g,R),target:l,"data-discover":!S&&n==="render"?"true":void 0});return E&&!S?w.createElement(w.Fragment,null,C,w.createElement(mj,{page:b})):C});Yn.displayName="Link";var _j=w.forwardRef(function({"aria-current":t="page",caseSensitive:n=!1,className:r="",end:i=!1,style:s,to:o,viewTransition:a,children:l,...c},d){let h=hu(o,{relative:c.relative}),f=Nr(),g=w.useContext(Bf),{navigator:v,basename:S}=w.useContext(hr),k=g!=null&&Ij(h)&&a===!0,_=v.encodeLocation?v.encodeLocation(h).pathname:h.pathname,b=f.pathname,E=g&&g.navigation&&g.navigation.location?g.navigation.location.pathname:null;n||(b=b.toLowerCase(),E=E?E.toLowerCase():null,_=_.toLowerCase()),E&&S&&(E=oi(E,S)||E);const R=_!=="/"&&_.endsWith("/")?_.length-1:_.length;let D=b===_||!i&&b.startsWith(_)&&b.charAt(R)==="/",M=E!=null&&(E===_||!i&&E.startsWith(_)&&E.charAt(_.length)==="/"),T={isActive:D,isPending:M,isTransitioning:k},C=D?t:void 0,I;typeof r=="function"?I=r(T):I=[r,D?"active":null,M?"pending":null,k?"transitioning":null].filter(Boolean).join(" ");let y=typeof s=="function"?s(T):s;return w.createElement(Yn,{...c,"aria-current":C,className:I,ref:d,style:y,to:o,viewTransition:a},typeof l=="function"?l(T):l)});_j.displayName="NavLink";var xj=w.forwardRef(({discover:e="render",fetcherKey:t,navigate:n,reloadDocument:r,replace:i,state:s,method:o=Gd,action:a,onSubmit:l,relative:c,preventScrollReset:d,viewTransition:h,...f},g)=>{let v=Tj(),S=kj(a,{relative:c}),k=o.toLowerCase()==="get"?"get":"post",_=typeof a=="string"&&BI.test(a),b=E=>{if(l&&l(E),E.defaultPrevented)return;E.preventDefault();let R=E.nativeEvent.submitter,D=(R==null?void 0:R.getAttribute("formmethod"))||o;v(R||E.currentTarget,{fetcherKey:t,method:D,navigate:n,replace:i,state:s,relative:c,preventScrollReset:d,viewTransition:h})};return w.createElement("form",{ref:g,method:k,action:S,onSubmit:r?l:b,...f,"data-discover":!_&&e==="render"?"true":void 0})});xj.displayName="Form";function Ej(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function zI(e){let t=w.useContext(ja);return Le(t,Ej(e)),t}function bj(e,{target:t,replace:n,state:r,preventScrollReset:i,relative:s,viewTransition:o}={}){let a=$n(),l=Nr(),c=hu(e,{relative:s});return w.useCallback(d=>{if(ZL(d,t)){d.preventDefault();let h=n!==void 0?n:Dc(l)===Dc(c);a(e,{replace:h,state:r,preventScrollReset:i,relative:s,viewTransition:o})}},[l,a,c,n,r,t,e,i,s,o])}var Cj=0,Sj=()=>`__${String(++Cj)}__`;function Tj(){let{router:e}=zI("useSubmit"),{basename:t}=w.useContext(hr),n=zL();return w.useCallback(async(r,i={})=>{let{action:s,method:o,encType:a,formData:l,body:c}=nj(r,t);if(i.navigate===!1){let d=i.fetcherKey||Sj();await e.fetch(d,n,i.action||s,{preventScrollReset:i.preventScrollReset,formData:l,body:c,formMethod:i.method||o,formEncType:i.encType||a,flushSync:i.flushSync})}else await e.navigate(i.action||s,{preventScrollReset:i.preventScrollReset,formData:l,body:c,formMethod:i.method||o,formEncType:i.encType||a,replace:i.replace,state:i.state,fromRouteId:n,flushSync:i.flushSync,viewTransition:i.viewTransition})},[e,t,n])}function kj(e,{relative:t}={}){let{basename:n}=w.useContext(hr),r=w.useContext(fr);Le(r,"useFormAction must be used inside a RouteContext");let[i]=r.matches.slice(-1),s={...hu(e||".",{relative:t})},o=Nr();if(e==null){s.search=o.search;let a=new URLSearchParams(s.search),l=a.getAll("index");if(l.some(d=>d==="")){a.delete("index"),l.filter(h=>h).forEach(h=>a.append("index",h));let d=a.toString();s.search=d?`?${d}`:""}}return(!e||e===".")&&i.route.index&&(s.search=s.search?s.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(s.pathname=s.pathname==="/"?n:Jr([n,s.pathname])),Dc(s)}function Ij(e,t={}){let n=w.useContext(OI);Le(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=zI("useViewTransitionState"),i=hu(e,{relative:t.relative});if(!n.isTransitioning)return!1;let s=oi(n.currentLocation.pathname,r)||n.currentLocation.pathname,o=oi(n.nextLocation.pathname,r)||n.nextLocation.pathname;return jh(i.pathname,o)!=null||jh(i.pathname,s)!=null}[...dj];const Pj=()=>{};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WI={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z=function(e,t){if(!e)throw $a(t)},$a=function(e){return new Error("Firebase Database ("+WI.SDK_VERSION+") INTERNAL ASSERT FAILED: "+e)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HI=function(e){const t=[];let n=0;for(let r=0;r<e.length;r++){let i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=i&63|128):(i&64512)===55296&&r+1<e.length&&(e.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(e.charCodeAt(++r)&1023),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=i&63|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=i&63|128)}return t},Rj=function(e){const t=[];let n=0,r=0;for(;n<e.length;){const i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=e[n++];t[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=e[n++],o=e[n++],a=e[n++],l=((i&7)<<18|(s&63)<<12|(o&63)<<6|a&63)-65536;t[r++]=String.fromCharCode(55296+(l>>10)),t[r++]=String.fromCharCode(56320+(l&1023))}else{const s=e[n++],o=e[n++];t[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return t.join("")},Qv={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<e.length;i+=3){const s=e[i],o=i+1<e.length,a=o?e[i+1]:0,l=i+2<e.length,c=l?e[i+2]:0,d=s>>2,h=(s&3)<<4|a>>4;let f=(a&15)<<2|c>>6,g=c&63;l||(g=64,o||(f=64)),r.push(n[d],n[h],n[f],n[g])}return r.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(HI(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):Rj(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<e.length;){const s=n[e.charAt(i++)],a=i<e.length?n[e.charAt(i)]:0;++i;const c=i<e.length?n[e.charAt(i)]:64;++i;const h=i<e.length?n[e.charAt(i)]:64;if(++i,s==null||a==null||c==null||h==null)throw new Aj;const f=s<<2|a>>4;if(r.push(f),c!==64){const g=a<<4&240|c>>2;if(r.push(g),h!==64){const v=c<<6&192|h;r.push(v)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class Aj extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const qI=function(e){const t=HI(e);return Qv.encodeByteArray(t,!0)},Fh=function(e){return qI(e).replace(/\./g,"")},$h=function(e){try{return Qv.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nj(e){return GI(void 0,e)}function GI(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:const n=t;return new Date(n.getTime());case Object:e===void 0&&(e={});break;case Array:e=[];break;default:return t}for(const n in t)!t.hasOwnProperty(n)||!Dj(n)||(e[n]=GI(e[n],t[n]));return e}function Dj(e){return e!=="__proto__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Oj(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mj=()=>Oj().__FIREBASE_DEFAULTS__,Lj=()=>{if(typeof process>"u"||typeof process.env>"u")return;const e={}.__FIREBASE_DEFAULTS__;if(e)return JSON.parse(e)},jj=()=>{if(typeof document>"u")return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=e&&$h(e[1]);return t&&JSON.parse(t)},Zv=()=>{try{return Pj()||Mj()||Lj()||jj()}catch(e){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${e}`);return}},KI=e=>{var t,n;return(n=(t=Zv())===null||t===void 0?void 0:t.emulatorHosts)===null||n===void 0?void 0:n[e]},ew=e=>{const t=KI(e);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const r=parseInt(t.substring(n+1),10);return t[0]==="["?[t.substring(1,n-1),r]:[t.substring(0,n),r]},YI=()=>{var e;return(e=Zv())===null||e===void 0?void 0:e.config},XI=e=>{var t;return(t=Zv())===null||t===void 0?void 0:t[`_${e}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fu{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}wrapCallback(t){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(n):t(n,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uo(e){return e.endsWith(".cloudworkstations.dev")}async function Wf(e){return(await fetch(e,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tw(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=t||"demo-project",i=e.iat||0,s=e.sub||e.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},e),a="";return[Fh(JSON.stringify(n)),Fh(JSON.stringify(o)),a].join(".")}const Xl={};function Fj(){const e={prod:[],emulator:[]};for(const t of Object.keys(Xl))Xl[t]?e.emulator.push(t):e.prod.push(t);return e}function $j(e){let t=document.getElementById(e),n=!1;return t||(t=document.createElement("div"),t.setAttribute("id",e),n=!0),{created:n,element:t}}let bE=!1;function ds(e,t){if(typeof window>"u"||typeof document>"u"||!uo(window.location.host)||Xl[e]===t||Xl[e]||bE)return;Xl[e]=t;function n(f){return`__firebase__banner__${f}`}const r="__firebase__banner",s=Fj().prod.length>0;function o(){const f=document.getElementById(r);f&&f.remove()}function a(f){f.style.display="flex",f.style.background="#7faaf0",f.style.position="fixed",f.style.bottom="5px",f.style.left="5px",f.style.padding=".5em",f.style.borderRadius="5px",f.style.alignItems="center"}function l(f,g){f.setAttribute("width","24"),f.setAttribute("id",g),f.setAttribute("height","24"),f.setAttribute("viewBox","0 0 24 24"),f.setAttribute("fill","none"),f.style.marginLeft="-6px"}function c(){const f=document.createElement("span");return f.style.cursor="pointer",f.style.marginLeft="16px",f.style.fontSize="24px",f.innerHTML=" &times;",f.onclick=()=>{bE=!0,o()},f}function d(f,g){f.setAttribute("id",g),f.innerText="Learn more",f.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",f.setAttribute("target","__blank"),f.style.paddingLeft="5px",f.style.textDecoration="underline"}function h(){const f=$j(r),g=n("text"),v=document.getElementById(g)||document.createElement("span"),S=n("learnmore"),k=document.getElementById(S)||document.createElement("a"),_=n("preprendIcon"),b=document.getElementById(_)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(f.created){const E=f.element;a(E),d(k,S);const R=c();l(b,_),E.append(b,v,k,R),document.body.appendChild(E)}s?(v.innerText="Preview backend disconnected.",b.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(b.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,v.innerText="Preview backend running in this workspace."),v.setAttribute("id",g)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",h):h()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function nw(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Kt())}function Vj(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function Uj(){const e=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof e=="object"&&e.id!==void 0}function JI(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function Bj(){const e=Kt();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function QI(){return WI.NODE_ADMIN===!0}function ZI(){try{return typeof indexedDB=="object"}catch{return!1}}function e2(){return new Promise((e,t)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;t(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){t(n)}})}function zj(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wj="FirebaseError";class pr extends Error{constructor(t,n,r){super(n),this.code=t,this.customData=r,this.name=Wj,Object.setPrototypeOf(this,pr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ho.prototype.create)}}class ho{constructor(t,n,r){this.service=t,this.serviceName=n,this.errors=r}create(t,...n){const r=n[0]||{},i=`${this.service}/${t}`,s=this.errors[t],o=s?Hj(s,r):"Error",a=`${this.serviceName}: ${o} (${i}).`;return new pr(i,a,r)}}function Hj(e,t){return e.replace(qj,(n,r)=>{const i=t[r];return i!=null?String(i):`<${r}?>`})}const qj=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Oc(e){return JSON.parse(e)}function at(e){return JSON.stringify(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const t2=function(e){let t={},n={},r={},i="";try{const s=e.split(".");t=Oc($h(s[0])||""),n=Oc($h(s[1])||""),i=s[2],r=n.d||{},delete n.d}catch{}return{header:t,claims:n,data:r,signature:i}},Gj=function(e){const t=t2(e),n=t.claims;return!!n&&typeof n=="object"&&n.hasOwnProperty("iat")},Kj=function(e){const t=t2(e).claims;return typeof t=="object"&&t.admin===!0};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dr(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function va(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]}function Py(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function Vh(e,t,n){const r={};for(const i in e)Object.prototype.hasOwnProperty.call(e,i)&&(r[i]=t.call(n,e[i],i,e));return r}function ts(e,t){if(e===t)return!0;const n=Object.keys(e),r=Object.keys(t);for(const i of n){if(!r.includes(i))return!1;const s=e[i],o=t[i];if(CE(s)&&CE(o)){if(!ts(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function CE(e){return e!==null&&typeof e=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Va(e){const t=[];for(const[n,r]of Object.entries(e))Array.isArray(r)?r.forEach(i=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):t.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return t.length?"&"+t.join("&"):""}function Nl(e){const t={};return e.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,s]=r.split("=");t[decodeURIComponent(i)]=decodeURIComponent(s)}}),t}function Dl(e){const t=e.indexOf("?");if(!t)return"";const n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yj{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let t=1;t<this.blockSize;++t)this.pad_[t]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(t,n){n||(n=0);const r=this.W_;if(typeof t=="string")for(let h=0;h<16;h++)r[h]=t.charCodeAt(n)<<24|t.charCodeAt(n+1)<<16|t.charCodeAt(n+2)<<8|t.charCodeAt(n+3),n+=4;else for(let h=0;h<16;h++)r[h]=t[n]<<24|t[n+1]<<16|t[n+2]<<8|t[n+3],n+=4;for(let h=16;h<80;h++){const f=r[h-3]^r[h-8]^r[h-14]^r[h-16];r[h]=(f<<1|f>>>31)&4294967295}let i=this.chain_[0],s=this.chain_[1],o=this.chain_[2],a=this.chain_[3],l=this.chain_[4],c,d;for(let h=0;h<80;h++){h<40?h<20?(c=a^s&(o^a),d=1518500249):(c=s^o^a,d=1859775393):h<60?(c=s&o|a&(s|o),d=2400959708):(c=s^o^a,d=3395469782);const f=(i<<5|i>>>27)+c+l+d+r[h]&4294967295;l=a,a=o,o=(s<<30|s>>>2)&4294967295,s=i,i=f}this.chain_[0]=this.chain_[0]+i&4294967295,this.chain_[1]=this.chain_[1]+s&4294967295,this.chain_[2]=this.chain_[2]+o&4294967295,this.chain_[3]=this.chain_[3]+a&4294967295,this.chain_[4]=this.chain_[4]+l&4294967295}update(t,n){if(t==null)return;n===void 0&&(n=t.length);const r=n-this.blockSize;let i=0;const s=this.buf_;let o=this.inbuf_;for(;i<n;){if(o===0)for(;i<=r;)this.compress_(t,i),i+=this.blockSize;if(typeof t=="string"){for(;i<n;)if(s[o]=t.charCodeAt(i),++o,++i,o===this.blockSize){this.compress_(s),o=0;break}}else for(;i<n;)if(s[o]=t[i],++o,++i,o===this.blockSize){this.compress_(s),o=0;break}}this.inbuf_=o,this.total_+=n}digest(){const t=[];let n=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let i=this.blockSize-1;i>=56;i--)this.buf_[i]=n&255,n/=256;this.compress_(this.buf_);let r=0;for(let i=0;i<5;i++)for(let s=24;s>=0;s-=8)t[r]=this.chain_[i]>>s&255,++r;return t}}function Xj(e,t){const n=new Jj(e,t);return n.subscribe.bind(n)}class Jj{constructor(t,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{t(this)}).catch(r=>{this.error(r)})}next(t){this.forEachObserver(n=>{n.next(t)})}error(t){this.forEachObserver(n=>{n.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,n,r){let i;if(t===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");Qj(t,["next","error","complete"])?i=t:i={next:t,error:n,complete:r},i.next===void 0&&(i.next=Um),i.error===void 0&&(i.error=Um),i.complete===void 0&&(i.complete=Um);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,t)}sendOne(t,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{n(this.observers[t])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Qj(e,t){if(typeof e!="object"||e===null)return!1;for(const n of t)if(n in e&&typeof e[n]=="function")return!0;return!1}function Um(){}function Hf(e,t){return`${e} failed: ${t} argument `}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zj=function(e){const t=[];let n=0;for(let r=0;r<e.length;r++){let i=e.charCodeAt(r);if(i>=55296&&i<=56319){const s=i-55296;r++,z(r<e.length,"Surrogate pair missing trail surrogate.");const o=e.charCodeAt(r)-56320;i=65536+(s<<10)+o}i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=i&63|128):i<65536?(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=i&63|128):(t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=i&63|128)}return t},qf=function(e){let t=0;for(let n=0;n<e.length;n++){const r=e.charCodeAt(n);r<128?t++:r<2048?t+=2:r>=55296&&r<=56319?(t+=4,n++):t+=3}return t};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function it(e){return e&&e._delegate?e._delegate:e}class cn{constructor(t,n,r){this.name=t,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cs="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e5{constructor(t,n){this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const n=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(n)){const r=new fu;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(t){var n;const r=this.normalizeInstanceIdentifier(t==null?void 0:t.identifier),i=(n=t==null?void 0:t.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(n5(t))try{this.getOrInitializeService({instanceIdentifier:Cs})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(t=Cs){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...t.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=Cs){return this.instances.has(t)}getOptions(t=Cs){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:n={}}=t,r=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(s);r===a&&o.resolve(i)}return i}onInit(t,n){var r;const i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(t),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&t(o,i),()=>{s.delete(t)}}invokeOnInitCallbacks(t,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(t,n)}catch{}}getOrInitializeService({instanceIdentifier:t,options:n={}}){let r=this.instances.get(t);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:t5(t),options:n}),this.instances.set(t,r),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(r,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,r)}catch{}return r||null}normalizeInstanceIdentifier(t=Cs){return this.component?this.component.multipleInstances?t:Cs:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function t5(e){return e===Cs?void 0:e}function n5(e){return e.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r5{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const n=this.getProvider(t.name);if(n.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);n.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const n=new e5(t,this);return this.providers.set(t,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var _e;(function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"})(_e||(_e={}));const i5={debug:_e.DEBUG,verbose:_e.VERBOSE,info:_e.INFO,warn:_e.WARN,error:_e.ERROR,silent:_e.SILENT},s5=_e.INFO,o5={[_e.DEBUG]:"log",[_e.VERBOSE]:"log",[_e.INFO]:"info",[_e.WARN]:"warn",[_e.ERROR]:"error"},a5=(e,t,...n)=>{if(t<e.logLevel)return;const r=new Date().toISOString(),i=o5[t];if(i)console[i](`[${r}]  ${e.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class Gf{constructor(t){this.name=t,this._logLevel=s5,this._logHandler=a5,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in _e))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?i5[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,_e.DEBUG,...t),this._logHandler(this,_e.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,_e.VERBOSE,...t),this._logHandler(this,_e.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,_e.INFO,...t),this._logHandler(this,_e.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,_e.WARN,...t),this._logHandler(this,_e.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,_e.ERROR,...t),this._logHandler(this,_e.ERROR,...t)}}const l5=(e,t)=>t.some(n=>e instanceof n);let SE,TE;function c5(){return SE||(SE=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function u5(){return TE||(TE=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const n2=new WeakMap,Ry=new WeakMap,r2=new WeakMap,Bm=new WeakMap,rw=new WeakMap;function d5(e){const t=new Promise((n,r)=>{const i=()=>{e.removeEventListener("success",s),e.removeEventListener("error",o)},s=()=>{n(Qr(e.result)),i()},o=()=>{r(e.error),i()};e.addEventListener("success",s),e.addEventListener("error",o)});return t.then(n=>{n instanceof IDBCursor&&n2.set(n,e)}).catch(()=>{}),rw.set(t,e),t}function h5(e){if(Ry.has(e))return;const t=new Promise((n,r)=>{const i=()=>{e.removeEventListener("complete",s),e.removeEventListener("error",o),e.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(e.error||new DOMException("AbortError","AbortError")),i()};e.addEventListener("complete",s),e.addEventListener("error",o),e.addEventListener("abort",o)});Ry.set(e,t)}let Ay={get(e,t,n){if(e instanceof IDBTransaction){if(t==="done")return Ry.get(e);if(t==="objectStoreNames")return e.objectStoreNames||r2.get(e);if(t==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Qr(e[t])},set(e,t,n){return e[t]=n,!0},has(e,t){return e instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in e}};function f5(e){Ay=e(Ay)}function p5(e){return e===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...n){const r=e.call(zm(this),t,...n);return r2.set(r,t.sort?t.sort():[t]),Qr(r)}:u5().includes(e)?function(...t){return e.apply(zm(this),t),Qr(n2.get(this))}:function(...t){return Qr(e.apply(zm(this),t))}}function m5(e){return typeof e=="function"?p5(e):(e instanceof IDBTransaction&&h5(e),l5(e,c5())?new Proxy(e,Ay):e)}function Qr(e){if(e instanceof IDBRequest)return d5(e);if(Bm.has(e))return Bm.get(e);const t=m5(e);return t!==e&&(Bm.set(e,t),rw.set(t,e)),t}const zm=e=>rw.get(e);function Kf(e,t,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(e,t),a=Qr(o);return r&&o.addEventListener("upgradeneeded",l=>{r(Qr(o.result),l.oldVersion,l.newVersion,Qr(o.transaction),l)}),n&&o.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{s&&l.addEventListener("close",()=>s()),i&&l.addEventListener("versionchange",c=>i(c.oldVersion,c.newVersion,c))}).catch(()=>{}),a}function Wm(e,{blocked:t}={}){const n=indexedDB.deleteDatabase(e);return t&&n.addEventListener("blocked",r=>t(r.oldVersion,r)),Qr(n).then(()=>{})}const g5=["get","getKey","getAll","getAllKeys","count"],y5=["put","add","delete","clear"],Hm=new Map;function kE(e,t){if(!(e instanceof IDBDatabase&&!(t in e)&&typeof t=="string"))return;if(Hm.get(t))return Hm.get(t);const n=t.replace(/FromIndex$/,""),r=t!==n,i=y5.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||g5.includes(n)))return;const s=async function(o,...a){const l=this.transaction(o,i?"readwrite":"readonly");let c=l.store;return r&&(c=c.index(a.shift())),(await Promise.all([c[n](...a),i&&l.done]))[0]};return Hm.set(t,s),s}f5(e=>({...e,get:(t,n,r)=>kE(t,n)||e.get(t,n,r),has:(t,n)=>!!kE(t,n)||e.has(t,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v5{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(w5(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function w5(e){const t=e.getComponent();return(t==null?void 0:t.type)==="VERSION"}const Ny="@firebase/app",IE="0.12.3";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ai=new Gf("@firebase/app"),_5="@firebase/app-compat",x5="@firebase/analytics-compat",E5="@firebase/analytics",b5="@firebase/app-check-compat",C5="@firebase/app-check",S5="@firebase/auth",T5="@firebase/auth-compat",k5="@firebase/database",I5="@firebase/data-connect",P5="@firebase/database-compat",R5="@firebase/functions",A5="@firebase/functions-compat",N5="@firebase/installations",D5="@firebase/installations-compat",O5="@firebase/messaging",M5="@firebase/messaging-compat",L5="@firebase/performance",j5="@firebase/performance-compat",F5="@firebase/remote-config",$5="@firebase/remote-config-compat",V5="@firebase/storage",U5="@firebase/storage-compat",B5="@firebase/firestore",z5="@firebase/vertexai",W5="@firebase/firestore-compat",H5="firebase",q5="11.7.3";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dy="[DEFAULT]",G5={[Ny]:"fire-core",[_5]:"fire-core-compat",[E5]:"fire-analytics",[x5]:"fire-analytics-compat",[C5]:"fire-app-check",[b5]:"fire-app-check-compat",[S5]:"fire-auth",[T5]:"fire-auth-compat",[k5]:"fire-rtdb",[I5]:"fire-data-connect",[P5]:"fire-rtdb-compat",[R5]:"fire-fn",[A5]:"fire-fn-compat",[N5]:"fire-iid",[D5]:"fire-iid-compat",[O5]:"fire-fcm",[M5]:"fire-fcm-compat",[L5]:"fire-perf",[j5]:"fire-perf-compat",[F5]:"fire-rc",[$5]:"fire-rc-compat",[V5]:"fire-gcs",[U5]:"fire-gcs-compat",[B5]:"fire-fst",[W5]:"fire-fst-compat",[z5]:"fire-vertex","fire-js":"fire-js",[H5]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uh=new Map,K5=new Map,Oy=new Map;function PE(e,t){try{e.container.addComponent(t)}catch(n){ai.debug(`Component ${t.name} failed to register with FirebaseApp ${e.name}`,n)}}function xn(e){const t=e.name;if(Oy.has(t))return ai.debug(`There were multiple attempts to register component ${t}.`),!1;Oy.set(t,e);for(const n of Uh.values())PE(n,e);for(const n of K5.values())PE(n,e);return!0}function hs(e,t){const n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}function Ot(e){return e==null?!1:e.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y5={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Yi=new ho("app","Firebase",Y5);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X5{constructor(t,n,r){this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new cn("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw Yi.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fs=q5;function i2(e,t={}){let n=e;typeof t!="object"&&(t={name:t});const r=Object.assign({name:Dy,automaticDataCollectionEnabled:!1},t),i=r.name;if(typeof i!="string"||!i)throw Yi.create("bad-app-name",{appName:String(i)});if(n||(n=YI()),!n)throw Yi.create("no-options");const s=Uh.get(i);if(s){if(ts(n,s.options)&&ts(r,s.config))return s;throw Yi.create("duplicate-app",{appName:i})}const o=new r5(i);for(const l of Oy.values())o.addComponent(l);const a=new X5(n,r,o);return Uh.set(i,a),a}function pu(e=Dy){const t=Uh.get(e);if(!t&&e===Dy&&YI())return i2();if(!t)throw Yi.create("no-app",{appName:e});return t}function mt(e,t,n){var r;let i=(r=G5[e])!==null&&r!==void 0?r:e;n&&(i+=`-${n}`);const s=i.match(/\s|\//),o=t.match(/\s|\//);if(s||o){const a=[`Unable to register library "${i}" with version "${t}":`];s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${t}" contains illegal characters (whitespace or "/")`),ai.warn(a.join(" "));return}xn(new cn(`${i}-version`,()=>({library:i,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J5="firebase-heartbeat-database",Q5=1,Mc="firebase-heartbeat-store";let qm=null;function s2(){return qm||(qm=Kf(J5,Q5,{upgrade:(e,t)=>{switch(t){case 0:try{e.createObjectStore(Mc)}catch(n){console.warn(n)}}}}).catch(e=>{throw Yi.create("idb-open",{originalErrorMessage:e.message})})),qm}async function Z5(e){try{const n=(await s2()).transaction(Mc),r=await n.objectStore(Mc).get(o2(e));return await n.done,r}catch(t){if(t instanceof pr)ai.warn(t.message);else{const n=Yi.create("idb-get",{originalErrorMessage:t==null?void 0:t.message});ai.warn(n.message)}}}async function RE(e,t){try{const r=(await s2()).transaction(Mc,"readwrite");await r.objectStore(Mc).put(t,o2(e)),await r.done}catch(n){if(n instanceof pr)ai.warn(n.message);else{const r=Yi.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});ai.warn(r.message)}}}function o2(e){return`${e.name}!${e.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eF=1024,tF=30;class nF{constructor(t){this.container=t,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new iF(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var t,n;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=AE();if(((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats.length>tF){const o=sF(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){ai.warn(r)}}async getHeartbeatsHeader(){var t;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=AE(),{heartbeatsToSend:r,unsentEntries:i}=rF(this._heartbeatsCache.heartbeats),s=Fh(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(n){return ai.warn(n),""}}}function AE(){return new Date().toISOString().substring(0,10)}function rF(e,t=eF){const n=[];let r=e.slice();for(const i of e){const s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),NE(n)>t){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),NE(n)>t){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class iF{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return ZI()?e2().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await Z5(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return RE(this.app,{lastSentHeartbeatDate:(n=t.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return RE(this.app,{lastSentHeartbeatDate:(n=t.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...t.heartbeats]})}else return}}function NE(e){return Fh(JSON.stringify({version:2,heartbeats:e})).length}function sF(e){if(e.length===0)return-1;let t=0,n=e[0].date;for(let r=1;r<e.length;r++)e[r].date<n&&(n=e[r].date,t=r);return t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oF(e){xn(new cn("platform-logger",t=>new v5(t),"PRIVATE")),xn(new cn("heartbeat",t=>new nF(t),"PRIVATE")),mt(Ny,IE,e),mt(Ny,IE,"esm2017"),mt("fire-js","")}oF("");const a2="@firebase/installations",iw="0.6.16";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const l2=1e4,c2=`w:${iw}`,u2="FIS_v2",aF="https://firebaseinstallations.googleapis.com/v1",lF=60*60*1e3,cF="installations",uF="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dF={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},Qs=new ho(cF,uF,dF);function d2(e){return e instanceof pr&&e.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function h2({projectId:e}){return`${aF}/projects/${e}/installations`}function f2(e){return{token:e.token,requestStatus:2,expiresIn:fF(e.expiresIn),creationTime:Date.now()}}async function p2(e,t){const r=(await t.json()).error;return Qs.create("request-failed",{requestName:e,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})}function m2({apiKey:e}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":e})}function hF(e,{refreshToken:t}){const n=m2(e);return n.append("Authorization",pF(t)),n}async function g2(e){const t=await e();return t.status>=500&&t.status<600?e():t}function fF(e){return Number(e.replace("s","000"))}function pF(e){return`${u2} ${e}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function mF({appConfig:e,heartbeatServiceProvider:t},{fid:n}){const r=h2(e),i=m2(e),s=t.getImmediate({optional:!0});if(s){const c=await s.getHeartbeatsHeader();c&&i.append("x-firebase-client",c)}const o={fid:n,authVersion:u2,appId:e.appId,sdkVersion:c2},a={method:"POST",headers:i,body:JSON.stringify(o)},l=await g2(()=>fetch(r,a));if(l.ok){const c=await l.json();return{fid:c.fid||n,registrationStatus:2,refreshToken:c.refreshToken,authToken:f2(c.authToken)}}else throw await p2("Create Installation",l)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function y2(e){return new Promise(t=>{setTimeout(t,e)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gF(e){return btoa(String.fromCharCode(...e)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yF=/^[cdef][\w-]{21}$/,My="";function vF(){try{const e=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(e),e[0]=112+e[0]%16;const n=wF(e);return yF.test(n)?n:My}catch{return My}}function wF(e){return gF(e).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yf(e){return`${e.appName}!${e.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v2=new Map;function w2(e,t){const n=Yf(e);_2(n,t),_F(n,t)}function _2(e,t){const n=v2.get(e);if(n)for(const r of n)r(t)}function _F(e,t){const n=xF();n&&n.postMessage({key:e,fid:t}),EF()}let Ms=null;function xF(){return!Ms&&"BroadcastChannel"in self&&(Ms=new BroadcastChannel("[Firebase] FID Change"),Ms.onmessage=e=>{_2(e.data.key,e.data.fid)}),Ms}function EF(){v2.size===0&&Ms&&(Ms.close(),Ms=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bF="firebase-installations-database",CF=1,Zs="firebase-installations-store";let Gm=null;function sw(){return Gm||(Gm=Kf(bF,CF,{upgrade:(e,t)=>{switch(t){case 0:e.createObjectStore(Zs)}}})),Gm}async function Bh(e,t){const n=Yf(e),i=(await sw()).transaction(Zs,"readwrite"),s=i.objectStore(Zs),o=await s.get(n);return await s.put(t,n),await i.done,(!o||o.fid!==t.fid)&&w2(e,t.fid),t}async function x2(e){const t=Yf(e),r=(await sw()).transaction(Zs,"readwrite");await r.objectStore(Zs).delete(t),await r.done}async function Xf(e,t){const n=Yf(e),i=(await sw()).transaction(Zs,"readwrite"),s=i.objectStore(Zs),o=await s.get(n),a=t(o);return a===void 0?await s.delete(n):await s.put(a,n),await i.done,a&&(!o||o.fid!==a.fid)&&w2(e,a.fid),a}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ow(e){let t;const n=await Xf(e.appConfig,r=>{const i=SF(r),s=TF(e,i);return t=s.registrationPromise,s.installationEntry});return n.fid===My?{installationEntry:await t}:{installationEntry:n,registrationPromise:t}}function SF(e){const t=e||{fid:vF(),registrationStatus:0};return E2(t)}function TF(e,t){if(t.registrationStatus===0){if(!navigator.onLine){const i=Promise.reject(Qs.create("app-offline"));return{installationEntry:t,registrationPromise:i}}const n={fid:t.fid,registrationStatus:1,registrationTime:Date.now()},r=kF(e,n);return{installationEntry:n,registrationPromise:r}}else return t.registrationStatus===1?{installationEntry:t,registrationPromise:IF(e)}:{installationEntry:t}}async function kF(e,t){try{const n=await mF(e,t);return Bh(e.appConfig,n)}catch(n){throw d2(n)&&n.customData.serverCode===409?await x2(e.appConfig):await Bh(e.appConfig,{fid:t.fid,registrationStatus:0}),n}}async function IF(e){let t=await DE(e.appConfig);for(;t.registrationStatus===1;)await y2(100),t=await DE(e.appConfig);if(t.registrationStatus===0){const{installationEntry:n,registrationPromise:r}=await ow(e);return r||n}return t}function DE(e){return Xf(e,t=>{if(!t)throw Qs.create("installation-not-found");return E2(t)})}function E2(e){return PF(e)?{fid:e.fid,registrationStatus:0}:e}function PF(e){return e.registrationStatus===1&&e.registrationTime+l2<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function RF({appConfig:e,heartbeatServiceProvider:t},n){const r=AF(e,n),i=hF(e,n),s=t.getImmediate({optional:!0});if(s){const c=await s.getHeartbeatsHeader();c&&i.append("x-firebase-client",c)}const o={installation:{sdkVersion:c2,appId:e.appId}},a={method:"POST",headers:i,body:JSON.stringify(o)},l=await g2(()=>fetch(r,a));if(l.ok){const c=await l.json();return f2(c)}else throw await p2("Generate Auth Token",l)}function AF(e,{fid:t}){return`${h2(e)}/${t}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function aw(e,t=!1){let n;const r=await Xf(e.appConfig,s=>{if(!b2(s))throw Qs.create("not-registered");const o=s.authToken;if(!t&&OF(o))return s;if(o.requestStatus===1)return n=NF(e,t),s;{if(!navigator.onLine)throw Qs.create("app-offline");const a=LF(s);return n=DF(e,a),a}});return n?await n:r.authToken}async function NF(e,t){let n=await OE(e.appConfig);for(;n.authToken.requestStatus===1;)await y2(100),n=await OE(e.appConfig);const r=n.authToken;return r.requestStatus===0?aw(e,t):r}function OE(e){return Xf(e,t=>{if(!b2(t))throw Qs.create("not-registered");const n=t.authToken;return jF(n)?Object.assign(Object.assign({},t),{authToken:{requestStatus:0}}):t})}async function DF(e,t){try{const n=await RF(e,t),r=Object.assign(Object.assign({},t),{authToken:n});return await Bh(e.appConfig,r),n}catch(n){if(d2(n)&&(n.customData.serverCode===401||n.customData.serverCode===404))await x2(e.appConfig);else{const r=Object.assign(Object.assign({},t),{authToken:{requestStatus:0}});await Bh(e.appConfig,r)}throw n}}function b2(e){return e!==void 0&&e.registrationStatus===2}function OF(e){return e.requestStatus===2&&!MF(e)}function MF(e){const t=Date.now();return t<e.creationTime||e.creationTime+e.expiresIn<t+lF}function LF(e){const t={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},e),{authToken:t})}function jF(e){return e.requestStatus===1&&e.requestTime+l2<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function FF(e){const t=e,{installationEntry:n,registrationPromise:r}=await ow(t);return r?r.catch(console.error):aw(t).catch(console.error),n.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $F(e,t=!1){const n=e;return await VF(n),(await aw(n,t)).token}async function VF(e){const{registrationPromise:t}=await ow(e);t&&await t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UF(e){if(!e||!e.options)throw Km("App Configuration");if(!e.name)throw Km("App Name");const t=["projectId","apiKey","appId"];for(const n of t)if(!e.options[n])throw Km(n);return{appName:e.name,projectId:e.options.projectId,apiKey:e.options.apiKey,appId:e.options.appId}}function Km(e){return Qs.create("missing-app-config-values",{valueName:e})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C2="installations",BF="installations-internal",zF=e=>{const t=e.getProvider("app").getImmediate(),n=UF(t),r=hs(t,"heartbeat");return{app:t,appConfig:n,heartbeatServiceProvider:r,_delete:()=>Promise.resolve()}},WF=e=>{const t=e.getProvider("app").getImmediate(),n=hs(t,C2).getImmediate();return{getId:()=>FF(n),getToken:i=>$F(n,i)}};function HF(){xn(new cn(C2,zF,"PUBLIC")),xn(new cn(BF,WF,"PRIVATE"))}HF();mt(a2,iw);mt(a2,iw,"esm2017");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qF="/firebase-messaging-sw.js",GF="/firebase-cloud-messaging-push-scope",S2="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",KF="https://fcmregistrations.googleapis.com/v1",T2="google.c.a.c_id",YF="google.c.a.c_l",XF="google.c.a.ts",JF="google.c.a.e",ME=1e4;var LE;(function(e){e[e.DATA_MESSAGE=1]="DATA_MESSAGE",e[e.DISPLAY_NOTIFICATION=3]="DISPLAY_NOTIFICATION"})(LE||(LE={}));/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License"); you may not use this file except
 * in compliance with the License. You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software distributed under the License
 * is distributed on an "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express
 * or implied. See the License for the specific language governing permissions and limitations under
 * the License.
 */var Lc;(function(e){e.PUSH_RECEIVED="push-received",e.NOTIFICATION_CLICKED="notification-clicked"})(Lc||(Lc={}));/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Br(e){const t=new Uint8Array(e);return btoa(String.fromCharCode(...t)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function QF(e){const t="=".repeat((4-e.length%4)%4),n=(e+t).replace(/\-/g,"+").replace(/_/g,"/"),r=atob(n),i=new Uint8Array(r.length);for(let s=0;s<r.length;++s)i[s]=r.charCodeAt(s);return i}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ym="fcm_token_details_db",ZF=5,jE="fcm_token_object_Store";async function e3(e){if("databases"in indexedDB&&!(await indexedDB.databases()).map(s=>s.name).includes(Ym))return null;let t=null;return(await Kf(Ym,ZF,{upgrade:async(r,i,s,o)=>{var a;if(i<2||!r.objectStoreNames.contains(jE))return;const l=o.objectStore(jE),c=await l.index("fcmSenderId").get(e);if(await l.clear(),!!c){if(i===2){const d=c;if(!d.auth||!d.p256dh||!d.endpoint)return;t={token:d.fcmToken,createTime:(a=d.createTime)!==null&&a!==void 0?a:Date.now(),subscriptionOptions:{auth:d.auth,p256dh:d.p256dh,endpoint:d.endpoint,swScope:d.swScope,vapidKey:typeof d.vapidKey=="string"?d.vapidKey:Br(d.vapidKey)}}}else if(i===3){const d=c;t={token:d.fcmToken,createTime:d.createTime,subscriptionOptions:{auth:Br(d.auth),p256dh:Br(d.p256dh),endpoint:d.endpoint,swScope:d.swScope,vapidKey:Br(d.vapidKey)}}}else if(i===4){const d=c;t={token:d.fcmToken,createTime:d.createTime,subscriptionOptions:{auth:Br(d.auth),p256dh:Br(d.p256dh),endpoint:d.endpoint,swScope:d.swScope,vapidKey:Br(d.vapidKey)}}}}}})).close(),await Wm(Ym),await Wm("fcm_vapid_details_db"),await Wm("undefined"),t3(t)?t:null}function t3(e){if(!e||!e.subscriptionOptions)return!1;const{subscriptionOptions:t}=e;return typeof e.createTime=="number"&&e.createTime>0&&typeof e.token=="string"&&e.token.length>0&&typeof t.auth=="string"&&t.auth.length>0&&typeof t.p256dh=="string"&&t.p256dh.length>0&&typeof t.endpoint=="string"&&t.endpoint.length>0&&typeof t.swScope=="string"&&t.swScope.length>0&&typeof t.vapidKey=="string"&&t.vapidKey.length>0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n3="firebase-messaging-database",r3=1,jc="firebase-messaging-store";let Xm=null;function k2(){return Xm||(Xm=Kf(n3,r3,{upgrade:(e,t)=>{switch(t){case 0:e.createObjectStore(jc)}}})),Xm}async function i3(e){const t=I2(e),r=await(await k2()).transaction(jc).objectStore(jc).get(t);if(r)return r;{const i=await e3(e.appConfig.senderId);if(i)return await lw(e,i),i}}async function lw(e,t){const n=I2(e),i=(await k2()).transaction(jc,"readwrite");return await i.objectStore(jc).put(t,n),await i.done,t}function I2({appConfig:e}){return e.appId}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s3={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."},Lt=new ho("messaging","Messaging",s3);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function o3(e,t){const n=await uw(e),r=P2(t),i={method:"POST",headers:n,body:JSON.stringify(r)};let s;try{s=await(await fetch(cw(e.appConfig),i)).json()}catch(o){throw Lt.create("token-subscribe-failed",{errorInfo:o==null?void 0:o.toString()})}if(s.error){const o=s.error.message;throw Lt.create("token-subscribe-failed",{errorInfo:o})}if(!s.token)throw Lt.create("token-subscribe-no-token");return s.token}async function a3(e,t){const n=await uw(e),r=P2(t.subscriptionOptions),i={method:"PATCH",headers:n,body:JSON.stringify(r)};let s;try{s=await(await fetch(`${cw(e.appConfig)}/${t.token}`,i)).json()}catch(o){throw Lt.create("token-update-failed",{errorInfo:o==null?void 0:o.toString()})}if(s.error){const o=s.error.message;throw Lt.create("token-update-failed",{errorInfo:o})}if(!s.token)throw Lt.create("token-update-no-token");return s.token}async function l3(e,t){const r={method:"DELETE",headers:await uw(e)};try{const s=await(await fetch(`${cw(e.appConfig)}/${t}`,r)).json();if(s.error){const o=s.error.message;throw Lt.create("token-unsubscribe-failed",{errorInfo:o})}}catch(i){throw Lt.create("token-unsubscribe-failed",{errorInfo:i==null?void 0:i.toString()})}}function cw({projectId:e}){return`${KF}/projects/${e}/registrations`}async function uw({appConfig:e,installations:t}){const n=await t.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":e.apiKey,"x-goog-firebase-installations-auth":`FIS ${n}`})}function P2({p256dh:e,auth:t,endpoint:n,vapidKey:r}){const i={web:{endpoint:n,auth:t,p256dh:e}};return r!==S2&&(i.web.applicationPubKey=r),i}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c3=7*24*60*60*1e3;async function u3(e){const t=await h3(e.swRegistration,e.vapidKey),n={vapidKey:e.vapidKey,swScope:e.swRegistration.scope,endpoint:t.endpoint,auth:Br(t.getKey("auth")),p256dh:Br(t.getKey("p256dh"))},r=await i3(e.firebaseDependencies);if(r){if(f3(r.subscriptionOptions,n))return Date.now()>=r.createTime+c3?d3(e,{token:r.token,createTime:Date.now(),subscriptionOptions:n}):r.token;try{await l3(e.firebaseDependencies,r.token)}catch(i){console.warn(i)}return FE(e.firebaseDependencies,n)}else return FE(e.firebaseDependencies,n)}async function d3(e,t){try{const n=await a3(e.firebaseDependencies,t),r=Object.assign(Object.assign({},t),{token:n,createTime:Date.now()});return await lw(e.firebaseDependencies,r),n}catch(n){throw n}}async function FE(e,t){const r={token:await o3(e,t),createTime:Date.now(),subscriptionOptions:t};return await lw(e,r),r.token}async function h3(e,t){const n=await e.pushManager.getSubscription();return n||e.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:QF(t)})}function f3(e,t){const n=t.vapidKey===e.vapidKey,r=t.endpoint===e.endpoint,i=t.auth===e.auth,s=t.p256dh===e.p256dh;return n&&r&&i&&s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $E(e){const t={from:e.from,collapseKey:e.collapse_key,messageId:e.fcmMessageId};return p3(t,e),m3(t,e),g3(t,e),t}function p3(e,t){if(!t.notification)return;e.notification={};const n=t.notification.title;n&&(e.notification.title=n);const r=t.notification.body;r&&(e.notification.body=r);const i=t.notification.image;i&&(e.notification.image=i);const s=t.notification.icon;s&&(e.notification.icon=s)}function m3(e,t){t.data&&(e.data=t.data)}function g3(e,t){var n,r,i,s,o;if(!t.fcmOptions&&!(!((n=t.notification)===null||n===void 0)&&n.click_action))return;e.fcmOptions={};const a=(i=(r=t.fcmOptions)===null||r===void 0?void 0:r.link)!==null&&i!==void 0?i:(s=t.notification)===null||s===void 0?void 0:s.click_action;a&&(e.fcmOptions.link=a);const l=(o=t.fcmOptions)===null||o===void 0?void 0:o.analytics_label;l&&(e.fcmOptions.analyticsLabel=l)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function y3(e){return typeof e=="object"&&!!e&&T2 in e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */v3("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");function v3(e,t){const n=[];for(let r=0;r<e.length;r++)n.push(e.charAt(r)),r<t.length&&n.push(t.charAt(r));return n.join("")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function w3(e){if(!e||!e.options)throw Jm("App Configuration Object");if(!e.name)throw Jm("App Name");const t=["projectId","apiKey","appId","messagingSenderId"],{options:n}=e;for(const r of t)if(!n[r])throw Jm(r);return{appName:e.name,projectId:n.projectId,apiKey:n.apiKey,appId:n.appId,senderId:n.messagingSenderId}}function Jm(e){return Lt.create("missing-app-config-values",{valueName:e})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _3{constructor(t,n,r){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const i=w3(t);this.firebaseDependencies={app:t,appConfig:i,installations:n,analyticsProvider:r}}_delete(){return Promise.resolve()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function x3(e){try{e.swRegistration=await navigator.serviceWorker.register(qF,{scope:GF}),e.swRegistration.update().catch(()=>{}),await E3(e.swRegistration)}catch(t){throw Lt.create("failed-service-worker-registration",{browserErrorMessage:t==null?void 0:t.message})}}async function E3(e){return new Promise((t,n)=>{const r=setTimeout(()=>n(new Error(`Service worker not registered after ${ME} ms`)),ME),i=e.installing||e.waiting;e.active?(clearTimeout(r),t()):i?i.onstatechange=s=>{var o;((o=s.target)===null||o===void 0?void 0:o.state)==="activated"&&(i.onstatechange=null,clearTimeout(r),t())}:(clearTimeout(r),n(new Error("No incoming service worker found.")))})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function b3(e,t){if(!t&&!e.swRegistration&&await x3(e),!(!t&&e.swRegistration)){if(!(t instanceof ServiceWorkerRegistration))throw Lt.create("invalid-sw-registration");e.swRegistration=t}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function C3(e,t){t?e.vapidKey=t:e.vapidKey||(e.vapidKey=S2)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function S3(e,t){if(!navigator)throw Lt.create("only-available-in-window");if(Notification.permission==="default"&&await Notification.requestPermission(),Notification.permission!=="granted")throw Lt.create("permission-blocked");return await C3(e,t==null?void 0:t.vapidKey),await b3(e,t==null?void 0:t.serviceWorkerRegistration),u3(e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function T3(e,t,n){const r=k3(t);(await e.firebaseDependencies.analyticsProvider.get()).logEvent(r,{message_id:n[T2],message_name:n[YF],message_time:n[XF],message_device_time:Math.floor(Date.now()/1e3)})}function k3(e){switch(e){case Lc.NOTIFICATION_CLICKED:return"notification_open";case Lc.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function I3(e,t){const n=t.data;if(!n.isFirebaseMessaging)return;e.onMessageHandler&&n.messageType===Lc.PUSH_RECEIVED&&(typeof e.onMessageHandler=="function"?e.onMessageHandler($E(n)):e.onMessageHandler.next($E(n)));const r=n.data;y3(r)&&r[JF]==="1"&&await T3(e,n.messageType,r)}const VE="@firebase/messaging",UE="0.12.20";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P3=e=>{const t=new _3(e.getProvider("app").getImmediate(),e.getProvider("installations-internal").getImmediate(),e.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",n=>I3(t,n)),t},R3=e=>{const t=e.getProvider("messaging").getImmediate();return{getToken:r=>S3(t,r)}};function A3(){xn(new cn("messaging",P3,"PUBLIC")),xn(new cn("messaging-internal",R3,"PRIVATE")),mt(VE,UE),mt(VE,UE,"esm2017")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function N3(){try{await e2()}catch{return!1}return typeof window<"u"&&ZI()&&zj()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function D3(e,t){if(!navigator)throw Lt.create("only-available-in-window");return e.onMessageHandler=t,()=>{e.onMessageHandler=null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function R2(e=pu()){return N3().then(t=>{if(!t)throw Lt.create("unsupported-browser")},t=>{throw Lt.create("indexed-db-unsupported")}),hs(it(e),"messaging").getImmediate()}function O3(e,t){return e=it(e),D3(e,t)}A3();var M3="firebase",L3="11.7.3";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */mt(M3,L3,"app");var Ly=function(e,t){return Ly=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(n[i]=r[i])},Ly(e,t)};function j3(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");Ly(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}var ut=function(){return ut=Object.assign||function(t){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(t[s]=n[s])}return t},ut.apply(this,arguments)};function dw(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n}function A2(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const F3=A2,N2=new ho("auth","Firebase",A2());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zh=new Gf("@firebase/auth");function $3(e,...t){zh.logLevel<=_e.WARN&&zh.warn(`Auth (${fs}): ${e}`,...t)}function Yd(e,...t){zh.logLevel<=_e.ERROR&&zh.error(`Auth (${fs}): ${e}`,...t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jn(e,...t){throw fw(e,...t)}function sr(e,...t){return fw(e,...t)}function hw(e,t,n){const r=Object.assign(Object.assign({},F3()),{[t]:n});return new ho("auth","Firebase",r).create(t,{appName:e.name})}function Zr(e){return hw(e,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function V3(e,t,n){const r=n;if(!(t instanceof r))throw r.name!==t.constructor.name&&jn(e,"argument-error"),hw(e,"argument-error",`Type of ${t.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function fw(e,...t){if(typeof e!="string"){const n=t[0],r=[...t.slice(1)];return r[0]&&(r[0].appName=e.name),e._errorFactory.create(n,...r)}return N2.create(e,...t)}function Z(e,t,...n){if(!e)throw fw(t,...n)}function Gr(e){const t="INTERNAL ASSERTION FAILED: "+e;throw Yd(t),new Error(t)}function li(e,t){e||Gr(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jy(){var e;return typeof self<"u"&&((e=self.location)===null||e===void 0?void 0:e.href)||""}function U3(){return BE()==="http:"||BE()==="https:"}function BE(){var e;return typeof self<"u"&&((e=self.location)===null||e===void 0?void 0:e.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function B3(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(U3()||Uj()||"connection"in navigator)?navigator.onLine:!0}function z3(){if(typeof navigator>"u")return null;const e=navigator;return e.languages&&e.languages[0]||e.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mu{constructor(t,n){this.shortDelay=t,this.longDelay=n,li(n>t,"Short delay should be less than long delay!"),this.isMobile=nw()||JI()}get(){return B3()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pw(e,t){li(e.emulator,"Emulator should always be set here");const{url:n}=e.emulator;return t?`${n}${t.startsWith("/")?t.slice(1):t}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D2{static initialize(t,n,r){this.fetchImpl=t,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Gr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Gr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Gr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W3={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H3=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],q3=new mu(3e4,6e4);function mi(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}async function gi(e,t,n,r,i={}){return O2(e,i,async()=>{let s={},o={};r&&(t==="GET"?o=r:s={body:JSON.stringify(r)});const a=Va(Object.assign({key:e.config.apiKey},o)).slice(1),l=await e._getAdditionalHeaders();l["Content-Type"]="application/json",e.languageCode&&(l["X-Firebase-Locale"]=e.languageCode);const c=Object.assign({method:t,headers:l},s);return Vj()||(c.referrerPolicy="no-referrer"),e.emulatorConfig&&uo(e.emulatorConfig.host)&&(c.credentials="include"),D2.fetch()(await M2(e,e.config.apiHost,n,a),c)})}async function O2(e,t,n){e._canInitEmulator=!1;const r=Object.assign(Object.assign({},W3),t);try{const i=new K3(e),s=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const o=await s.json();if("needConfirmation"in o)throw yd(e,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const a=s.ok?o.errorMessage:o.error.message,[l,c]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw yd(e,"credential-already-in-use",o);if(l==="EMAIL_EXISTS")throw yd(e,"email-already-in-use",o);if(l==="USER_DISABLED")throw yd(e,"user-disabled",o);const d=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(c)throw hw(e,d,c);jn(e,d)}}catch(i){if(i instanceof pr)throw i;jn(e,"network-request-failed",{message:String(i)})}}async function gu(e,t,n,r,i={}){const s=await gi(e,t,n,r,i);return"mfaPendingCredential"in s&&jn(e,"multi-factor-auth-required",{_serverResponse:s}),s}async function M2(e,t,n,r){const i=`${t}${n}?${r}`,s=e,o=s.config.emulator?pw(e.config,i):`${e.config.apiScheme}://${i}`;return H3.includes(n)&&(await s._persistenceManagerAvailable,s._getPersistenceType()==="COOKIE")?s._getPersistence()._getFinalTarget(o).toString():o}function G3(e){switch(e){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class K3{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(sr(this.auth,"network-request-failed")),q3.get())})}}function yd(e,t,n){const r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=sr(e,t,r);return i.customData._tokenResponse=n,i}function zE(e){return e!==void 0&&e.enterprise!==void 0}class Y3{constructor(t){if(this.siteKey="",this.recaptchaEnforcementState=[],t.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=t.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=t.recaptchaEnforcementState}getProviderEnforcementState(t){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===t)return G3(n.enforcementState);return null}isProviderEnabled(t){return this.getProviderEnforcementState(t)==="ENFORCE"||this.getProviderEnforcementState(t)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function X3(e,t){return gi(e,"GET","/v2/recaptchaConfig",mi(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function J3(e,t){return gi(e,"POST","/v1/accounts:delete",t)}async function Wh(e,t){return gi(e,"POST","/v1/accounts:lookup",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jl(e){if(e)try{const t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function Q3(e,t=!1){const n=it(e),r=await n.getIdToken(t),i=mw(r);Z(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s=typeof i.firebase=="object"?i.firebase:void 0,o=s==null?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:Jl(Qm(i.auth_time)),issuedAtTime:Jl(Qm(i.iat)),expirationTime:Jl(Qm(i.exp)),signInProvider:o||null,signInSecondFactor:(s==null?void 0:s.sign_in_second_factor)||null}}function Qm(e){return Number(e)*1e3}function mw(e){const[t,n,r]=e.split(".");if(t===void 0||n===void 0||r===void 0)return Yd("JWT malformed, contained fewer than 3 sections"),null;try{const i=$h(n);return i?JSON.parse(i):(Yd("Failed to decode base64 JWT payload"),null)}catch(i){return Yd("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function WE(e){const t=mw(e);return Z(t,"internal-error"),Z(typeof t.exp<"u","internal-error"),Z(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Fc(e,t,n=!1){if(n)return t;try{return await t}catch(r){throw r instanceof pr&&Z3(r)&&e.auth.currentUser===e&&await e.auth.signOut(),r}}function Z3({code:e}){return e==="auth/user-disabled"||e==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e6{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){var n;if(t){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(t=!1){if(!this.isRunning)return;const n=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){(t==null?void 0:t.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fy{constructor(t,n){this.createdAt=t,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Jl(this.lastLoginAt),this.creationTime=Jl(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Hh(e){var t;const n=e.auth,r=await e.getIdToken(),i=await Fc(e,Wh(n,{idToken:r}));Z(i==null?void 0:i.users.length,n,"internal-error");const s=i.users[0];e._notifyReloadListener(s);const o=!((t=s.providerUserInfo)===null||t===void 0)&&t.length?L2(s.providerUserInfo):[],a=n6(e.providerData,o),l=e.isAnonymous,c=!(e.email&&s.passwordHash)&&!(a!=null&&a.length),d=l?c:!1,h={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new Fy(s.createdAt,s.lastLoginAt),isAnonymous:d};Object.assign(e,h)}async function t6(e){const t=it(e);await Hh(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function n6(e,t){return[...e.filter(r=>!t.some(i=>i.providerId===r.providerId)),...t]}function L2(e){return e.map(t=>{var{providerId:n}=t,r=dw(t,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function r6(e,t){const n=await O2(e,{},async()=>{const r=Va({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:i,apiKey:s}=e.config,o=await M2(e,i,"/v1/token",`key=${s}`),a=await e._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",D2.fetch()(o,{method:"POST",headers:a,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function i6(e,t){return gi(e,"POST","/v2/accounts:revokeToken",mi(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ra{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){Z(t.idToken,"internal-error"),Z(typeof t.idToken<"u","internal-error"),Z(typeof t.refreshToken<"u","internal-error");const n="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):WE(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,n)}updateFromIdToken(t){Z(t.length!==0,"internal-error");const n=WE(t);this.updateTokensAndExpiration(t,null,n)}async getToken(t,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Z(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,n){const{accessToken:r,refreshToken:i,expiresIn:s}=await r6(t,n);this.updateTokensAndExpiration(r,i,Number(s))}updateTokensAndExpiration(t,n,r){this.refreshToken=n||null,this.accessToken=t||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(t,n){const{refreshToken:r,accessToken:i,expirationTime:s}=n,o=new ra;return r&&(Z(typeof r=="string","internal-error",{appName:t}),o.refreshToken=r),i&&(Z(typeof i=="string","internal-error",{appName:t}),o.accessToken=i),s&&(Z(typeof s=="number","internal-error",{appName:t}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new ra,this.toJSON())}_performRefresh(){return Gr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ci(e,t){Z(typeof e=="string"||typeof e>"u","internal-error",{appName:t})}class Qn{constructor(t){var{uid:n,auth:r,stsTokenManager:i}=t,s=dw(t,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new e6(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new Fy(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(t){const n=await Fc(this,this.stsTokenManager.getToken(this.auth,t));return Z(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(t){return Q3(this,t)}reload(){return t6(this)}_assign(t){this!==t&&(Z(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(n=>Object.assign({},n)),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const n=new Qn(Object.assign(Object.assign({},this),{auth:t,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(t){Z(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,n=!1){let r=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),r=!0),n&&await Hh(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Ot(this.auth.app))return Promise.reject(Zr(this.auth));const t=await this.getIdToken();return await Fc(this,J3(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>Object.assign({},t)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,n){var r,i,s,o,a,l,c,d;const h=(r=n.displayName)!==null&&r!==void 0?r:void 0,f=(i=n.email)!==null&&i!==void 0?i:void 0,g=(s=n.phoneNumber)!==null&&s!==void 0?s:void 0,v=(o=n.photoURL)!==null&&o!==void 0?o:void 0,S=(a=n.tenantId)!==null&&a!==void 0?a:void 0,k=(l=n._redirectEventId)!==null&&l!==void 0?l:void 0,_=(c=n.createdAt)!==null&&c!==void 0?c:void 0,b=(d=n.lastLoginAt)!==null&&d!==void 0?d:void 0,{uid:E,emailVerified:R,isAnonymous:D,providerData:M,stsTokenManager:T}=n;Z(E&&T,t,"internal-error");const C=ra.fromJSON(this.name,T);Z(typeof E=="string",t,"internal-error"),Ci(h,t.name),Ci(f,t.name),Z(typeof R=="boolean",t,"internal-error"),Z(typeof D=="boolean",t,"internal-error"),Ci(g,t.name),Ci(v,t.name),Ci(S,t.name),Ci(k,t.name),Ci(_,t.name),Ci(b,t.name);const I=new Qn({uid:E,auth:t,email:f,emailVerified:R,displayName:h,isAnonymous:D,photoURL:v,phoneNumber:g,tenantId:S,stsTokenManager:C,createdAt:_,lastLoginAt:b});return M&&Array.isArray(M)&&(I.providerData=M.map(y=>Object.assign({},y))),k&&(I._redirectEventId=k),I}static async _fromIdTokenResponse(t,n,r=!1){const i=new ra;i.updateFromServerResponse(n);const s=new Qn({uid:n.localId,auth:t,stsTokenManager:i,isAnonymous:r});return await Hh(s),s}static async _fromGetAccountInfoResponse(t,n,r){const i=n.users[0];Z(i.localId!==void 0,"internal-error");const s=i.providerUserInfo!==void 0?L2(i.providerUserInfo):[],o=!(i.email&&i.passwordHash)&&!(s!=null&&s.length),a=new ra;a.updateFromIdToken(r);const l=new Qn({uid:i.localId,auth:t,stsTokenManager:a,isAnonymous:o}),c={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new Fy(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(s!=null&&s.length)};return Object.assign(l,c),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HE=new Map;function Kr(e){li(e instanceof Function,"Expected a class definition");let t=HE.get(e);return t?(li(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,HE.set(e,t),t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j2{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,n){this.storage[t]=n}async _get(t){const n=this.storage[t];return n===void 0?null:n}async _remove(t){delete this.storage[t]}_addListener(t,n){}_removeListener(t,n){}}j2.type="NONE";const qE=j2;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xd(e,t,n){return`firebase:${e}:${t}:${n}`}class ia{constructor(t,n,r){this.persistence=t,this.auth=n,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=Xd(this.userKey,i.apiKey,s),this.fullPersistenceKey=Xd("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){const n=await Wh(this.auth,{idToken:t}).catch(()=>{});return n?Qn._fromGetAccountInfoResponse(this.auth,n,t):null}return Qn._fromJSON(this.auth,t)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,n,r="authUser"){if(!n.length)return new ia(Kr(qE),t,r);const i=(await Promise.all(n.map(async c=>{if(await c._isAvailable())return c}))).filter(c=>c);let s=i[0]||Kr(qE);const o=Xd(r,t.config.apiKey,t.name);let a=null;for(const c of n)try{const d=await c._get(o);if(d){let h;if(typeof d=="string"){const f=await Wh(t,{idToken:d}).catch(()=>{});if(!f)break;h=await Qn._fromGetAccountInfoResponse(t,f,d)}else h=Qn._fromJSON(t,d);c!==s&&(a=h),s=c;break}}catch{}const l=i.filter(c=>c._shouldAllowMigration);return!s._shouldAllowMigration||!l.length?new ia(s,t,r):(s=l[0],a&&await s._set(o,a.toJSON()),await Promise.all(n.map(async c=>{if(c!==s)try{await c._remove(o)}catch{}})),new ia(s,t,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GE(e){const t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(U2(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(F2(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(z2(t))return"Blackberry";if(W2(t))return"Webos";if($2(t))return"Safari";if((t.includes("chrome/")||V2(t))&&!t.includes("edge/"))return"Chrome";if(B2(t))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=e.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function F2(e=Kt()){return/firefox\//i.test(e)}function $2(e=Kt()){const t=e.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function V2(e=Kt()){return/crios\//i.test(e)}function U2(e=Kt()){return/iemobile/i.test(e)}function B2(e=Kt()){return/android/i.test(e)}function z2(e=Kt()){return/blackberry/i.test(e)}function W2(e=Kt()){return/webos/i.test(e)}function gw(e=Kt()){return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function s6(e=Kt()){var t;return gw(e)&&!!(!((t=window.navigator)===null||t===void 0)&&t.standalone)}function o6(){return Bj()&&document.documentMode===10}function H2(e=Kt()){return gw(e)||B2(e)||W2(e)||z2(e)||/windows phone/i.test(e)||U2(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function q2(e,t=[]){let n;switch(e){case"Browser":n=GE(Kt());break;case"Worker":n=`${GE(Kt())}-${e}`;break;default:n=e}const r=t.length?t.join(","):"FirebaseCore-web";return`${n}/JsCore/${fs}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a6{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,n){const r=s=>new Promise((o,a)=>{try{const l=t(s);o(l)}catch(l){a(l)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const n=[];try{for(const r of this.queue)await r(t),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function l6(e,t={}){return gi(e,"GET","/v2/passwordPolicy",mi(e,t))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c6=6;class u6{constructor(t){var n,r,i,s;const o=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=o.minPasswordLength)!==null&&n!==void 0?n:c6,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=t.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(s=t.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=t.schemaVersion}validatePassword(t){var n,r,i,s,o,a;const l={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,l),this.validatePasswordCharacterOptions(t,l),l.isValid&&(l.isValid=(n=l.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),l.isValid&&(l.isValid=(r=l.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),l.isValid&&(l.isValid=(i=l.containsLowercaseLetter)!==null&&i!==void 0?i:!0),l.isValid&&(l.isValid=(s=l.containsUppercaseLetter)!==null&&s!==void 0?s:!0),l.isValid&&(l.isValid=(o=l.containsNumericCharacter)!==null&&o!==void 0?o:!0),l.isValid&&(l.isValid=(a=l.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),l}validatePasswordLengthOptions(t,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=t.length>=r),i&&(n.meetsMaxPasswordLength=t.length<=i)}validatePasswordCharacterOptions(t,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<t.length;i++)r=t.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(t,n,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d6{constructor(t,n,r,i){this.app=t,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new KE(this),this.idTokenSubscription=new KE(this),this.beforeStateQueue=new a6(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=N2,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(s=>this._resolvePersistenceManagerAvailable=s)}_initializeWithPersistence(t,n){return n&&(this._popupRedirectResolver=Kr(n)),this._initializationPromise=this.queue(async()=>{var r,i,s;if(!this._deleted&&(this.persistenceManager=await ia.create(this,t),(r=this._resolvePersistenceManagerAvailable)===null||r===void 0||r.call(this),!this._deleted)){if(!((i=this._popupRedirectResolver)===null||i===void 0)&&i._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((s=this.currentUser)===null||s===void 0?void 0:s.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const n=await Wh(this,{idToken:t}),r=await Qn._fromGetAccountInfoResponse(this,n,t);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){var n;if(Ot(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(a,a))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let i=r,s=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=i==null?void 0:i._redirectEventId,l=await this.tryRedirectSignIn(t);(!o||o===a)&&(l!=null&&l.user)&&(i=l.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(i)}catch(o){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return Z(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(t){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(t){try{await Hh(t)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=z3()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(Ot(this.app))return Promise.reject(Zr(this));const n=t?it(t):null;return n&&Z(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(t,n=!1){if(!this._deleted)return t&&Z(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return Ot(this.app)?Promise.reject(Zr(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return Ot(this.app)?Promise.reject(Zr(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Kr(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await l6(this),n=new u6(t);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new ho("auth","Firebase",t())}onAuthStateChanged(t,n,r){return this.registerStateListener(this.authStateSubscription,t,n,r)}beforeAuthStateChanged(t,n){return this.beforeStateQueue.pushCallback(t,n)}onIdTokenChanged(t,n,r){return this.registerStateListener(this.idTokenSubscription,t,n,r)}authStateReady(){return new Promise((t,n)=>{if(this.currentUser)t();else{const r=this.onAuthStateChanged(()=>{r(),t()},n)}})}async revokeAccessToken(t){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await i6(this,r)}}toJSON(){var t;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(t=this._currentUser)===null||t===void 0?void 0:t.toJSON()}}async _setRedirectUser(t,n){const r=await this.getOrInitRedirectPersistenceManager(n);return t===null?r.removeCurrentUser():r.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const n=t&&Kr(t)||this._popupRedirectResolver;Z(n,this,"argument-error"),this.redirectPersistenceManager=await ia.create(this,[Kr(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===t?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var t,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(t=this.currentUser)===null||t===void 0?void 0:t.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,n,r,i){if(this._deleted)return()=>{};const s=typeof n=="function"?n:n.next.bind(n);let o=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(Z(a,this,"internal-error"),a.then(()=>{o||s(this.currentUser)}),typeof n=="function"){const l=t.addObserver(n,r,i);return()=>{o=!0,l()}}else{const l=t.addObserver(n);return()=>{o=!0,l()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return Z(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=q2(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var t;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((t=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||t===void 0?void 0:t.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const i=await this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n}async _getAppCheckToken(){var t;if(Ot(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const n=await((t=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||t===void 0?void 0:t.getToken());return n!=null&&n.error&&$3(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function ps(e){return it(e)}class KE{constructor(t){this.auth=t,this.observer=null,this.addObserver=Xj(n=>this.observer=n)}get next(){return Z(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Jf={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function h6(e){Jf=e}function G2(e){return Jf.loadJS(e)}function f6(){return Jf.recaptchaEnterpriseScript}function p6(){return Jf.gapiScript}function m6(e){return`__${e}${Math.floor(Math.random()*1e6)}`}class g6{constructor(){this.enterprise=new y6}ready(t){t()}execute(t,n){return Promise.resolve("token")}render(t,n){return""}}class y6{ready(t){t()}execute(t,n){return Promise.resolve("token")}render(t,n){return""}}const v6="recaptcha-enterprise",K2="NO_RECAPTCHA";class w6{constructor(t){this.type=v6,this.auth=ps(t)}async verify(t="verify",n=!1){async function r(s){if(!n){if(s.tenantId==null&&s._agentRecaptchaConfig!=null)return s._agentRecaptchaConfig.siteKey;if(s.tenantId!=null&&s._tenantRecaptchaConfigs[s.tenantId]!==void 0)return s._tenantRecaptchaConfigs[s.tenantId].siteKey}return new Promise(async(o,a)=>{X3(s,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(l=>{if(l.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{const c=new Y3(l);return s.tenantId==null?s._agentRecaptchaConfig=c:s._tenantRecaptchaConfigs[s.tenantId]=c,o(c.siteKey)}}).catch(l=>{a(l)})})}function i(s,o,a){const l=window.grecaptcha;zE(l)?l.enterprise.ready(()=>{l.enterprise.execute(s,{action:t}).then(c=>{o(c)}).catch(()=>{o(K2)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new g6().execute("siteKey",{action:"verify"}):new Promise((s,o)=>{r(this.auth).then(a=>{if(!n&&zE(window.grecaptcha))i(a,s,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let l=f6();l.length!==0&&(l+=a),G2(l).then(()=>{i(a,s,o)}).catch(c=>{o(c)})}}).catch(a=>{o(a)})})}}async function wl(e,t,n,r=!1,i=!1){const s=new w6(e);let o;if(i)o=K2;else try{o=await s.verify(n)}catch{o=await s.verify(n,!0)}const a=Object.assign({},t);if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in a){const l=a.phoneEnrollmentInfo.phoneNumber,c=a.phoneEnrollmentInfo.recaptchaToken;Object.assign(a,{phoneEnrollmentInfo:{phoneNumber:l,recaptchaToken:c,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in a){const l=a.phoneSignInInfo.recaptchaToken;Object.assign(a,{phoneSignInInfo:{recaptchaToken:l,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return a}return r?Object.assign(a,{captchaResp:o}):Object.assign(a,{captchaResponse:o}),Object.assign(a,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(a,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),a}async function $y(e,t,n,r,i){var s,o;if(i==="EMAIL_PASSWORD_PROVIDER")if(!((s=e._getRecaptchaConfig())===null||s===void 0)&&s.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const a=await wl(e,t,n,n==="getOobCode");return r(e,a)}else return r(e,t).catch(async a=>{if(a.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const l=await wl(e,t,n,n==="getOobCode");return r(e,l)}else return Promise.reject(a)});else if(i==="PHONE_PROVIDER")if(!((o=e._getRecaptchaConfig())===null||o===void 0)&&o.isProviderEnabled("PHONE_PROVIDER")){const a=await wl(e,t,n);return r(e,a).catch(async l=>{var c;if(((c=e._getRecaptchaConfig())===null||c===void 0?void 0:c.getProviderEnforcementState("PHONE_PROVIDER"))==="AUDIT"&&(l.code==="auth/missing-recaptcha-token"||l.code==="auth/invalid-app-credential")){console.log(`Failed to verify with reCAPTCHA Enterprise. Automatically triggering the reCAPTCHA v2 flow to complete the ${n} flow.`);const d=await wl(e,t,n,!1,!0);return r(e,d)}return Promise.reject(l)})}else{const a=await wl(e,t,n,!1,!0);return r(e,a)}else return Promise.reject(i+" provider is not supported.")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _6(e,t){const n=hs(e,"auth");if(n.isInitialized()){const i=n.getImmediate(),s=n.getOptions();if(ts(s,t??{}))return i;jn(i,"already-initialized")}return n.initialize({options:t})}function x6(e,t){const n=(t==null?void 0:t.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Kr);t!=null&&t.errorMap&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,t==null?void 0:t.popupRedirectResolver)}function Y2(e,t,n){const r=ps(e);Z(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");const i=!!(n!=null&&n.disableWarnings),s=X2(t),{host:o,port:a}=E6(t),l=a===null?"":`:${a}`,c={url:`${s}//${o}${l}/`},d=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!r._canInitEmulator){Z(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),Z(ts(c,r.config.emulator)&&ts(d,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=c,r.emulatorConfig=d,r.settings.appVerificationDisabledForTesting=!0,uo(o)?(ds("Auth",!0),Wf(`${s}//${o}${l}`)):i||b6()}function X2(e){const t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function E6(e){const t=X2(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const s=i[1];return{host:s,port:YE(r.substr(s.length+1))}}else{const[s,o]=r.split(":");return{host:s,port:YE(o)}}}function YE(e){if(!e)return null;const t=Number(e);return isNaN(t)?null:t}function b6(){function e(){const t=document.createElement("p"),n=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",e):e())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yw{constructor(t,n){this.providerId=t,this.signInMethod=n}toJSON(){return Gr("not implemented")}_getIdTokenResponse(t){return Gr("not implemented")}_linkToIdToken(t,n){return Gr("not implemented")}_getReauthenticationResolver(t){return Gr("not implemented")}}async function C6(e,t){return gi(e,"POST","/v1/accounts:signUp",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function S6(e,t){return gu(e,"POST","/v1/accounts:signInWithPassword",mi(e,t))}async function T6(e,t){return gi(e,"POST","/v1/accounts:sendOobCode",mi(e,t))}async function k6(e,t){return T6(e,t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function I6(e,t){return gu(e,"POST","/v1/accounts:signInWithEmailLink",mi(e,t))}async function P6(e,t){return gu(e,"POST","/v1/accounts:signInWithEmailLink",mi(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $c extends yw{constructor(t,n,r,i=null){super("password",r),this._email=t,this._password=n,this._tenantId=i}static _fromEmailAndPassword(t,n){return new $c(t,n,"password")}static _fromEmailAndCode(t,n,r=null){return new $c(t,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(t){const n=typeof t=="string"?JSON.parse(t):t;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(t){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return $y(t,n,"signInWithPassword",S6,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return I6(t,{email:this._email,oobCode:this._password});default:jn(t,"internal-error")}}async _linkToIdToken(t,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return $y(t,r,"signUpPassword",C6,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return P6(t,{idToken:n,email:this._email,oobCode:this._password});default:jn(t,"internal-error")}}_getReauthenticationResolver(t){return this._getIdTokenResponse(t)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function sa(e,t){return gu(e,"POST","/v1/accounts:signInWithIdp",mi(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R6="http://localhost";class eo extends yw{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const n=new eo(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(n.idToken=t.idToken),t.accessToken&&(n.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(n.nonce=t.nonce),t.pendingToken&&(n.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(n.accessToken=t.oauthToken,n.secret=t.oauthTokenSecret):jn("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const n=typeof t=="string"?JSON.parse(t):t,{providerId:r,signInMethod:i}=n,s=dw(n,["providerId","signInMethod"]);if(!r||!i)return null;const o=new eo(r,i);return o.idToken=s.idToken||void 0,o.accessToken=s.accessToken||void 0,o.secret=s.secret,o.nonce=s.nonce,o.pendingToken=s.pendingToken||null,o}_getIdTokenResponse(t){const n=this.buildRequest();return sa(t,n)}_linkToIdToken(t,n){const r=this.buildRequest();return r.idToken=n,sa(t,r)}_getReauthenticationResolver(t){const n=this.buildRequest();return n.autoCreate=!1,sa(t,n)}buildRequest(){const t={requestUri:R6,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),t.postBody=Va(n)}return t}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function A6(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function N6(e){const t=Nl(Dl(e)).link,n=t?Nl(Dl(t)).deep_link_id:null,r=Nl(Dl(e)).deep_link_id;return(r?Nl(Dl(r)).link:null)||r||n||t||e}class vw{constructor(t){var n,r,i,s,o,a;const l=Nl(Dl(t)),c=(n=l.apiKey)!==null&&n!==void 0?n:null,d=(r=l.oobCode)!==null&&r!==void 0?r:null,h=A6((i=l.mode)!==null&&i!==void 0?i:null);Z(c&&d&&h,"argument-error"),this.apiKey=c,this.operation=h,this.code=d,this.continueUrl=(s=l.continueUrl)!==null&&s!==void 0?s:null,this.languageCode=(o=l.lang)!==null&&o!==void 0?o:null,this.tenantId=(a=l.tenantId)!==null&&a!==void 0?a:null}static parseLink(t){const n=N6(t);try{return new vw(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ua{constructor(){this.providerId=Ua.PROVIDER_ID}static credential(t,n){return $c._fromEmailAndPassword(t,n)}static credentialWithLink(t,n){const r=vw.parseLink(n);return Z(r,"argument-error"),$c._fromEmailAndCode(t,r.code,r.tenantId)}}Ua.PROVIDER_ID="password";Ua.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Ua.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ww{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yu extends ww{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ai extends yu{constructor(){super("facebook.com")}static credential(t){return eo._fromParams({providerId:Ai.PROVIDER_ID,signInMethod:Ai.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Ai.credentialFromTaggedObject(t)}static credentialFromError(t){return Ai.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Ai.credential(t.oauthAccessToken)}catch{return null}}}Ai.FACEBOOK_SIGN_IN_METHOD="facebook.com";Ai.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Er extends yu{constructor(){super("google.com"),this.addScope("profile")}static credential(t,n){return eo._fromParams({providerId:Er.PROVIDER_ID,signInMethod:Er.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:n})}static credentialFromResult(t){return Er.credentialFromTaggedObject(t)}static credentialFromError(t){return Er.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:n,oauthAccessToken:r}=t;if(!n&&!r)return null;try{return Er.credential(n,r)}catch{return null}}}Er.GOOGLE_SIGN_IN_METHOD="google.com";Er.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ni extends yu{constructor(){super("github.com")}static credential(t){return eo._fromParams({providerId:Ni.PROVIDER_ID,signInMethod:Ni.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Ni.credentialFromTaggedObject(t)}static credentialFromError(t){return Ni.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Ni.credential(t.oauthAccessToken)}catch{return null}}}Ni.GITHUB_SIGN_IN_METHOD="github.com";Ni.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Di extends yu{constructor(){super("twitter.com")}static credential(t,n){return eo._fromParams({providerId:Di.PROVIDER_ID,signInMethod:Di.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:n})}static credentialFromResult(t){return Di.credentialFromTaggedObject(t)}static credentialFromError(t){return Di.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=t;if(!n||!r)return null;try{return Di.credential(n,r)}catch{return null}}}Di.TWITTER_SIGN_IN_METHOD="twitter.com";Di.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function D6(e,t){return gu(e,"POST","/v1/accounts:signUp",mi(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class to{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,n,r,i=!1){const s=await Qn._fromIdTokenResponse(t,r,i),o=XE(r);return new to({user:s,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(t,n,r){await t._updateTokensIfNecessary(r,!0);const i=XE(r);return new to({user:t,providerId:i,_tokenResponse:r,operationType:n})}}function XE(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qh extends pr{constructor(t,n,r,i){var s;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,qh.prototype),this.customData={appName:t.name,tenantId:(s=t.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(t,n,r,i){return new qh(t,n,r,i)}}function J2(e,t,n,r){return(t==="reauthenticate"?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?qh._fromErrorAndOperation(e,s,t,r):s})}async function O6(e,t,n=!1){const r=await Fc(e,t._linkToIdToken(e.auth,await e.getIdToken()),n);return to._forOperation(e,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function M6(e,t,n=!1){const{auth:r}=e;if(Ot(r.app))return Promise.reject(Zr(r));const i="reauthenticate";try{const s=await Fc(e,J2(r,i,t,e),n);Z(s.idToken,r,"internal-error");const o=mw(s.idToken);Z(o,r,"internal-error");const{sub:a}=o;return Z(e.uid===a,r,"user-mismatch"),to._forOperation(e,i,s)}catch(s){throw(s==null?void 0:s.code)==="auth/user-not-found"&&jn(r,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Q2(e,t,n=!1){if(Ot(e.app))return Promise.reject(Zr(e));const r="signIn",i=await J2(e,r,t),s=await to._fromIdTokenResponse(e,r,i);return n||await e._updateCurrentUser(s.user),s}async function L6(e,t){return Q2(ps(e),t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function j6(e,t,n){var r;Z(((r=n.url)===null||r===void 0?void 0:r.length)>0,e,"invalid-continue-uri"),Z(typeof n.dynamicLinkDomain>"u"||n.dynamicLinkDomain.length>0,e,"invalid-dynamic-link-domain"),Z(typeof n.linkDomain>"u"||n.linkDomain.length>0,e,"invalid-hosting-link-domain"),t.continueUrl=n.url,t.dynamicLinkDomain=n.dynamicLinkDomain,t.linkDomain=n.linkDomain,t.canHandleCodeInApp=n.handleCodeInApp,n.iOS&&(Z(n.iOS.bundleId.length>0,e,"missing-ios-bundle-id"),t.iOSBundleId=n.iOS.bundleId),n.android&&(Z(n.android.packageName.length>0,e,"missing-android-pkg-name"),t.androidInstallApp=n.android.installApp,t.androidMinimumVersionCode=n.android.minimumVersion,t.androidPackageName=n.android.packageName)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Z2(e){const t=ps(e);t._getPasswordPolicyInternal()&&await t._updatePasswordPolicy()}async function eP(e,t,n){if(Ot(e.app))return Promise.reject(Zr(e));const r=ps(e),o=await $y(r,{returnSecureToken:!0,email:t,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",D6,"EMAIL_PASSWORD_PROVIDER").catch(l=>{throw l.code==="auth/password-does-not-meet-requirements"&&Z2(e),l}),a=await to._fromIdTokenResponse(r,"signIn",o);return await r._updateCurrentUser(a.user),a}function F6(e,t,n){return Ot(e.app)?Promise.reject(Zr(e)):L6(it(e),Ua.credential(t,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&Z2(e),r})}async function $6(e,t){const n=it(e),i={requestType:"VERIFY_EMAIL",idToken:await e.getIdToken()};t&&j6(n.auth,i,t);const{email:s}=await k6(n.auth,i);s!==e.email&&await e.reload()}function V6(e,t,n,r){return it(e).onIdTokenChanged(t,n,r)}function U6(e,t,n){return it(e).beforeAuthStateChanged(t,n)}function B6(e,t,n,r){return it(e).onAuthStateChanged(t,n,r)}function tP(e){return it(e).signOut()}const Gh="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nP{constructor(t,n){this.storageRetriever=t,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Gh,"1"),this.storage.removeItem(Gh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,n){return this.storage.setItem(t,JSON.stringify(n)),Promise.resolve()}_get(t){const n=this.storage.getItem(t);return Promise.resolve(n?JSON.parse(n):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z6=1e3,W6=10;class rP extends nP{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,n)=>this.onStorageEvent(t,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=H2(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&t(n,i,r)}}onStorageEvent(t,n=!1){if(!t.key){this.forAllChangedKeys((o,a,l)=>{this.notifyListeners(o,l)});return}const r=t.key;n?this.detachListener():this.stopPolling();const i=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},s=this.storage.getItem(r);o6()&&s!==t.newValue&&t.newValue!==t.oldValue?setTimeout(i,W6):i()}notifyListeners(t,n){this.localCache[t]=n;const r=this.listeners[t];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:n,newValue:r}),!0)})},z6)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,n){await super._set(t,n),this.localCache[t]=JSON.stringify(n)}async _get(t){const n=await super._get(t);return this.localCache[t]=JSON.stringify(n),n}async _remove(t){await super._remove(t),delete this.localCache[t]}}rP.type="LOCAL";const H6=rP;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iP extends nP{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,n){}_removeListener(t,n){}}iP.type="SESSION";const sP=iP;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function q6(e){return Promise.all(e.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qf{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const n=this.receivers.find(i=>i.isListeningto(t));if(n)return n;const r=new Qf(t);return this.receivers.push(r),r}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const n=t,{eventId:r,eventType:i,data:s}=n.data,o=this.handlersMap[i];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const a=Array.from(o).map(async c=>c(n.origin,s)),l=await q6(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:l})}_subscribe(t,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(n)}_unsubscribe(t,n){this.handlersMap[t]&&n&&this.handlersMap[t].delete(n),(!n||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Qf.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _w(e="",t=10){let n="";for(let r=0;r<t;r++)n+=Math.floor(Math.random()*10);return e+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G6{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,o;return new Promise((a,l)=>{const c=_w("",20);i.port1.start();const d=setTimeout(()=>{l(new Error("unsupported_event"))},r);o={messageChannel:i,onMessage(h){const f=h;if(f.data.eventId===c)switch(f.data.status){case"ack":clearTimeout(d),s=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),a(f.data.response);break;default:clearTimeout(d),clearTimeout(s),l(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:t,eventId:c,data:n},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tr(){return window}function K6(e){Tr().location.href=e}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oP(){return typeof Tr().WorkerGlobalScope<"u"&&typeof Tr().importScripts=="function"}async function Y6(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function X6(){var e;return((e=navigator==null?void 0:navigator.serviceWorker)===null||e===void 0?void 0:e.controller)||null}function J6(){return oP()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aP="firebaseLocalStorageDb",Q6=1,Kh="firebaseLocalStorage",lP="fbase_key";class vu{constructor(t){this.request=t}toPromise(){return new Promise((t,n)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Zf(e,t){return e.transaction([Kh],t?"readwrite":"readonly").objectStore(Kh)}function Z6(){const e=indexedDB.deleteDatabase(aP);return new vu(e).toPromise()}function Vy(){const e=indexedDB.open(aP,Q6);return new Promise((t,n)=>{e.addEventListener("error",()=>{n(e.error)}),e.addEventListener("upgradeneeded",()=>{const r=e.result;try{r.createObjectStore(Kh,{keyPath:lP})}catch(i){n(i)}}),e.addEventListener("success",async()=>{const r=e.result;r.objectStoreNames.contains(Kh)?t(r):(r.close(),await Z6(),t(await Vy()))})})}async function JE(e,t,n){const r=Zf(e,!0).put({[lP]:t,value:n});return new vu(r).toPromise()}async function e$(e,t){const n=Zf(e,!1).get(t),r=await new vu(n).toPromise();return r===void 0?null:r.value}function QE(e,t){const n=Zf(e,!0).delete(t);return new vu(n).toPromise()}const t$=800,n$=3;class cP{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Vy(),this.db)}async _withRetries(t){let n=0;for(;;)try{const r=await this._openDb();return await t(r)}catch(r){if(n++>n$)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return oP()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Qf._getInstance(J6()),this.receiver._subscribe("keyChanged",async(t,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(t,n)=>["keyChanged"])}async initializeSender(){var t,n;if(this.activeServiceWorker=await Y6(),!this.activeServiceWorker)return;this.sender=new G6(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((t=r[0])===null||t===void 0)&&t.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||X6()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await Vy();return await JE(t,Gh,"1"),await QE(t,Gh),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>JE(r,t,n)),this.localCache[t]=n,this.notifyServiceWorker(t)))}async _get(t){const n=await this._withRetries(r=>e$(r,t));return this.localCache[t]=n,n}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(n=>QE(n,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(i=>{const s=Zf(i,!1).getAll();return new vu(s).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(t.length!==0)for(const{fbase_key:i,value:s}of t)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(s)&&(this.notifyListeners(i,s),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(t,n){this.localCache[t]=n;const r=this.listeners[t];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),t$)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}cP.type="LOCAL";const r$=cP;new mu(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uP(e,t){return t?Kr(t):(Z(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xw extends yw{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return sa(t,this._buildIdpRequest())}_linkToIdToken(t,n){return sa(t,this._buildIdpRequest(n))}_getReauthenticationResolver(t){return sa(t,this._buildIdpRequest())}_buildIdpRequest(t){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(n.idToken=t),n}}function i$(e){return Q2(e.auth,new xw(e),e.bypassAuthState)}function s$(e){const{auth:t,user:n}=e;return Z(n,t,"internal-error"),M6(n,new xw(e),e.bypassAuthState)}async function o$(e){const{auth:t,user:n}=e;return Z(n,t,"internal-error"),O6(n,new xw(e),e.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dP{constructor(t,n,r,i,s=!1){this.auth=t,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(t,n)=>{this.pendingPromise={resolve:t,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(t){const{urlResponse:n,sessionId:r,postBody:i,tenantId:s,error:o,type:a}=t;if(o){this.reject(o);return}const l={auth:this.auth,requestUri:n,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(l))}catch(c){this.reject(c)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return i$;case"linkViaPopup":case"linkViaRedirect":return o$;case"reauthViaPopup":case"reauthViaRedirect":return s$;default:jn(this.auth,"internal-error")}}resolve(t){li(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){li(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a$=new mu(2e3,1e4);async function l$(e,t,n){if(Ot(e.app))return Promise.reject(sr(e,"operation-not-supported-in-this-environment"));const r=ps(e);V3(e,t,ww);const i=uP(r,n);return new Ls(r,"signInViaPopup",t,i).executeNotNull()}class Ls extends dP{constructor(t,n,r,i,s){super(t,n,i,s),this.provider=r,this.authWindow=null,this.pollId=null,Ls.currentPopupAction&&Ls.currentPopupAction.cancel(),Ls.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return Z(t,this.auth,"internal-error"),t}async onExecution(){li(this.filter.length===1,"Popup operations only handle one event");const t=_w();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(sr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var t;return((t=this.authWindow)===null||t===void 0?void 0:t.associatedEvent)||null}cancel(){this.reject(sr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Ls.currentPopupAction=null}pollUserCancellation(){const t=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(sr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,a$.get())};t()}}Ls.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c$="pendingRedirect",Jd=new Map;class u$ extends dP{constructor(t,n,r=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let t=Jd.get(this.auth._key());if(!t){try{const r=await d$(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(r)}catch(n){t=()=>Promise.reject(n)}Jd.set(this.auth._key(),t)}return this.bypassAuthState||Jd.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const n=await this.auth._redirectUserForId(t.eventId);if(n)return this.user=n,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function d$(e,t){const n=p$(t),r=f$(e);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function h$(e,t){Jd.set(e._key(),t)}function f$(e){return Kr(e._redirectPersistence)}function p$(e){return Xd(c$,e.config.apiKey,e.name)}async function m$(e,t,n=!1){if(Ot(e.app))return Promise.reject(Zr(e));const r=ps(e),i=uP(r,t),o=await new u$(r,i,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,t)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g$=10*60*1e3;class y${constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(t,r)&&(n=!0,this.sendToConsumer(t,r),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!v$(t)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=t,n=!0)),n}sendToConsumer(t,n){var r;if(t.error&&!hP(t)){const i=((r=t.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(sr(this.auth,i))}else n.onAuthEvent(t)}isEventForConsumer(t,n){const r=n.eventId===null||!!t.eventId&&t.eventId===n.eventId;return n.filter.includes(t.type)&&r}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=g$&&this.cachedEventUids.clear(),this.cachedEventUids.has(ZE(t))}saveEventToCache(t){this.cachedEventUids.add(ZE(t)),this.lastProcessedEventTime=Date.now()}}function ZE(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter(t=>t).join("-")}function hP({type:e,error:t}){return e==="unknown"&&(t==null?void 0:t.code)==="auth/no-auth-event"}function v$(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return hP(e);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function w$(e,t={}){return gi(e,"GET","/v1/projects",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _$=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,x$=/^https?/;async function E$(e){if(e.config.emulator)return;const{authorizedDomains:t}=await w$(e);for(const n of t)try{if(b$(n))return}catch{}jn(e,"unauthorized-domain")}function b$(e){const t=jy(),{protocol:n,hostname:r}=new URL(t);if(e.startsWith("chrome-extension://")){const o=new URL(e);return o.hostname===""&&r===""?n==="chrome-extension:"&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!x$.test(n))return!1;if(_$.test(e))return r===e;const i=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C$=new mu(3e4,6e4);function eb(){const e=Tr().___jsl;if(e!=null&&e.H){for(const t of Object.keys(e.H))if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=[...e.H[t].L],e.CP)for(let n=0;n<e.CP.length;n++)e.CP[n]=null}}function S$(e){return new Promise((t,n)=>{var r,i,s;function o(){eb(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{eb(),n(sr(e,"network-request-failed"))},timeout:C$.get()})}if(!((i=(r=Tr().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)t(gapi.iframes.getContext());else if(!((s=Tr().gapi)===null||s===void 0)&&s.load)o();else{const a=m6("iframefcb");return Tr()[a]=()=>{gapi.load?o():n(sr(e,"network-request-failed"))},G2(`${p6()}?onload=${a}`).catch(l=>n(l))}}).catch(t=>{throw Qd=null,t})}let Qd=null;function T$(e){return Qd=Qd||S$(e),Qd}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k$=new mu(5e3,15e3),I$="__/auth/iframe",P$="emulator/auth/iframe",R$={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},A$=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function N$(e){const t=e.config;Z(t.authDomain,e,"auth-domain-config-required");const n=t.emulator?pw(t,P$):`https://${e.config.authDomain}/${I$}`,r={apiKey:t.apiKey,appName:e.name,v:fs},i=A$.get(e.config.apiHost);i&&(r.eid=i);const s=e._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${Va(r).slice(1)}`}async function D$(e){const t=await T$(e),n=Tr().gapi;return Z(n,e,"internal-error"),t.open({where:document.body,url:N$(e),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:R$,dontclear:!0},r=>new Promise(async(i,s)=>{await r.restyle({setHideOnLeave:!1});const o=sr(e,"network-request-failed"),a=Tr().setTimeout(()=>{s(o)},k$.get());function l(){Tr().clearTimeout(a),i(r)}r.ping(l).then(l,()=>{s(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O$={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},M$=500,L$=600,j$="_blank",F$="http://localhost";class tb{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function $$(e,t,n,r=M$,i=L$){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const l=Object.assign(Object.assign({},O$),{width:r.toString(),height:i.toString(),top:s,left:o}),c=Kt().toLowerCase();n&&(a=V2(c)?j$:n),F2(c)&&(t=t||F$,l.scrollbars="yes");const d=Object.entries(l).reduce((f,[g,v])=>`${f}${g}=${v},`,"");if(s6(c)&&a!=="_self")return V$(t||"",a),new tb(null);const h=window.open(t||"",a,d);Z(h,e,"popup-blocked");try{h.focus()}catch{}return new tb(h)}function V$(e,t){const n=document.createElement("a");n.href=e,n.target=t;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U$="__/auth/handler",B$="emulator/auth/handler",z$=encodeURIComponent("fac");async function nb(e,t,n,r,i,s){Z(e.config.authDomain,e,"auth-domain-config-required"),Z(e.config.apiKey,e,"invalid-api-key");const o={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:r,v:fs,eventId:i};if(t instanceof ww){t.setDefaultLanguage(e.languageCode),o.providerId=t.providerId||"",Py(t.getCustomParameters())||(o.customParameters=JSON.stringify(t.getCustomParameters()));for(const[d,h]of Object.entries(s||{}))o[d]=h}if(t instanceof yu){const d=t.getScopes().filter(h=>h!=="");d.length>0&&(o.scopes=d.join(","))}e.tenantId&&(o.tid=e.tenantId);const a=o;for(const d of Object.keys(a))a[d]===void 0&&delete a[d];const l=await e._getAppCheckToken(),c=l?`#${z$}=${encodeURIComponent(l)}`:"";return`${W$(e)}?${Va(a).slice(1)}${c}`}function W$({config:e}){return e.emulator?pw(e,B$):`https://${e.authDomain}/${U$}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zm="webStorageSupport";class H${constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=sP,this._completeRedirectFn=m$,this._overrideRedirectResult=h$}async _openPopup(t,n,r,i){var s;li((s=this.eventManagers[t._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");const o=await nb(t,n,r,jy(),i);return $$(t,o,_w())}async _openRedirect(t,n,r,i){await this._originValidation(t);const s=await nb(t,n,r,jy(),i);return K6(s),new Promise(()=>{})}_initialize(t){const n=t._key();if(this.eventManagers[n]){const{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(li(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(t);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(t){const n=await D$(t),r=new y$(t);return n.register("authEvent",i=>(Z(i==null?void 0:i.authEvent,t,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:r},this.iframes[t._key()]=n,r}_isIframeWebStorageSupported(t,n){this.iframes[t._key()].send(Zm,{type:Zm},i=>{var s;const o=(s=i==null?void 0:i[0])===null||s===void 0?void 0:s[Zm];o!==void 0&&n(!!o),jn(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const n=t._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=E$(t)),this.originValidationPromises[n]}get _shouldInitProactively(){return H2()||$2()||gw()}}const q$=H$;var rb="@firebase/auth",ib="1.10.4";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G${constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){var t;return this.assertAuthConfigured(),((t=this.auth.currentUser)===null||t===void 0?void 0:t.uid)||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const n=this.auth.onIdTokenChanged(r=>{t((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(t,n),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const n=this.internalListeners.get(t);n&&(this.internalListeners.delete(t),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Z(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function K$(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function Y$(e){xn(new cn("auth",(t,{options:n})=>{const r=t.getProvider("app").getImmediate(),i=t.getProvider("heartbeat"),s=t.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;Z(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:o,authDomain:a,clientPlatform:e,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:q2(e)},c=new d6(r,i,s,l);return x6(c,n),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,n,r)=>{t.getProvider("auth-internal").initialize()})),xn(new cn("auth-internal",t=>{const n=ps(t.getProvider("auth").getImmediate());return(r=>new G$(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),mt(rb,ib,K$(e)),mt(rb,ib,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X$=5*60,J$=XI("authIdTokenMaxAge")||X$;let sb=null;const Q$=e=>async t=>{const n=t&&await t.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>J$)return;const i=n==null?void 0:n.token;sb!==i&&(sb=i,await fetch(e,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function Z$(e=pu()){const t=hs(e,"auth");if(t.isInitialized())return t.getImmediate();const n=_6(e,{popupRedirectResolver:q$,persistence:[r$,H6,sP]}),r=XI("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const s=new URL(r,location.origin);if(location.origin===s.origin){const o=Q$(s.toString());U6(n,o,()=>o(n.currentUser)),V6(n,a=>o(a))}}const i=KI("auth");return i?Y2(n,`http://${i}`):ds("Auth",!1),n}function e9(){var e,t;return(t=(e=document.getElementsByTagName("head"))===null||e===void 0?void 0:e[0])!==null&&t!==void 0?t:document}h6({loadJS(e){return new Promise((t,n)=>{const r=document.createElement("script");r.setAttribute("src",e),r.onload=t,r.onerror=i=>{const s=sr("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",e9().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});Y$("Browser");const ob="@firebase/database",ab="1.0.17";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let fP="";function t9(e){fP=e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n9{constructor(t){this.domStorage_=t,this.prefix_="firebase:"}set(t,n){n==null?this.domStorage_.removeItem(this.prefixedName_(t)):this.domStorage_.setItem(this.prefixedName_(t),at(n))}get(t){const n=this.domStorage_.getItem(this.prefixedName_(t));return n==null?null:Oc(n)}remove(t){this.domStorage_.removeItem(this.prefixedName_(t))}prefixedName_(t){return this.prefix_+t}toString(){return this.domStorage_.toString()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r9{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(t,n){n==null?delete this.cache_[t]:this.cache_[t]=n}get(t){return Dr(this.cache_,t)?this.cache_[t]:null}remove(t){delete this.cache_[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pP=function(e){try{if(typeof window<"u"&&typeof window[e]<"u"){const t=window[e];return t.setItem("firebase:sentinel","cache"),t.removeItem("firebase:sentinel"),new n9(t)}}catch{}return new r9},js=pP("localStorage"),Uy=pP("sessionStorage");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oa=new Gf("@firebase/database"),i9=function(){let e=1;return function(){return e++}}(),mP=function(e){const t=Zj(e),n=new Yj;n.update(t);const r=n.digest();return Qv.encodeByteArray(r)},wu=function(...e){let t="";for(let n=0;n<e.length;n++){const r=e[n];Array.isArray(r)||r&&typeof r=="object"&&typeof r.length=="number"?t+=wu.apply(null,r):typeof r=="object"?t+=at(r):t+=r,t+=" "}return t};let zs=null,lb=!0;const s9=function(e,t){z(!t||e===!0||e===!1,"Can't turn on custom loggers persistently."),e===!0?(oa.logLevel=_e.VERBOSE,zs=oa.log.bind(oa),t&&Uy.set("logging_enabled",!0)):typeof e=="function"?zs=e:(zs=null,Uy.remove("logging_enabled"))},xt=function(...e){if(lb===!0&&(lb=!1,zs===null&&Uy.get("logging_enabled")===!0&&s9(!0)),zs){const t=wu.apply(null,e);zs(t)}},_u=function(e){return function(...t){xt(e,...t)}},By=function(...e){const t="FIREBASE INTERNAL ERROR: "+wu(...e);oa.error(t)},ci=function(...e){const t=`FIREBASE FATAL ERROR: ${wu(...e)}`;throw oa.error(t),new Error(t)},Gt=function(...e){const t="FIREBASE WARNING: "+wu(...e);oa.warn(t)},o9=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&Gt("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},Ew=function(e){return typeof e=="number"&&(e!==e||e===Number.POSITIVE_INFINITY||e===Number.NEGATIVE_INFINITY)},a9=function(e){if(document.readyState==="complete")e();else{let t=!1;const n=function(){if(!document.body){setTimeout(n,Math.floor(10));return}t||(t=!0,e())};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&n()}),window.attachEvent("onload",n))}},wa="[MIN_NAME]",no="[MAX_NAME]",fo=function(e,t){if(e===t)return 0;if(e===wa||t===no)return-1;if(t===wa||e===no)return 1;{const n=cb(e),r=cb(t);return n!==null?r!==null?n-r===0?e.length-t.length:n-r:-1:r!==null?1:e<t?-1:1}},l9=function(e,t){return e===t?0:e<t?-1:1},_l=function(e,t){if(t&&e in t)return t[e];throw new Error("Missing required key ("+e+") in object: "+at(t))},bw=function(e){if(typeof e!="object"||e===null)return at(e);const t=[];for(const r in e)t.push(r);t.sort();let n="{";for(let r=0;r<t.length;r++)r!==0&&(n+=","),n+=at(t[r]),n+=":",n+=bw(e[t[r]]);return n+="}",n},gP=function(e,t){const n=e.length;if(n<=t)return[e];const r=[];for(let i=0;i<n;i+=t)i+t>n?r.push(e.substring(i,n)):r.push(e.substring(i,i+t));return r};function St(e,t){for(const n in e)e.hasOwnProperty(n)&&t(n,e[n])}const yP=function(e){z(!Ew(e),"Invalid JSON number");const t=11,n=52,r=(1<<t-1)-1;let i,s,o,a,l;e===0?(s=0,o=0,i=1/e===-1/0?1:0):(i=e<0,e=Math.abs(e),e>=Math.pow(2,1-r)?(a=Math.min(Math.floor(Math.log(e)/Math.LN2),r),s=a+r,o=Math.round(e*Math.pow(2,n-a)-Math.pow(2,n))):(s=0,o=Math.round(e/Math.pow(2,1-r-n))));const c=[];for(l=n;l;l-=1)c.push(o%2?1:0),o=Math.floor(o/2);for(l=t;l;l-=1)c.push(s%2?1:0),s=Math.floor(s/2);c.push(i?1:0),c.reverse();const d=c.join("");let h="";for(l=0;l<64;l+=8){let f=parseInt(d.substr(l,8),2).toString(16);f.length===1&&(f="0"+f),h=h+f}return h.toLowerCase()},c9=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},u9=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"};function d9(e,t){let n="Unknown Error";e==="too_big"?n="The data requested exceeds the maximum size that can be accessed with a single request.":e==="permission_denied"?n="Client doesn't have permission to access the desired data.":e==="unavailable"&&(n="The service is unavailable");const r=new Error(e+" at "+t._path.toString()+": "+n);return r.code=e.toUpperCase(),r}const h9=new RegExp("^-?(0*)\\d{1,10}$"),f9=-2147483648,p9=2147483647,cb=function(e){if(h9.test(e)){const t=Number(e);if(t>=f9&&t<=p9)return t}return null},Ba=function(e){try{e()}catch(t){setTimeout(()=>{const n=t.stack||"";throw Gt("Exception was thrown by user callback.",n),t},Math.floor(0))}},m9=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},Ql=function(e,t){const n=setTimeout(e,t);return typeof n=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(n):typeof n=="object"&&n.unref&&n.unref(),n};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g9{constructor(t,n){this.appCheckProvider=n,this.appName=t.name,Ot(t)&&t.settings.appCheckToken&&(this.serverAppAppCheckToken=t.settings.appCheckToken),this.appCheck=n==null?void 0:n.getImmediate({optional:!0}),this.appCheck||n==null||n.get().then(r=>this.appCheck=r)}getToken(t){if(this.serverAppAppCheckToken){if(t)throw new Error("Attempted reuse of `FirebaseServerApp.appCheckToken` after previous usage failed.");return Promise.resolve({token:this.serverAppAppCheckToken})}return this.appCheck?this.appCheck.getToken(t):new Promise((n,r)=>{setTimeout(()=>{this.appCheck?this.getToken(t).then(n,r):n(null)},0)})}addTokenChangeListener(t){var n;(n=this.appCheckProvider)===null||n===void 0||n.get().then(r=>r.addTokenListener(t))}notifyForInvalidToken(){Gt(`Provided AppCheck credentials for the app named "${this.appName}" are invalid. This usually indicates your app was not initialized correctly.`)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y9{constructor(t,n,r){this.appName_=t,this.firebaseOptions_=n,this.authProvider_=r,this.auth_=null,this.auth_=r.getImmediate({optional:!0}),this.auth_||r.onInit(i=>this.auth_=i)}getToken(t){return this.auth_?this.auth_.getToken(t).catch(n=>n&&n.code==="auth/token-not-initialized"?(xt("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(n)):new Promise((n,r)=>{setTimeout(()=>{this.auth_?this.getToken(t).then(n,r):n(null)},0)})}addTokenChangeListener(t){this.auth_?this.auth_.addAuthTokenListener(t):this.authProvider_.get().then(n=>n.addAuthTokenListener(t))}removeTokenChangeListener(t){this.authProvider_.get().then(n=>n.removeAuthTokenListener(t))}notifyForInvalidToken(){let t='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?t+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?t+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':t+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',Gt(t)}}class aa{constructor(t){this.accessToken=t}getToken(t){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(t){t(this.accessToken)}removeTokenChangeListener(t){}notifyForInvalidToken(){}}aa.OWNER="owner";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cw="5",vP="v",wP="s",_P="r",xP="f",EP=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,bP="ls",CP="p",zy="ac",SP="websocket",TP="long_polling";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kP{constructor(t,n,r,i,s=!1,o="",a=!1,l=!1,c=null){this.secure=n,this.namespace=r,this.webSocketOnly=i,this.nodeAdmin=s,this.persistenceKey=o,this.includeNamespaceInQueryParams=a,this.isUsingEmulator=l,this.emulatorOptions=c,this._host=t.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=js.get("host:"+t)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(t){t!==this.internalHost&&(this.internalHost=t,this.isCacheableHost()&&js.set("host:"+this._host,this.internalHost))}toString(){let t=this.toURLString();return this.persistenceKey&&(t+="<"+this.persistenceKey+">"),t}toURLString(){const t=this.secure?"https://":"http://",n=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${t}${this.host}/${n}`}}function v9(e){return e.host!==e.internalHost||e.isCustomHost()||e.includeNamespaceInQueryParams}function IP(e,t,n){z(typeof t=="string","typeof type must == string"),z(typeof n=="object","typeof params must == object");let r;if(t===SP)r=(e.secure?"wss://":"ws://")+e.internalHost+"/.ws?";else if(t===TP)r=(e.secure?"https://":"http://")+e.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+t);v9(e)&&(n.ns=e.namespace);const i=[];return St(n,(s,o)=>{i.push(s+"="+o)}),r+i.join("&")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w9{constructor(){this.counters_={}}incrementCounter(t,n=1){Dr(this.counters_,t)||(this.counters_[t]=0),this.counters_[t]+=n}get(){return Nj(this.counters_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eg={},tg={};function Sw(e){const t=e.toString();return eg[t]||(eg[t]=new w9),eg[t]}function _9(e,t){const n=e.toString();return tg[n]||(tg[n]=t()),tg[n]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x9{constructor(t){this.onMessage_=t,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(t,n){this.closeAfterResponse=t,this.onClose=n,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(t,n){for(this.pendingResponses[t]=n;this.pendingResponses[this.currentResponseNum];){const r=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let i=0;i<r.length;++i)r[i]&&Ba(()=>{this.onMessage_(r[i])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ub="start",E9="close",b9="pLPCommand",C9="pRTLPCB",PP="id",RP="pw",AP="ser",S9="cb",T9="seg",k9="ts",I9="d",P9="dframe",NP=1870,DP=30,R9=NP-DP,A9=25e3,N9=3e4;class Ho{constructor(t,n,r,i,s,o,a){this.connId=t,this.repoInfo=n,this.applicationId=r,this.appCheckToken=i,this.authToken=s,this.transportSessionId=o,this.lastSessionId=a,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=_u(t),this.stats_=Sw(n),this.urlFn=l=>(this.appCheckToken&&(l[zy]=this.appCheckToken),IP(n,TP,l))}open(t,n){this.curSegmentNum=0,this.onDisconnect_=n,this.myPacketOrderer=new x9(t),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(N9)),a9(()=>{if(this.isClosed_)return;this.scriptTagHolder=new Tw((...s)=>{const[o,a,l,c,d]=s;if(this.incrementIncomingBytes_(s),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,o===ub)this.id=a,this.password=l;else if(o===E9)a?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(a,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+o)},(...s)=>{const[o,a]=s;this.incrementIncomingBytes_(s),this.myPacketOrderer.handleResponse(o,a)},()=>{this.onClosed_()},this.urlFn);const r={};r[ub]="t",r[AP]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(r[S9]=this.scriptTagHolder.uniqueCallbackIdentifier),r[vP]=Cw,this.transportSessionId&&(r[wP]=this.transportSessionId),this.lastSessionId&&(r[bP]=this.lastSessionId),this.applicationId&&(r[CP]=this.applicationId),this.appCheckToken&&(r[zy]=this.appCheckToken),typeof location<"u"&&location.hostname&&EP.test(location.hostname)&&(r[_P]=xP);const i=this.urlFn(r);this.log_("Connecting via long-poll to "+i),this.scriptTagHolder.addTag(i,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){Ho.forceAllow_=!0}static forceDisallow(){Ho.forceDisallow_=!0}static isAvailable(){return Ho.forceAllow_?!0:!Ho.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!c9()&&!u9()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(t){const n=at(t);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const r=qI(n),i=gP(r,R9);for(let s=0;s<i.length;s++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,i.length,i[s]),this.curSegmentNum++}addDisconnectPingFrame(t,n){this.myDisconnFrame=document.createElement("iframe");const r={};r[P9]="t",r[PP]=t,r[RP]=n,this.myDisconnFrame.src=this.urlFn(r),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(t){const n=at(t).length;this.bytesReceived+=n,this.stats_.incrementCounter("bytes_received",n)}}class Tw{constructor(t,n,r,i){this.onDisconnect=r,this.urlFn=i,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=i9(),window[b9+this.uniqueCallbackIdentifier]=t,window[C9+this.uniqueCallbackIdentifier]=n,this.myIFrame=Tw.createIFrame_();let s="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(s='<script>document.domain="'+document.domain+'";<\/script>');const o="<html><body>"+s+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(o),this.myIFrame.doc.close()}catch(a){xt("frame writing exception"),a.stack&&xt(a.stack),xt(a)}}}static createIFrame_(){const t=document.createElement("iframe");if(t.style.display="none",document.body){document.body.appendChild(t);try{t.contentWindow.document||xt("No IE domain setting required")}catch{const r=document.domain;t.src="javascript:void((function(){document.open();document.domain='"+r+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return t.contentDocument?t.doc=t.contentDocument:t.contentWindow?t.doc=t.contentWindow.document:t.document&&(t.doc=t.document),t}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const t=this.onDisconnect;t&&(this.onDisconnect=null,t())}startLongPoll(t,n){for(this.myID=t,this.myPW=n,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const t={};t[PP]=this.myID,t[RP]=this.myPW,t[AP]=this.currentSerial;let n=this.urlFn(t),r="",i=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+DP+r.length<=NP;){const o=this.pendingSegs.shift();r=r+"&"+T9+i+"="+o.seg+"&"+k9+i+"="+o.ts+"&"+I9+i+"="+o.d,i++}return n=n+r,this.addLongPollTag_(n,this.currentSerial),!0}else return!1}enqueueSegment(t,n,r){this.pendingSegs.push({seg:t,ts:n,d:r}),this.alive&&this.newRequest_()}addLongPollTag_(t,n){this.outstandingRequests.add(n);const r=()=>{this.outstandingRequests.delete(n),this.newRequest_()},i=setTimeout(r,Math.floor(A9)),s=()=>{clearTimeout(i),r()};this.addTag(t,s)}addTag(t,n){setTimeout(()=>{try{if(!this.sendNewPolls)return;const r=this.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=t,r.onload=r.onreadystatechange=function(){const i=r.readyState;(!i||i==="loaded"||i==="complete")&&(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),n())},r.onerror=()=>{xt("Long-poll script failed to load: "+t),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(r)}catch{}},Math.floor(1))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D9=16384,O9=45e3;let Yh=null;typeof MozWebSocket<"u"?Yh=MozWebSocket:typeof WebSocket<"u"&&(Yh=WebSocket);class Jn{constructor(t,n,r,i,s,o,a){this.connId=t,this.applicationId=r,this.appCheckToken=i,this.authToken=s,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=_u(this.connId),this.stats_=Sw(n),this.connURL=Jn.connectionURL_(n,o,a,i,r),this.nodeAdmin=n.nodeAdmin}static connectionURL_(t,n,r,i,s){const o={};return o[vP]=Cw,typeof location<"u"&&location.hostname&&EP.test(location.hostname)&&(o[_P]=xP),n&&(o[wP]=n),r&&(o[bP]=r),i&&(o[zy]=i),s&&(o[CP]=s),IP(t,SP,o)}open(t,n){this.onDisconnect=n,this.onMessage=t,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,js.set("previous_websocket_failure",!0);try{let r;QI(),this.mySock=new Yh(this.connURL,[],r)}catch(r){this.log_("Error instantiating WebSocket.");const i=r.message||r.data;i&&this.log_(i),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=r=>{this.handleIncomingFrame(r)},this.mySock.onerror=r=>{this.log_("WebSocket error.  Closing connection.");const i=r.message||r.data;i&&this.log_(i),this.onClosed_()}}start(){}static forceDisallow(){Jn.forceDisallow_=!0}static isAvailable(){let t=!1;if(typeof navigator<"u"&&navigator.userAgent){const n=/Android ([0-9]{0,}\.[0-9]{0,})/,r=navigator.userAgent.match(n);r&&r.length>1&&parseFloat(r[1])<4.4&&(t=!0)}return!t&&Yh!==null&&!Jn.forceDisallow_}static previouslyFailed(){return js.isInMemoryStorage||js.get("previous_websocket_failure")===!0}markConnectionHealthy(){js.remove("previous_websocket_failure")}appendFrame_(t){if(this.frames.push(t),this.frames.length===this.totalFrames){const n=this.frames.join("");this.frames=null;const r=Oc(n);this.onMessage(r)}}handleNewFrameCount_(t){this.totalFrames=t,this.frames=[]}extractFrameCount_(t){if(z(this.frames===null,"We already have a frame buffer"),t.length<=6){const n=Number(t);if(!isNaN(n))return this.handleNewFrameCount_(n),null}return this.handleNewFrameCount_(1),t}handleIncomingFrame(t){if(this.mySock===null)return;const n=t.data;if(this.bytesReceived+=n.length,this.stats_.incrementCounter("bytes_received",n.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(n);else{const r=this.extractFrameCount_(n);r!==null&&this.appendFrame_(r)}}send(t){this.resetKeepAlive();const n=at(t);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const r=gP(n,D9);r.length>1&&this.sendString_(String(r.length));for(let i=0;i<r.length;i++)this.sendString_(r[i])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(O9))}sendString_(t){try{this.mySock.send(t)}catch(n){this.log_("Exception thrown from WebSocket.send():",n.message||n.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}Jn.responsesRequiredToBeHealthy=2;Jn.healthyTimeout=3e4;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vc{static get ALL_TRANSPORTS(){return[Ho,Jn]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}constructor(t){this.initTransports_(t)}initTransports_(t){const n=Jn&&Jn.isAvailable();let r=n&&!Jn.previouslyFailed();if(t.webSocketOnly&&(n||Gt("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),r=!0),r)this.transports_=[Jn];else{const i=this.transports_=[];for(const s of Vc.ALL_TRANSPORTS)s&&s.isAvailable()&&i.push(s);Vc.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}Vc.globalTransportInitialized_=!1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M9=6e4,L9=5e3,j9=10*1024,F9=100*1024,ng="t",db="d",$9="s",hb="r",V9="e",fb="o",pb="a",mb="n",gb="p",U9="h";class B9{constructor(t,n,r,i,s,o,a,l,c,d){this.id=t,this.repoInfo_=n,this.applicationId_=r,this.appCheckToken_=i,this.authToken_=s,this.onMessage_=o,this.onReady_=a,this.onDisconnect_=l,this.onKill_=c,this.lastSessionId=d,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=_u("c:"+this.id+":"),this.transportManager_=new Vc(n),this.log_("Connection created"),this.start_()}start_(){const t=this.transportManager_.initialTransport();this.conn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(n,r)},Math.floor(0));const i=t.healthyTimeout||0;i>0&&(this.healthyTimeout_=Ql(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>F9?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>j9?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(i)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(t){return n=>{t===this.conn_?this.onConnectionLost_(n):t===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(t){return n=>{this.state_!==2&&(t===this.rx_?this.onPrimaryMessageReceived_(n):t===this.secondaryConn_?this.onSecondaryMessageReceived_(n):this.log_("message on old connection"))}}sendRequest(t){const n={t:"d",d:t};this.sendData_(n)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(t){if(ng in t){const n=t[ng];n===pb?this.upgradeIfSecondaryHealthy_():n===hb?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):n===fb&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(t){const n=_l("t",t),r=_l("d",t);if(n==="c")this.onSecondaryControl_(r);else if(n==="d")this.pendingDataMessages.push(r);else throw new Error("Unknown protocol layer: "+n)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:gb,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:pb,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:mb,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(t){const n=_l("t",t),r=_l("d",t);n==="c"?this.onControl_(r):n==="d"&&this.onDataMessage_(r)}onDataMessage_(t){this.onPrimaryResponse_(),this.onMessage_(t)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(t){const n=_l(ng,t);if(db in t){const r=t[db];if(n===U9){const i=Object.assign({},r);this.repoInfo_.isUsingEmulator&&(i.h=this.repoInfo_.host),this.onHandshake_(i)}else if(n===mb){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let i=0;i<this.pendingDataMessages.length;++i)this.onDataMessage_(this.pendingDataMessages[i]);this.pendingDataMessages=[],this.tryCleanupConnection()}else n===$9?this.onConnectionShutdown_(r):n===hb?this.onReset_(r):n===V9?By("Server Error: "+r):n===fb?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):By("Unknown control packet command: "+n)}}onHandshake_(t){const n=t.ts,r=t.v,i=t.h;this.sessionId=t.s,this.repoInfo_.host=i,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,n),Cw!==r&&Gt("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const t=this.transportManager_.upgradeTransport();t&&this.startUpgrade_(t)}startUpgrade_(t){this.secondaryConn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,r),Ql(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(M9))}onReset_(t){this.log_("Reset packet received.  New host: "+t),this.repoInfo_.host=t,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(t,n){this.log_("Realtime connection established."),this.conn_=t,this.state_=1,this.onReady_&&(this.onReady_(n,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):Ql(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(L9))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:gb,d:{}}}))}onSecondaryConnectionLost_(){const t=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===t||this.rx_===t)&&this.close()}onConnectionLost_(t){this.conn_=null,!t&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(js.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(t){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(t),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(t){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(t)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OP{put(t,n,r,i){}merge(t,n,r,i){}refreshAuthToken(t){}refreshAppCheckToken(t){}onDisconnectPut(t,n,r){}onDisconnectMerge(t,n,r){}onDisconnectCancel(t,n){}reportStats(t){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MP{constructor(t){this.allowedEvents_=t,this.listeners_={},z(Array.isArray(t)&&t.length>0,"Requires a non-empty array")}trigger(t,...n){if(Array.isArray(this.listeners_[t])){const r=[...this.listeners_[t]];for(let i=0;i<r.length;i++)r[i].callback.apply(r[i].context,n)}}on(t,n,r){this.validateEventType_(t),this.listeners_[t]=this.listeners_[t]||[],this.listeners_[t].push({callback:n,context:r});const i=this.getInitialEvent(t);i&&n.apply(r,i)}off(t,n,r){this.validateEventType_(t);const i=this.listeners_[t]||[];for(let s=0;s<i.length;s++)if(i[s].callback===n&&(!r||r===i[s].context)){i.splice(s,1);return}}validateEventType_(t){z(this.allowedEvents_.find(n=>n===t),"Unknown event: "+t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xh extends MP{static getInstance(){return new Xh}constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!nw()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}getInitialEvent(t){return z(t==="online","Unknown event type: "+t),[this.online_]}currentlyOnline(){return this.online_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yb=32,vb=768;class Ee{constructor(t,n){if(n===void 0){this.pieces_=t.split("/");let r=0;for(let i=0;i<this.pieces_.length;i++)this.pieces_[i].length>0&&(this.pieces_[r]=this.pieces_[i],r++);this.pieces_.length=r,this.pieceNum_=0}else this.pieces_=t,this.pieceNum_=n}toString(){let t="";for(let n=this.pieceNum_;n<this.pieces_.length;n++)this.pieces_[n]!==""&&(t+="/"+this.pieces_[n]);return t||"/"}}function ye(){return new Ee("")}function ue(e){return e.pieceNum_>=e.pieces_.length?null:e.pieces_[e.pieceNum_]}function ns(e){return e.pieces_.length-e.pieceNum_}function Pe(e){let t=e.pieceNum_;return t<e.pieces_.length&&t++,new Ee(e.pieces_,t)}function kw(e){return e.pieceNum_<e.pieces_.length?e.pieces_[e.pieces_.length-1]:null}function z9(e){let t="";for(let n=e.pieceNum_;n<e.pieces_.length;n++)e.pieces_[n]!==""&&(t+="/"+encodeURIComponent(String(e.pieces_[n])));return t||"/"}function Uc(e,t=0){return e.pieces_.slice(e.pieceNum_+t)}function LP(e){if(e.pieceNum_>=e.pieces_.length)return null;const t=[];for(let n=e.pieceNum_;n<e.pieces_.length-1;n++)t.push(e.pieces_[n]);return new Ee(t,0)}function Ye(e,t){const n=[];for(let r=e.pieceNum_;r<e.pieces_.length;r++)n.push(e.pieces_[r]);if(t instanceof Ee)for(let r=t.pieceNum_;r<t.pieces_.length;r++)n.push(t.pieces_[r]);else{const r=t.split("/");for(let i=0;i<r.length;i++)r[i].length>0&&n.push(r[i])}return new Ee(n,0)}function he(e){return e.pieceNum_>=e.pieces_.length}function Wt(e,t){const n=ue(e),r=ue(t);if(n===null)return t;if(n===r)return Wt(Pe(e),Pe(t));throw new Error("INTERNAL ERROR: innerPath ("+t+") is not within outerPath ("+e+")")}function W9(e,t){const n=Uc(e,0),r=Uc(t,0);for(let i=0;i<n.length&&i<r.length;i++){const s=fo(n[i],r[i]);if(s!==0)return s}return n.length===r.length?0:n.length<r.length?-1:1}function Iw(e,t){if(ns(e)!==ns(t))return!1;for(let n=e.pieceNum_,r=t.pieceNum_;n<=e.pieces_.length;n++,r++)if(e.pieces_[n]!==t.pieces_[r])return!1;return!0}function Nn(e,t){let n=e.pieceNum_,r=t.pieceNum_;if(ns(e)>ns(t))return!1;for(;n<e.pieces_.length;){if(e.pieces_[n]!==t.pieces_[r])return!1;++n,++r}return!0}class H9{constructor(t,n){this.errorPrefix_=n,this.parts_=Uc(t,0),this.byteLength_=Math.max(1,this.parts_.length);for(let r=0;r<this.parts_.length;r++)this.byteLength_+=qf(this.parts_[r]);jP(this)}}function q9(e,t){e.parts_.length>0&&(e.byteLength_+=1),e.parts_.push(t),e.byteLength_+=qf(t),jP(e)}function G9(e){const t=e.parts_.pop();e.byteLength_-=qf(t),e.parts_.length>0&&(e.byteLength_-=1)}function jP(e){if(e.byteLength_>vb)throw new Error(e.errorPrefix_+"has a key path longer than "+vb+" bytes ("+e.byteLength_+").");if(e.parts_.length>yb)throw new Error(e.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+yb+") or object contains a cycle "+Ss(e))}function Ss(e){return e.parts_.length===0?"":"in property '"+e.parts_.join(".")+"'"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pw extends MP{static getInstance(){return new Pw}constructor(){super(["visible"]);let t,n;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(n="visibilitychange",t="hidden"):typeof document.mozHidden<"u"?(n="mozvisibilitychange",t="mozHidden"):typeof document.msHidden<"u"?(n="msvisibilitychange",t="msHidden"):typeof document.webkitHidden<"u"&&(n="webkitvisibilitychange",t="webkitHidden")),this.visible_=!0,n&&document.addEventListener(n,()=>{const r=!document[t];r!==this.visible_&&(this.visible_=r,this.trigger("visible",r))},!1)}getInitialEvent(t){return z(t==="visible","Unknown event type: "+t),[this.visible_]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xl=1e3,K9=60*5*1e3,wb=30*1e3,Y9=1.3,X9=3e4,J9="server_kill",_b=3;class ei extends OP{constructor(t,n,r,i,s,o,a,l){if(super(),this.repoInfo_=t,this.applicationId_=n,this.onDataUpdate_=r,this.onConnectStatus_=i,this.onServerInfoUpdate_=s,this.authTokenProvider_=o,this.appCheckTokenProvider_=a,this.authOverride_=l,this.id=ei.nextPersistentConnectionId_++,this.log_=_u("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=xl,this.maxReconnectDelay_=K9,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,l&&!QI())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");Pw.getInstance().on("visible",this.onVisible_,this),t.host.indexOf("fblocal")===-1&&Xh.getInstance().on("online",this.onOnline_,this)}sendRequest(t,n,r){const i=++this.requestNumber_,s={r:i,a:t,b:n};this.log_(at(s)),z(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(s),r&&(this.requestCBHash_[i]=r)}get(t){this.initConnection_();const n=new fu,i={action:"g",request:{p:t._path.toString(),q:t._queryObject},onComplete:o=>{const a=o.d;o.s==="ok"?n.resolve(a):n.reject(a)}};this.outstandingGets_.push(i),this.outstandingGetCount_++;const s=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(s),n.promise}listen(t,n,r,i){this.initConnection_();const s=t._queryIdentifier,o=t._path.toString();this.log_("Listen called for "+o+" "+s),this.listens.has(o)||this.listens.set(o,new Map),z(t._queryParams.isDefault()||!t._queryParams.loadsAllData(),"listen() called for non-default but complete query"),z(!this.listens.get(o).has(s),"listen() called twice for same path/queryId.");const a={onComplete:i,hashFn:n,query:t,tag:r};this.listens.get(o).set(s,a),this.connected_&&this.sendListen_(a)}sendGet_(t){const n=this.outstandingGets_[t];this.sendRequest("g",n.request,r=>{delete this.outstandingGets_[t],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),n.onComplete&&n.onComplete(r)})}sendListen_(t){const n=t.query,r=n._path.toString(),i=n._queryIdentifier;this.log_("Listen on "+r+" for "+i);const s={p:r},o="q";t.tag&&(s.q=n._queryObject,s.t=t.tag),s.h=t.hashFn(),this.sendRequest(o,s,a=>{const l=a.d,c=a.s;ei.warnOnListenWarnings_(l,n),(this.listens.get(r)&&this.listens.get(r).get(i))===t&&(this.log_("listen response",a),c!=="ok"&&this.removeListen_(r,i),t.onComplete&&t.onComplete(c,l))})}static warnOnListenWarnings_(t,n){if(t&&typeof t=="object"&&Dr(t,"w")){const r=va(t,"w");if(Array.isArray(r)&&~r.indexOf("no_index")){const i='".indexOn": "'+n._queryParams.getIndex().toString()+'"',s=n._path.toString();Gt(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${i} at ${s} to your security rules for better performance.`)}}}refreshAuthToken(t){this.authToken_=t,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(t)}reduceReconnectDelayIfAdminCredential_(t){(t&&t.length===40||Kj(t))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=wb)}refreshAppCheckToken(t){this.appCheckToken_=t,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const t=this.authToken_,n=Gj(t)?"auth":"gauth",r={cred:t};this.authOverride_===null?r.noauth=!0:typeof this.authOverride_=="object"&&(r.authvar=this.authOverride_),this.sendRequest(n,r,i=>{const s=i.s,o=i.d||"error";this.authToken_===t&&(s==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(s,o))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},t=>{const n=t.s,r=t.d||"error";n==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(n,r)})}unlisten(t,n){const r=t._path.toString(),i=t._queryIdentifier;this.log_("Unlisten called for "+r+" "+i),z(t._queryParams.isDefault()||!t._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(r,i)&&this.connected_&&this.sendUnlisten_(r,i,t._queryObject,n)}sendUnlisten_(t,n,r,i){this.log_("Unlisten on "+t+" for "+n);const s={p:t},o="n";i&&(s.q=r,s.t=i),this.sendRequest(o,s)}onDisconnectPut(t,n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",t,n,r):this.onDisconnectRequestQueue_.push({pathString:t,action:"o",data:n,onComplete:r})}onDisconnectMerge(t,n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",t,n,r):this.onDisconnectRequestQueue_.push({pathString:t,action:"om",data:n,onComplete:r})}onDisconnectCancel(t,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",t,null,n):this.onDisconnectRequestQueue_.push({pathString:t,action:"oc",data:null,onComplete:n})}sendOnDisconnect_(t,n,r,i){const s={p:n,d:r};this.log_("onDisconnect "+t,s),this.sendRequest(t,s,o=>{i&&setTimeout(()=>{i(o.s,o.d)},Math.floor(0))})}put(t,n,r,i){this.putInternal("p",t,n,r,i)}merge(t,n,r,i){this.putInternal("m",t,n,r,i)}putInternal(t,n,r,i,s){this.initConnection_();const o={p:n,d:r};s!==void 0&&(o.h=s),this.outstandingPuts_.push({action:t,request:o,onComplete:i}),this.outstandingPutCount_++;const a=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(a):this.log_("Buffering put: "+n)}sendPut_(t){const n=this.outstandingPuts_[t].action,r=this.outstandingPuts_[t].request,i=this.outstandingPuts_[t].onComplete;this.outstandingPuts_[t].queued=this.connected_,this.sendRequest(n,r,s=>{this.log_(n+" response",s),delete this.outstandingPuts_[t],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),i&&i(s.s,s.d)})}reportStats(t){if(this.connected_){const n={c:t};this.log_("reportStats",n),this.sendRequest("s",n,r=>{if(r.s!=="ok"){const s=r.d;this.log_("reportStats","Error sending stats: "+s)}})}}onDataMessage_(t){if("r"in t){this.log_("from server: "+at(t));const n=t.r,r=this.requestCBHash_[n];r&&(delete this.requestCBHash_[n],r(t.b))}else{if("error"in t)throw"A server-side error has occurred: "+t.error;"a"in t&&this.onDataPush_(t.a,t.b)}}onDataPush_(t,n){this.log_("handleServerMessage",t,n),t==="d"?this.onDataUpdate_(n.p,n.d,!1,n.t):t==="m"?this.onDataUpdate_(n.p,n.d,!0,n.t):t==="c"?this.onListenRevoked_(n.p,n.q):t==="ac"?this.onAuthRevoked_(n.s,n.d):t==="apc"?this.onAppCheckRevoked_(n.s,n.d):t==="sd"?this.onSecurityDebugPacket_(n):By("Unrecognized action received from server: "+at(t)+`
Are you using the latest client?`)}onReady_(t,n){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(t),this.lastSessionId=n,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(t){z(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(t))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(t){t&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=xl,this.realtime_||this.scheduleConnect_(0)),this.visible_=t}onOnline_(t){t?(this.log_("Browser went online."),this.reconnectDelay_=xl,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>X9&&(this.reconnectDelay_=xl),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());const t=Math.max(0,new Date().getTime()-this.lastConnectionAttemptTime_);let n=Math.max(0,this.reconnectDelay_-t);n=Math.random()*n,this.log_("Trying to reconnect in "+n+"ms"),this.scheduleConnect_(n),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*Y9)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;const t=this.onDataMessage_.bind(this),n=this.onReady_.bind(this),r=this.onRealtimeDisconnect_.bind(this),i=this.id+":"+ei.nextConnectionId_++,s=this.lastSessionId;let o=!1,a=null;const l=function(){a?a.close():(o=!0,r())},c=function(h){z(a,"sendRequest call when we're not connected not allowed."),a.sendRequest(h)};this.realtime_={close:l,sendRequest:c};const d=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[h,f]=await Promise.all([this.authTokenProvider_.getToken(d),this.appCheckTokenProvider_.getToken(d)]);o?xt("getToken() completed but was canceled"):(xt("getToken() completed. Creating connection."),this.authToken_=h&&h.accessToken,this.appCheckToken_=f&&f.token,a=new B9(i,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,t,n,r,g=>{Gt(g+" ("+this.repoInfo_.toString()+")"),this.interrupt(J9)},s))}catch(h){this.log_("Failed to get token: "+h),o||(this.repoInfo_.nodeAdmin&&Gt(h),l())}}}interrupt(t){xt("Interrupting connection for reason: "+t),this.interruptReasons_[t]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(t){xt("Resuming connection for reason: "+t),delete this.interruptReasons_[t],Py(this.interruptReasons_)&&(this.reconnectDelay_=xl,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(t){const n=t-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:n})}cancelSentTransactions_(){for(let t=0;t<this.outstandingPuts_.length;t++){const n=this.outstandingPuts_[t];n&&"h"in n.request&&n.queued&&(n.onComplete&&n.onComplete("disconnect"),delete this.outstandingPuts_[t],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(t,n){let r;n?r=n.map(s=>bw(s)).join("$"):r="default";const i=this.removeListen_(t,r);i&&i.onComplete&&i.onComplete("permission_denied")}removeListen_(t,n){const r=new Ee(t).toString();let i;if(this.listens.has(r)){const s=this.listens.get(r);i=s.get(n),s.delete(n),s.size===0&&this.listens.delete(r)}else i=void 0;return i}onAuthRevoked_(t,n){xt("Auth token revoked: "+t+"/"+n),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(t==="invalid_token"||t==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=_b&&(this.reconnectDelay_=wb,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(t,n){xt("App check token revoked: "+t+"/"+n),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(t==="invalid_token"||t==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=_b&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(t){this.securityDebugCallback_?this.securityDebugCallback_(t):"msg"in t&&console.log("FIREBASE: "+t.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const t of this.listens.values())for(const n of t.values())this.sendListen_(n);for(let t=0;t<this.outstandingPuts_.length;t++)this.outstandingPuts_[t]&&this.sendPut_(t);for(;this.onDisconnectRequestQueue_.length;){const t=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(t.action,t.pathString,t.data,t.onComplete)}for(let t=0;t<this.outstandingGets_.length;t++)this.outstandingGets_[t]&&this.sendGet_(t)}sendConnectStats_(){const t={};let n="js";t["sdk."+n+"."+fP.replace(/\./g,"-")]=1,nw()?t["framework.cordova"]=1:JI()&&(t["framework.reactnative"]=1),this.reportStats(t)}shouldReconnect_(){const t=Xh.getInstance().currentlyOnline();return Py(this.interruptReasons_)&&t}}ei.nextPersistentConnectionId_=0;ei.nextConnectionId_=0;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class de{constructor(t,n){this.name=t,this.node=n}static Wrap(t,n){return new de(t,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ep{getCompare(){return this.compare.bind(this)}indexedValueChanged(t,n){const r=new de(wa,t),i=new de(wa,n);return this.compare(r,i)!==0}minPost(){return de.MIN}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let vd;class FP extends ep{static get __EMPTY_NODE(){return vd}static set __EMPTY_NODE(t){vd=t}compare(t,n){return fo(t.name,n.name)}isDefinedOn(t){throw $a("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(t,n){return!1}minPost(){return de.MIN}maxPost(){return new de(no,vd)}makePost(t,n){return z(typeof t=="string","KeyIndex indexValue must always be a string."),new de(t,vd)}toString(){return".key"}}const la=new FP;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wd{constructor(t,n,r,i,s=null){this.isReverse_=i,this.resultGenerator_=s,this.nodeStack_=[];let o=1;for(;!t.isEmpty();)if(t=t,o=n?r(t.key,n):1,i&&(o*=-1),o<0)this.isReverse_?t=t.left:t=t.right;else if(o===0){this.nodeStack_.push(t);break}else this.nodeStack_.push(t),this.isReverse_?t=t.right:t=t.left}getNext(){if(this.nodeStack_.length===0)return null;let t=this.nodeStack_.pop(),n;if(this.resultGenerator_?n=this.resultGenerator_(t.key,t.value):n={key:t.key,value:t.value},this.isReverse_)for(t=t.left;!t.isEmpty();)this.nodeStack_.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack_.push(t),t=t.left;return n}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;const t=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value}}}class ft{constructor(t,n,r,i,s){this.key=t,this.value=n,this.color=r??ft.RED,this.left=i??rn.EMPTY_NODE,this.right=s??rn.EMPTY_NODE}copy(t,n,r,i,s){return new ft(t??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||!!t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,n,r){let i=this;const s=r(t,i.key);return s<0?i=i.copy(null,null,null,i.left.insert(t,n,r),null):s===0?i=i.copy(null,n,null,null,null):i=i.copy(null,null,null,null,i.right.insert(t,n,r)),i.fixUp_()}removeMin_(){if(this.left.isEmpty())return rn.EMPTY_NODE;let t=this;return!t.left.isRed_()&&!t.left.left.isRed_()&&(t=t.moveRedLeft_()),t=t.copy(null,null,null,t.left.removeMin_(),null),t.fixUp_()}remove(t,n){let r,i;if(r=this,n(t,r.key)<0)!r.left.isEmpty()&&!r.left.isRed_()&&!r.left.left.isRed_()&&(r=r.moveRedLeft_()),r=r.copy(null,null,null,r.left.remove(t,n),null);else{if(r.left.isRed_()&&(r=r.rotateRight_()),!r.right.isEmpty()&&!r.right.isRed_()&&!r.right.left.isRed_()&&(r=r.moveRedRight_()),n(t,r.key)===0){if(r.right.isEmpty())return rn.EMPTY_NODE;i=r.right.min_(),r=r.copy(i.key,i.value,null,null,r.right.removeMin_())}r=r.copy(null,null,null,null,r.right.remove(t,n))}return r.fixUp_()}isRed_(){return this.color}fixUp_(){let t=this;return t.right.isRed_()&&!t.left.isRed_()&&(t=t.rotateLeft_()),t.left.isRed_()&&t.left.left.isRed_()&&(t=t.rotateRight_()),t.left.isRed_()&&t.right.isRed_()&&(t=t.colorFlip_()),t}moveRedLeft_(){let t=this.colorFlip_();return t.right.left.isRed_()&&(t=t.copy(null,null,null,null,t.right.rotateRight_()),t=t.rotateLeft_(),t=t.colorFlip_()),t}moveRedRight_(){let t=this.colorFlip_();return t.left.left.isRed_()&&(t=t.rotateRight_(),t=t.colorFlip_()),t}rotateLeft_(){const t=this.copy(null,null,ft.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight_(){const t=this.copy(null,null,ft.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip_(){const t=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,n)}checkMaxDepth_(){const t=this.check_();return Math.pow(2,t)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const t=this.left.check_();if(t!==this.right.check_())throw new Error("Black depths differ");return t+(this.isRed_()?0:1)}}ft.RED=!0;ft.BLACK=!1;class Q9{copy(t,n,r,i,s){return this}insert(t,n,r){return new ft(t,n,null)}remove(t,n){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}}class rn{constructor(t,n=rn.EMPTY_NODE){this.comparator_=t,this.root_=n}insert(t,n){return new rn(this.comparator_,this.root_.insert(t,n,this.comparator_).copy(null,null,ft.BLACK,null,null))}remove(t){return new rn(this.comparator_,this.root_.remove(t,this.comparator_).copy(null,null,ft.BLACK,null,null))}get(t){let n,r=this.root_;for(;!r.isEmpty();){if(n=this.comparator_(t,r.key),n===0)return r.value;n<0?r=r.left:n>0&&(r=r.right)}return null}getPredecessorKey(t){let n,r=this.root_,i=null;for(;!r.isEmpty();)if(n=this.comparator_(t,r.key),n===0){if(r.left.isEmpty())return i?i.key:null;for(r=r.left;!r.right.isEmpty();)r=r.right;return r.key}else n<0?r=r.left:n>0&&(i=r,r=r.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(t){return this.root_.inorderTraversal(t)}reverseTraversal(t){return this.root_.reverseTraversal(t)}getIterator(t){return new wd(this.root_,null,this.comparator_,!1,t)}getIteratorFrom(t,n){return new wd(this.root_,t,this.comparator_,!1,n)}getReverseIteratorFrom(t,n){return new wd(this.root_,t,this.comparator_,!0,n)}getReverseIterator(t){return new wd(this.root_,null,this.comparator_,!0,t)}}rn.EMPTY_NODE=new Q9;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Z9(e,t){return fo(e.name,t.name)}function Rw(e,t){return fo(e,t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Wy;function eV(e){Wy=e}const $P=function(e){return typeof e=="number"?"number:"+yP(e):"string:"+e},VP=function(e){if(e.isLeafNode()){const t=e.val();z(typeof t=="string"||typeof t=="number"||typeof t=="object"&&Dr(t,".sv"),"Priority must be a string or number.")}else z(e===Wy||e.isEmpty(),"priority of unexpected type.");z(e===Wy||e.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let xb;class dt{static set __childrenNodeConstructor(t){xb=t}static get __childrenNodeConstructor(){return xb}constructor(t,n=dt.__childrenNodeConstructor.EMPTY_NODE){this.value_=t,this.priorityNode_=n,this.lazyHash_=null,z(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),VP(this.priorityNode_)}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(t){return new dt(this.value_,t)}getImmediateChild(t){return t===".priority"?this.priorityNode_:dt.__childrenNodeConstructor.EMPTY_NODE}getChild(t){return he(t)?this:ue(t)===".priority"?this.priorityNode_:dt.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(t,n){return null}updateImmediateChild(t,n){return t===".priority"?this.updatePriority(n):n.isEmpty()&&t!==".priority"?this:dt.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(t,n).updatePriority(this.priorityNode_)}updateChild(t,n){const r=ue(t);return r===null?n:n.isEmpty()&&r!==".priority"?this:(z(r!==".priority"||ns(t)===1,".priority must be the last token in a path"),this.updateImmediateChild(r,dt.__childrenNodeConstructor.EMPTY_NODE.updateChild(Pe(t),n)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(t,n){return!1}val(t){return t&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let t="";this.priorityNode_.isEmpty()||(t+="priority:"+$P(this.priorityNode_.val())+":");const n=typeof this.value_;t+=n+":",n==="number"?t+=yP(this.value_):t+=this.value_,this.lazyHash_=mP(t)}return this.lazyHash_}getValue(){return this.value_}compareTo(t){return t===dt.__childrenNodeConstructor.EMPTY_NODE?1:t instanceof dt.__childrenNodeConstructor?-1:(z(t.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(t))}compareToLeafNode_(t){const n=typeof t.value_,r=typeof this.value_,i=dt.VALUE_TYPE_ORDER.indexOf(n),s=dt.VALUE_TYPE_ORDER.indexOf(r);return z(i>=0,"Unknown leaf type: "+n),z(s>=0,"Unknown leaf type: "+r),i===s?r==="object"?0:this.value_<t.value_?-1:this.value_===t.value_?0:1:s-i}withIndex(){return this}isIndexed(){return!0}equals(t){if(t===this)return!0;if(t.isLeafNode()){const n=t;return this.value_===n.value_&&this.priorityNode_.equals(n.priorityNode_)}else return!1}}dt.VALUE_TYPE_ORDER=["object","boolean","number","string"];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let UP,BP;function tV(e){UP=e}function nV(e){BP=e}class rV extends ep{compare(t,n){const r=t.node.getPriority(),i=n.node.getPriority(),s=r.compareTo(i);return s===0?fo(t.name,n.name):s}isDefinedOn(t){return!t.getPriority().isEmpty()}indexedValueChanged(t,n){return!t.getPriority().equals(n.getPriority())}minPost(){return de.MIN}maxPost(){return new de(no,new dt("[PRIORITY-POST]",BP))}makePost(t,n){const r=UP(t);return new de(n,new dt("[PRIORITY-POST]",r))}toString(){return".priority"}}const Xe=new rV;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iV=Math.log(2);class sV{constructor(t){const n=s=>parseInt(Math.log(s)/iV,10),r=s=>parseInt(Array(s+1).join("1"),2);this.count=n(t+1),this.current_=this.count-1;const i=r(this.count);this.bits_=t+1&i}nextBitIsOne(){const t=!(this.bits_&1<<this.current_);return this.current_--,t}}const Jh=function(e,t,n,r){e.sort(t);const i=function(l,c){const d=c-l;let h,f;if(d===0)return null;if(d===1)return h=e[l],f=n?n(h):h,new ft(f,h.node,ft.BLACK,null,null);{const g=parseInt(d/2,10)+l,v=i(l,g),S=i(g+1,c);return h=e[g],f=n?n(h):h,new ft(f,h.node,ft.BLACK,v,S)}},s=function(l){let c=null,d=null,h=e.length;const f=function(v,S){const k=h-v,_=h;h-=v;const b=i(k+1,_),E=e[k],R=n?n(E):E;g(new ft(R,E.node,S,null,b))},g=function(v){c?(c.left=v,c=v):(d=v,c=v)};for(let v=0;v<l.count;++v){const S=l.nextBitIsOne(),k=Math.pow(2,l.count-(v+1));S?f(k,ft.BLACK):(f(k,ft.BLACK),f(k,ft.RED))}return d},o=new sV(e.length),a=s(o);return new rn(r||t,a)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let rg;const So={};class Yr{static get Default(){return z(So&&Xe,"ChildrenNode.ts has not been loaded"),rg=rg||new Yr({".priority":So},{".priority":Xe}),rg}constructor(t,n){this.indexes_=t,this.indexSet_=n}get(t){const n=va(this.indexes_,t);if(!n)throw new Error("No index defined for "+t);return n instanceof rn?n:null}hasIndex(t){return Dr(this.indexSet_,t.toString())}addIndex(t,n){z(t!==la,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const r=[];let i=!1;const s=n.getIterator(de.Wrap);let o=s.getNext();for(;o;)i=i||t.isDefinedOn(o.node),r.push(o),o=s.getNext();let a;i?a=Jh(r,t.getCompare()):a=So;const l=t.toString(),c=Object.assign({},this.indexSet_);c[l]=t;const d=Object.assign({},this.indexes_);return d[l]=a,new Yr(d,c)}addToIndexes(t,n){const r=Vh(this.indexes_,(i,s)=>{const o=va(this.indexSet_,s);if(z(o,"Missing index implementation for "+s),i===So)if(o.isDefinedOn(t.node)){const a=[],l=n.getIterator(de.Wrap);let c=l.getNext();for(;c;)c.name!==t.name&&a.push(c),c=l.getNext();return a.push(t),Jh(a,o.getCompare())}else return So;else{const a=n.get(t.name);let l=i;return a&&(l=l.remove(new de(t.name,a))),l.insert(t,t.node)}});return new Yr(r,this.indexSet_)}removeFromIndexes(t,n){const r=Vh(this.indexes_,i=>{if(i===So)return i;{const s=n.get(t.name);return s?i.remove(new de(t.name,s)):i}});return new Yr(r,this.indexSet_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let El;class ne{static get EMPTY_NODE(){return El||(El=new ne(new rn(Rw),null,Yr.Default))}constructor(t,n,r){this.children_=t,this.priorityNode_=n,this.indexMap_=r,this.lazyHash_=null,this.priorityNode_&&VP(this.priorityNode_),this.children_.isEmpty()&&z(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}isLeafNode(){return!1}getPriority(){return this.priorityNode_||El}updatePriority(t){return this.children_.isEmpty()?this:new ne(this.children_,t,this.indexMap_)}getImmediateChild(t){if(t===".priority")return this.getPriority();{const n=this.children_.get(t);return n===null?El:n}}getChild(t){const n=ue(t);return n===null?this:this.getImmediateChild(n).getChild(Pe(t))}hasChild(t){return this.children_.get(t)!==null}updateImmediateChild(t,n){if(z(n,"We should always be passing snapshot nodes"),t===".priority")return this.updatePriority(n);{const r=new de(t,n);let i,s;n.isEmpty()?(i=this.children_.remove(t),s=this.indexMap_.removeFromIndexes(r,this.children_)):(i=this.children_.insert(t,n),s=this.indexMap_.addToIndexes(r,this.children_));const o=i.isEmpty()?El:this.priorityNode_;return new ne(i,o,s)}}updateChild(t,n){const r=ue(t);if(r===null)return n;{z(ue(t)!==".priority"||ns(t)===1,".priority must be the last token in a path");const i=this.getImmediateChild(r).updateChild(Pe(t),n);return this.updateImmediateChild(r,i)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(t){if(this.isEmpty())return null;const n={};let r=0,i=0,s=!0;if(this.forEachChild(Xe,(o,a)=>{n[o]=a.val(t),r++,s&&ne.INTEGER_REGEXP_.test(o)?i=Math.max(i,Number(o)):s=!1}),!t&&s&&i<2*r){const o=[];for(const a in n)o[a]=n[a];return o}else return t&&!this.getPriority().isEmpty()&&(n[".priority"]=this.getPriority().val()),n}hash(){if(this.lazyHash_===null){let t="";this.getPriority().isEmpty()||(t+="priority:"+$P(this.getPriority().val())+":"),this.forEachChild(Xe,(n,r)=>{const i=r.hash();i!==""&&(t+=":"+n+":"+i)}),this.lazyHash_=t===""?"":mP(t)}return this.lazyHash_}getPredecessorChildName(t,n,r){const i=this.resolveIndex_(r);if(i){const s=i.getPredecessorKey(new de(t,n));return s?s.name:null}else return this.children_.getPredecessorKey(t)}getFirstChildName(t){const n=this.resolveIndex_(t);if(n){const r=n.minKey();return r&&r.name}else return this.children_.minKey()}getFirstChild(t){const n=this.getFirstChildName(t);return n?new de(n,this.children_.get(n)):null}getLastChildName(t){const n=this.resolveIndex_(t);if(n){const r=n.maxKey();return r&&r.name}else return this.children_.maxKey()}getLastChild(t){const n=this.getLastChildName(t);return n?new de(n,this.children_.get(n)):null}forEachChild(t,n){const r=this.resolveIndex_(t);return r?r.inorderTraversal(i=>n(i.name,i.node)):this.children_.inorderTraversal(n)}getIterator(t){return this.getIteratorFrom(t.minPost(),t)}getIteratorFrom(t,n){const r=this.resolveIndex_(n);if(r)return r.getIteratorFrom(t,i=>i);{const i=this.children_.getIteratorFrom(t.name,de.Wrap);let s=i.peek();for(;s!=null&&n.compare(s,t)<0;)i.getNext(),s=i.peek();return i}}getReverseIterator(t){return this.getReverseIteratorFrom(t.maxPost(),t)}getReverseIteratorFrom(t,n){const r=this.resolveIndex_(n);if(r)return r.getReverseIteratorFrom(t,i=>i);{const i=this.children_.getReverseIteratorFrom(t.name,de.Wrap);let s=i.peek();for(;s!=null&&n.compare(s,t)>0;)i.getNext(),s=i.peek();return i}}compareTo(t){return this.isEmpty()?t.isEmpty()?0:-1:t.isLeafNode()||t.isEmpty()?1:t===xu?-1:0}withIndex(t){if(t===la||this.indexMap_.hasIndex(t))return this;{const n=this.indexMap_.addIndex(t,this.children_);return new ne(this.children_,this.priorityNode_,n)}}isIndexed(t){return t===la||this.indexMap_.hasIndex(t)}equals(t){if(t===this)return!0;if(t.isLeafNode())return!1;{const n=t;if(this.getPriority().equals(n.getPriority()))if(this.children_.count()===n.children_.count()){const r=this.getIterator(Xe),i=n.getIterator(Xe);let s=r.getNext(),o=i.getNext();for(;s&&o;){if(s.name!==o.name||!s.node.equals(o.node))return!1;s=r.getNext(),o=i.getNext()}return s===null&&o===null}else return!1;else return!1}}resolveIndex_(t){return t===la?null:this.indexMap_.get(t.toString())}}ne.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;class oV extends ne{constructor(){super(new rn(Rw),ne.EMPTY_NODE,Yr.Default)}compareTo(t){return t===this?0:1}equals(t){return t===this}getPriority(){return this}getImmediateChild(t){return ne.EMPTY_NODE}isEmpty(){return!1}}const xu=new oV;Object.defineProperties(de,{MIN:{value:new de(wa,ne.EMPTY_NODE)},MAX:{value:new de(no,xu)}});FP.__EMPTY_NODE=ne.EMPTY_NODE;dt.__childrenNodeConstructor=ne;eV(xu);nV(xu);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aV=!0;function ot(e,t=null){if(e===null)return ne.EMPTY_NODE;if(typeof e=="object"&&".priority"in e&&(t=e[".priority"]),z(t===null||typeof t=="string"||typeof t=="number"||typeof t=="object"&&".sv"in t,"Invalid priority type found: "+typeof t),typeof e=="object"&&".value"in e&&e[".value"]!==null&&(e=e[".value"]),typeof e!="object"||".sv"in e){const n=e;return new dt(n,ot(t))}if(!(e instanceof Array)&&aV){const n=[];let r=!1;if(St(e,(o,a)=>{if(o.substring(0,1)!=="."){const l=ot(a);l.isEmpty()||(r=r||!l.getPriority().isEmpty(),n.push(new de(o,l)))}}),n.length===0)return ne.EMPTY_NODE;const s=Jh(n,Z9,o=>o.name,Rw);if(r){const o=Jh(n,Xe.getCompare());return new ne(s,ot(t),new Yr({".priority":o},{".priority":Xe}))}else return new ne(s,ot(t),Yr.Default)}else{let n=ne.EMPTY_NODE;return St(e,(r,i)=>{if(Dr(e,r)&&r.substring(0,1)!=="."){const s=ot(i);(s.isLeafNode()||!s.isEmpty())&&(n=n.updateImmediateChild(r,s))}}),n.updatePriority(ot(t))}}tV(ot);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lV extends ep{constructor(t){super(),this.indexPath_=t,z(!he(t)&&ue(t)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(t){return t.getChild(this.indexPath_)}isDefinedOn(t){return!t.getChild(this.indexPath_).isEmpty()}compare(t,n){const r=this.extractChild(t.node),i=this.extractChild(n.node),s=r.compareTo(i);return s===0?fo(t.name,n.name):s}makePost(t,n){const r=ot(t),i=ne.EMPTY_NODE.updateChild(this.indexPath_,r);return new de(n,i)}maxPost(){const t=ne.EMPTY_NODE.updateChild(this.indexPath_,xu);return new de(no,t)}toString(){return Uc(this.indexPath_,0).join("/")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cV extends ep{compare(t,n){const r=t.node.compareTo(n.node);return r===0?fo(t.name,n.name):r}isDefinedOn(t){return!0}indexedValueChanged(t,n){return!t.equals(n)}minPost(){return de.MIN}maxPost(){return de.MAX}makePost(t,n){const r=ot(t);return new de(n,r)}toString(){return".value"}}const uV=new cV;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zP(e){return{type:"value",snapshotNode:e}}function _a(e,t){return{type:"child_added",snapshotNode:t,childName:e}}function Bc(e,t){return{type:"child_removed",snapshotNode:t,childName:e}}function zc(e,t,n){return{type:"child_changed",snapshotNode:t,childName:e,oldSnap:n}}function dV(e,t){return{type:"child_moved",snapshotNode:t,childName:e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Aw{constructor(t){this.index_=t}updateChild(t,n,r,i,s,o){z(t.isIndexed(this.index_),"A node must be indexed if only a child is updated");const a=t.getImmediateChild(n);return a.getChild(i).equals(r.getChild(i))&&a.isEmpty()===r.isEmpty()||(o!=null&&(r.isEmpty()?t.hasChild(n)?o.trackChildChange(Bc(n,a)):z(t.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):a.isEmpty()?o.trackChildChange(_a(n,r)):o.trackChildChange(zc(n,r,a))),t.isLeafNode()&&r.isEmpty())?t:t.updateImmediateChild(n,r).withIndex(this.index_)}updateFullNode(t,n,r){return r!=null&&(t.isLeafNode()||t.forEachChild(Xe,(i,s)=>{n.hasChild(i)||r.trackChildChange(Bc(i,s))}),n.isLeafNode()||n.forEachChild(Xe,(i,s)=>{if(t.hasChild(i)){const o=t.getImmediateChild(i);o.equals(s)||r.trackChildChange(zc(i,s,o))}else r.trackChildChange(_a(i,s))})),n.withIndex(this.index_)}updatePriority(t,n){return t.isEmpty()?ne.EMPTY_NODE:t.updatePriority(n)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wc{constructor(t){this.indexedFilter_=new Aw(t.getIndex()),this.index_=t.getIndex(),this.startPost_=Wc.getStartPost_(t),this.endPost_=Wc.getEndPost_(t),this.startIsInclusive_=!t.startAfterSet_,this.endIsInclusive_=!t.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(t){const n=this.startIsInclusive_?this.index_.compare(this.getStartPost(),t)<=0:this.index_.compare(this.getStartPost(),t)<0,r=this.endIsInclusive_?this.index_.compare(t,this.getEndPost())<=0:this.index_.compare(t,this.getEndPost())<0;return n&&r}updateChild(t,n,r,i,s,o){return this.matches(new de(n,r))||(r=ne.EMPTY_NODE),this.indexedFilter_.updateChild(t,n,r,i,s,o)}updateFullNode(t,n,r){n.isLeafNode()&&(n=ne.EMPTY_NODE);let i=n.withIndex(this.index_);i=i.updatePriority(ne.EMPTY_NODE);const s=this;return n.forEachChild(Xe,(o,a)=>{s.matches(new de(o,a))||(i=i.updateImmediateChild(o,ne.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(t,i,r)}updatePriority(t,n){return t}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(t){if(t.hasStart()){const n=t.getIndexStartName();return t.getIndex().makePost(t.getIndexStartValue(),n)}else return t.getIndex().minPost()}static getEndPost_(t){if(t.hasEnd()){const n=t.getIndexEndName();return t.getIndex().makePost(t.getIndexEndValue(),n)}else return t.getIndex().maxPost()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hV{constructor(t){this.withinDirectionalStart=n=>this.reverse_?this.withinEndPost(n):this.withinStartPost(n),this.withinDirectionalEnd=n=>this.reverse_?this.withinStartPost(n):this.withinEndPost(n),this.withinStartPost=n=>{const r=this.index_.compare(this.rangedFilter_.getStartPost(),n);return this.startIsInclusive_?r<=0:r<0},this.withinEndPost=n=>{const r=this.index_.compare(n,this.rangedFilter_.getEndPost());return this.endIsInclusive_?r<=0:r<0},this.rangedFilter_=new Wc(t),this.index_=t.getIndex(),this.limit_=t.getLimit(),this.reverse_=!t.isViewFromLeft(),this.startIsInclusive_=!t.startAfterSet_,this.endIsInclusive_=!t.endBeforeSet_}updateChild(t,n,r,i,s,o){return this.rangedFilter_.matches(new de(n,r))||(r=ne.EMPTY_NODE),t.getImmediateChild(n).equals(r)?t:t.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(t,n,r,i,s,o):this.fullLimitUpdateChild_(t,n,r,s,o)}updateFullNode(t,n,r){let i;if(n.isLeafNode()||n.isEmpty())i=ne.EMPTY_NODE.withIndex(this.index_);else if(this.limit_*2<n.numChildren()&&n.isIndexed(this.index_)){i=ne.EMPTY_NODE.withIndex(this.index_);let s;this.reverse_?s=n.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):s=n.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let o=0;for(;s.hasNext()&&o<this.limit_;){const a=s.getNext();if(this.withinDirectionalStart(a))if(this.withinDirectionalEnd(a))i=i.updateImmediateChild(a.name,a.node),o++;else break;else continue}}else{i=n.withIndex(this.index_),i=i.updatePriority(ne.EMPTY_NODE);let s;this.reverse_?s=i.getReverseIterator(this.index_):s=i.getIterator(this.index_);let o=0;for(;s.hasNext();){const a=s.getNext();o<this.limit_&&this.withinDirectionalStart(a)&&this.withinDirectionalEnd(a)?o++:i=i.updateImmediateChild(a.name,ne.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(t,i,r)}updatePriority(t,n){return t}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(t,n,r,i,s){let o;if(this.reverse_){const h=this.index_.getCompare();o=(f,g)=>h(g,f)}else o=this.index_.getCompare();const a=t;z(a.numChildren()===this.limit_,"");const l=new de(n,r),c=this.reverse_?a.getFirstChild(this.index_):a.getLastChild(this.index_),d=this.rangedFilter_.matches(l);if(a.hasChild(n)){const h=a.getImmediateChild(n);let f=i.getChildAfterChild(this.index_,c,this.reverse_);for(;f!=null&&(f.name===n||a.hasChild(f.name));)f=i.getChildAfterChild(this.index_,f,this.reverse_);const g=f==null?1:o(f,l);if(d&&!r.isEmpty()&&g>=0)return s!=null&&s.trackChildChange(zc(n,r,h)),a.updateImmediateChild(n,r);{s!=null&&s.trackChildChange(Bc(n,h));const S=a.updateImmediateChild(n,ne.EMPTY_NODE);return f!=null&&this.rangedFilter_.matches(f)?(s!=null&&s.trackChildChange(_a(f.name,f.node)),S.updateImmediateChild(f.name,f.node)):S}}else return r.isEmpty()?t:d&&o(c,l)>=0?(s!=null&&(s.trackChildChange(Bc(c.name,c.node)),s.trackChildChange(_a(n,r))),a.updateImmediateChild(n,r).updateImmediateChild(c.name,ne.EMPTY_NODE)):t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nw{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=Xe}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return z(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return z(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:wa}hasEnd(){return this.endSet_}getIndexEndValue(){return z(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return z(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:no}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return z(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===Xe}copy(){const t=new Nw;return t.limitSet_=this.limitSet_,t.limit_=this.limit_,t.startSet_=this.startSet_,t.startAfterSet_=this.startAfterSet_,t.indexStartValue_=this.indexStartValue_,t.startNameSet_=this.startNameSet_,t.indexStartName_=this.indexStartName_,t.endSet_=this.endSet_,t.endBeforeSet_=this.endBeforeSet_,t.indexEndValue_=this.indexEndValue_,t.endNameSet_=this.endNameSet_,t.indexEndName_=this.indexEndName_,t.index_=this.index_,t.viewFrom_=this.viewFrom_,t}}function fV(e){return e.loadsAllData()?new Aw(e.getIndex()):e.hasLimit()?new hV(e):new Wc(e)}function Eb(e){const t={};if(e.isDefault())return t;let n;if(e.index_===Xe?n="$priority":e.index_===uV?n="$value":e.index_===la?n="$key":(z(e.index_ instanceof lV,"Unrecognized index type!"),n=e.index_.toString()),t.orderBy=at(n),e.startSet_){const r=e.startAfterSet_?"startAfter":"startAt";t[r]=at(e.indexStartValue_),e.startNameSet_&&(t[r]+=","+at(e.indexStartName_))}if(e.endSet_){const r=e.endBeforeSet_?"endBefore":"endAt";t[r]=at(e.indexEndValue_),e.endNameSet_&&(t[r]+=","+at(e.indexEndName_))}return e.limitSet_&&(e.isViewFromLeft()?t.limitToFirst=e.limit_:t.limitToLast=e.limit_),t}function bb(e){const t={};if(e.startSet_&&(t.sp=e.indexStartValue_,e.startNameSet_&&(t.sn=e.indexStartName_),t.sin=!e.startAfterSet_),e.endSet_&&(t.ep=e.indexEndValue_,e.endNameSet_&&(t.en=e.indexEndName_),t.ein=!e.endBeforeSet_),e.limitSet_){t.l=e.limit_;let n=e.viewFrom_;n===""&&(e.isViewFromLeft()?n="l":n="r"),t.vf=n}return e.index_!==Xe&&(t.i=e.index_.toString()),t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qh extends OP{reportStats(t){throw new Error("Method not implemented.")}static getListenId_(t,n){return n!==void 0?"tag$"+n:(z(t._queryParams.isDefault(),"should have a tag if it's not a default query."),t._path.toString())}constructor(t,n,r,i){super(),this.repoInfo_=t,this.onDataUpdate_=n,this.authTokenProvider_=r,this.appCheckTokenProvider_=i,this.log_=_u("p:rest:"),this.listens_={}}listen(t,n,r,i){const s=t._path.toString();this.log_("Listen called for "+s+" "+t._queryIdentifier);const o=Qh.getListenId_(t,r),a={};this.listens_[o]=a;const l=Eb(t._queryParams);this.restRequest_(s+".json",l,(c,d)=>{let h=d;if(c===404&&(h=null,c=null),c===null&&this.onDataUpdate_(s,h,!1,r),va(this.listens_,o)===a){let f;c?c===401?f="permission_denied":f="rest_error:"+c:f="ok",i(f,null)}})}unlisten(t,n){const r=Qh.getListenId_(t,n);delete this.listens_[r]}get(t){const n=Eb(t._queryParams),r=t._path.toString(),i=new fu;return this.restRequest_(r+".json",n,(s,o)=>{let a=o;s===404&&(a=null,s=null),s===null?(this.onDataUpdate_(r,a,!1,null),i.resolve(a)):i.reject(new Error(a))}),i.promise}refreshAuthToken(t){}restRequest_(t,n={},r){return n.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([i,s])=>{i&&i.accessToken&&(n.auth=i.accessToken),s&&s.token&&(n.ac=s.token);const o=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+t+"?ns="+this.repoInfo_.namespace+Va(n);this.log_("Sending REST request for "+o);const a=new XMLHttpRequest;a.onreadystatechange=()=>{if(r&&a.readyState===4){this.log_("REST Response for "+o+" received. status:",a.status,"response:",a.responseText);let l=null;if(a.status>=200&&a.status<300){try{l=Oc(a.responseText)}catch{Gt("Failed to parse JSON response for "+o+": "+a.responseText)}r(null,l)}else a.status!==401&&a.status!==404&&Gt("Got unsuccessful REST response for "+o+" Status: "+a.status),r(a.status);r=null}},a.open("GET",o,!0),a.send()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pV{constructor(){this.rootNode_=ne.EMPTY_NODE}getNode(t){return this.rootNode_.getChild(t)}updateSnapshot(t,n){this.rootNode_=this.rootNode_.updateChild(t,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zh(){return{value:null,children:new Map}}function WP(e,t,n){if(he(t))e.value=n,e.children.clear();else if(e.value!==null)e.value=e.value.updateChild(t,n);else{const r=ue(t);e.children.has(r)||e.children.set(r,Zh());const i=e.children.get(r);t=Pe(t),WP(i,t,n)}}function Hy(e,t,n){e.value!==null?n(t,e.value):mV(e,(r,i)=>{const s=new Ee(t.toString()+"/"+r);Hy(i,s,n)})}function mV(e,t){e.children.forEach((n,r)=>{t(r,n)})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gV{constructor(t){this.collection_=t,this.last_=null}get(){const t=this.collection_.get(),n=Object.assign({},t);return this.last_&&St(this.last_,(r,i)=>{n[r]=n[r]-i}),this.last_=t,n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cb=10*1e3,yV=30*1e3,vV=5*60*1e3;class wV{constructor(t,n){this.server_=n,this.statsToReport_={},this.statsListener_=new gV(t);const r=Cb+(yV-Cb)*Math.random();Ql(this.reportStats_.bind(this),Math.floor(r))}reportStats_(){const t=this.statsListener_.get(),n={};let r=!1;St(t,(i,s)=>{s>0&&Dr(this.statsToReport_,i)&&(n[i]=s,r=!0)}),r&&this.server_.reportStats(n),Ql(this.reportStats_.bind(this),Math.floor(Math.random()*2*vV))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Zn;(function(e){e[e.OVERWRITE=0]="OVERWRITE",e[e.MERGE=1]="MERGE",e[e.ACK_USER_WRITE=2]="ACK_USER_WRITE",e[e.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"})(Zn||(Zn={}));function Dw(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function Ow(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function Mw(e){return{fromUser:!1,fromServer:!0,queryId:e,tagged:!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ef{constructor(t,n,r){this.path=t,this.affectedTree=n,this.revert=r,this.type=Zn.ACK_USER_WRITE,this.source=Dw()}operationForChild(t){if(he(this.path)){if(this.affectedTree.value!=null)return z(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const n=this.affectedTree.subtree(new Ee(t));return new ef(ye(),n,this.revert)}}else return z(ue(this.path)===t,"operationForChild called for unrelated child."),new ef(Pe(this.path),this.affectedTree,this.revert)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hc{constructor(t,n){this.source=t,this.path=n,this.type=Zn.LISTEN_COMPLETE}operationForChild(t){return he(this.path)?new Hc(this.source,ye()):new Hc(this.source,Pe(this.path))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ro{constructor(t,n,r){this.source=t,this.path=n,this.snap=r,this.type=Zn.OVERWRITE}operationForChild(t){return he(this.path)?new ro(this.source,ye(),this.snap.getImmediateChild(t)):new ro(this.source,Pe(this.path),this.snap)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xa{constructor(t,n,r){this.source=t,this.path=n,this.children=r,this.type=Zn.MERGE}operationForChild(t){if(he(this.path)){const n=this.children.subtree(new Ee(t));return n.isEmpty()?null:n.value?new ro(this.source,ye(),n.value):new xa(this.source,ye(),n)}else return z(ue(this.path)===t,"Can't get a merge for a child not on the path of the operation"),new xa(this.source,Pe(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rs{constructor(t,n,r){this.node_=t,this.fullyInitialized_=n,this.filtered_=r}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(t){if(he(t))return this.isFullyInitialized()&&!this.filtered_;const n=ue(t);return this.isCompleteForChild(n)}isCompleteForChild(t){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(t)}getNode(){return this.node_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _V{constructor(t){this.query_=t,this.index_=this.query_._queryParams.getIndex()}}function xV(e,t,n,r){const i=[],s=[];return t.forEach(o=>{o.type==="child_changed"&&e.index_.indexedValueChanged(o.oldSnap,o.snapshotNode)&&s.push(dV(o.childName,o.snapshotNode))}),bl(e,i,"child_removed",t,r,n),bl(e,i,"child_added",t,r,n),bl(e,i,"child_moved",s,r,n),bl(e,i,"child_changed",t,r,n),bl(e,i,"value",t,r,n),i}function bl(e,t,n,r,i,s){const o=r.filter(a=>a.type===n);o.sort((a,l)=>bV(e,a,l)),o.forEach(a=>{const l=EV(e,a,s);i.forEach(c=>{c.respondsTo(a.type)&&t.push(c.createEvent(l,e.query_))})})}function EV(e,t,n){return t.type==="value"||t.type==="child_removed"||(t.prevName=n.getPredecessorChildName(t.childName,t.snapshotNode,e.index_)),t}function bV(e,t,n){if(t.childName==null||n.childName==null)throw $a("Should only compare child_ events.");const r=new de(t.childName,t.snapshotNode),i=new de(n.childName,n.snapshotNode);return e.index_.compare(r,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tp(e,t){return{eventCache:e,serverCache:t}}function Zl(e,t,n,r){return tp(new rs(t,n,r),e.serverCache)}function HP(e,t,n,r){return tp(e.eventCache,new rs(t,n,r))}function tf(e){return e.eventCache.isFullyInitialized()?e.eventCache.getNode():null}function io(e){return e.serverCache.isFullyInitialized()?e.serverCache.getNode():null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ig;const CV=()=>(ig||(ig=new rn(l9)),ig);class Ie{static fromObject(t){let n=new Ie(null);return St(t,(r,i)=>{n=n.set(new Ee(r),i)}),n}constructor(t,n=CV()){this.value=t,this.children=n}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(t,n){if(this.value!=null&&n(this.value))return{path:ye(),value:this.value};if(he(t))return null;{const r=ue(t),i=this.children.get(r);if(i!==null){const s=i.findRootMostMatchingPathAndValue(Pe(t),n);return s!=null?{path:Ye(new Ee(r),s.path),value:s.value}:null}else return null}}findRootMostValueAndPath(t){return this.findRootMostMatchingPathAndValue(t,()=>!0)}subtree(t){if(he(t))return this;{const n=ue(t),r=this.children.get(n);return r!==null?r.subtree(Pe(t)):new Ie(null)}}set(t,n){if(he(t))return new Ie(n,this.children);{const r=ue(t),s=(this.children.get(r)||new Ie(null)).set(Pe(t),n),o=this.children.insert(r,s);return new Ie(this.value,o)}}remove(t){if(he(t))return this.children.isEmpty()?new Ie(null):new Ie(null,this.children);{const n=ue(t),r=this.children.get(n);if(r){const i=r.remove(Pe(t));let s;return i.isEmpty()?s=this.children.remove(n):s=this.children.insert(n,i),this.value===null&&s.isEmpty()?new Ie(null):new Ie(this.value,s)}else return this}}get(t){if(he(t))return this.value;{const n=ue(t),r=this.children.get(n);return r?r.get(Pe(t)):null}}setTree(t,n){if(he(t))return n;{const r=ue(t),s=(this.children.get(r)||new Ie(null)).setTree(Pe(t),n);let o;return s.isEmpty()?o=this.children.remove(r):o=this.children.insert(r,s),new Ie(this.value,o)}}fold(t){return this.fold_(ye(),t)}fold_(t,n){const r={};return this.children.inorderTraversal((i,s)=>{r[i]=s.fold_(Ye(t,i),n)}),n(t,this.value,r)}findOnPath(t,n){return this.findOnPath_(t,ye(),n)}findOnPath_(t,n,r){const i=this.value?r(n,this.value):!1;if(i)return i;if(he(t))return null;{const s=ue(t),o=this.children.get(s);return o?o.findOnPath_(Pe(t),Ye(n,s),r):null}}foreachOnPath(t,n){return this.foreachOnPath_(t,ye(),n)}foreachOnPath_(t,n,r){if(he(t))return this;{this.value&&r(n,this.value);const i=ue(t),s=this.children.get(i);return s?s.foreachOnPath_(Pe(t),Ye(n,i),r):new Ie(null)}}foreach(t){this.foreach_(ye(),t)}foreach_(t,n){this.children.inorderTraversal((r,i)=>{i.foreach_(Ye(t,r),n)}),this.value&&n(t,this.value)}foreachChild(t){this.children.inorderTraversal((n,r)=>{r.value&&t(n,r.value)})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class or{constructor(t){this.writeTree_=t}static empty(){return new or(new Ie(null))}}function ec(e,t,n){if(he(t))return new or(new Ie(n));{const r=e.writeTree_.findRootMostValueAndPath(t);if(r!=null){const i=r.path;let s=r.value;const o=Wt(i,t);return s=s.updateChild(o,n),new or(e.writeTree_.set(i,s))}else{const i=new Ie(n),s=e.writeTree_.setTree(t,i);return new or(s)}}}function qy(e,t,n){let r=e;return St(n,(i,s)=>{r=ec(r,Ye(t,i),s)}),r}function Sb(e,t){if(he(t))return or.empty();{const n=e.writeTree_.setTree(t,new Ie(null));return new or(n)}}function Gy(e,t){return po(e,t)!=null}function po(e,t){const n=e.writeTree_.findRootMostValueAndPath(t);return n!=null?e.writeTree_.get(n.path).getChild(Wt(n.path,t)):null}function Tb(e){const t=[],n=e.writeTree_.value;return n!=null?n.isLeafNode()||n.forEachChild(Xe,(r,i)=>{t.push(new de(r,i))}):e.writeTree_.children.inorderTraversal((r,i)=>{i.value!=null&&t.push(new de(r,i.value))}),t}function Xi(e,t){if(he(t))return e;{const n=po(e,t);return n!=null?new or(new Ie(n)):new or(e.writeTree_.subtree(t))}}function Ky(e){return e.writeTree_.isEmpty()}function Ea(e,t){return qP(ye(),e.writeTree_,t)}function qP(e,t,n){if(t.value!=null)return n.updateChild(e,t.value);{let r=null;return t.children.inorderTraversal((i,s)=>{i===".priority"?(z(s.value!==null,"Priority writes must always be leaf nodes"),r=s.value):n=qP(Ye(e,i),s,n)}),!n.getChild(e).isEmpty()&&r!==null&&(n=n.updateChild(Ye(e,".priority"),r)),n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function np(e,t){return XP(t,e)}function SV(e,t,n,r,i){z(r>e.lastWriteId,"Stacking an older write on top of newer ones"),i===void 0&&(i=!0),e.allWrites.push({path:t,snap:n,writeId:r,visible:i}),i&&(e.visibleWrites=ec(e.visibleWrites,t,n)),e.lastWriteId=r}function TV(e,t,n,r){z(r>e.lastWriteId,"Stacking an older merge on top of newer ones"),e.allWrites.push({path:t,children:n,writeId:r,visible:!0}),e.visibleWrites=qy(e.visibleWrites,t,n),e.lastWriteId=r}function kV(e,t){for(let n=0;n<e.allWrites.length;n++){const r=e.allWrites[n];if(r.writeId===t)return r}return null}function IV(e,t){const n=e.allWrites.findIndex(a=>a.writeId===t);z(n>=0,"removeWrite called with nonexistent writeId.");const r=e.allWrites[n];e.allWrites.splice(n,1);let i=r.visible,s=!1,o=e.allWrites.length-1;for(;i&&o>=0;){const a=e.allWrites[o];a.visible&&(o>=n&&PV(a,r.path)?i=!1:Nn(r.path,a.path)&&(s=!0)),o--}if(i){if(s)return RV(e),!0;if(r.snap)e.visibleWrites=Sb(e.visibleWrites,r.path);else{const a=r.children;St(a,l=>{e.visibleWrites=Sb(e.visibleWrites,Ye(r.path,l))})}return!0}else return!1}function PV(e,t){if(e.snap)return Nn(e.path,t);for(const n in e.children)if(e.children.hasOwnProperty(n)&&Nn(Ye(e.path,n),t))return!0;return!1}function RV(e){e.visibleWrites=GP(e.allWrites,AV,ye()),e.allWrites.length>0?e.lastWriteId=e.allWrites[e.allWrites.length-1].writeId:e.lastWriteId=-1}function AV(e){return e.visible}function GP(e,t,n){let r=or.empty();for(let i=0;i<e.length;++i){const s=e[i];if(t(s)){const o=s.path;let a;if(s.snap)Nn(n,o)?(a=Wt(n,o),r=ec(r,a,s.snap)):Nn(o,n)&&(a=Wt(o,n),r=ec(r,ye(),s.snap.getChild(a)));else if(s.children){if(Nn(n,o))a=Wt(n,o),r=qy(r,a,s.children);else if(Nn(o,n))if(a=Wt(o,n),he(a))r=qy(r,ye(),s.children);else{const l=va(s.children,ue(a));if(l){const c=l.getChild(Pe(a));r=ec(r,ye(),c)}}}else throw $a("WriteRecord should have .snap or .children")}}return r}function KP(e,t,n,r,i){if(!r&&!i){const s=po(e.visibleWrites,t);if(s!=null)return s;{const o=Xi(e.visibleWrites,t);if(Ky(o))return n;if(n==null&&!Gy(o,ye()))return null;{const a=n||ne.EMPTY_NODE;return Ea(o,a)}}}else{const s=Xi(e.visibleWrites,t);if(!i&&Ky(s))return n;if(!i&&n==null&&!Gy(s,ye()))return null;{const o=function(c){return(c.visible||i)&&(!r||!~r.indexOf(c.writeId))&&(Nn(c.path,t)||Nn(t,c.path))},a=GP(e.allWrites,o,t),l=n||ne.EMPTY_NODE;return Ea(a,l)}}}function NV(e,t,n){let r=ne.EMPTY_NODE;const i=po(e.visibleWrites,t);if(i)return i.isLeafNode()||i.forEachChild(Xe,(s,o)=>{r=r.updateImmediateChild(s,o)}),r;if(n){const s=Xi(e.visibleWrites,t);return n.forEachChild(Xe,(o,a)=>{const l=Ea(Xi(s,new Ee(o)),a);r=r.updateImmediateChild(o,l)}),Tb(s).forEach(o=>{r=r.updateImmediateChild(o.name,o.node)}),r}else{const s=Xi(e.visibleWrites,t);return Tb(s).forEach(o=>{r=r.updateImmediateChild(o.name,o.node)}),r}}function DV(e,t,n,r,i){z(r||i,"Either existingEventSnap or existingServerSnap must exist");const s=Ye(t,n);if(Gy(e.visibleWrites,s))return null;{const o=Xi(e.visibleWrites,s);return Ky(o)?i.getChild(n):Ea(o,i.getChild(n))}}function OV(e,t,n,r){const i=Ye(t,n),s=po(e.visibleWrites,i);if(s!=null)return s;if(r.isCompleteForChild(n)){const o=Xi(e.visibleWrites,i);return Ea(o,r.getNode().getImmediateChild(n))}else return null}function MV(e,t){return po(e.visibleWrites,t)}function LV(e,t,n,r,i,s,o){let a;const l=Xi(e.visibleWrites,t),c=po(l,ye());if(c!=null)a=c;else if(n!=null)a=Ea(l,n);else return[];if(a=a.withIndex(o),!a.isEmpty()&&!a.isLeafNode()){const d=[],h=o.getCompare(),f=s?a.getReverseIteratorFrom(r,o):a.getIteratorFrom(r,o);let g=f.getNext();for(;g&&d.length<i;)h(g,r)!==0&&d.push(g),g=f.getNext();return d}else return[]}function jV(){return{visibleWrites:or.empty(),allWrites:[],lastWriteId:-1}}function nf(e,t,n,r){return KP(e.writeTree,e.treePath,t,n,r)}function Lw(e,t){return NV(e.writeTree,e.treePath,t)}function kb(e,t,n,r){return DV(e.writeTree,e.treePath,t,n,r)}function rf(e,t){return MV(e.writeTree,Ye(e.treePath,t))}function FV(e,t,n,r,i,s){return LV(e.writeTree,e.treePath,t,n,r,i,s)}function jw(e,t,n){return OV(e.writeTree,e.treePath,t,n)}function YP(e,t){return XP(Ye(e.treePath,t),e.writeTree)}function XP(e,t){return{treePath:e,writeTree:t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $V{constructor(){this.changeMap=new Map}trackChildChange(t){const n=t.type,r=t.childName;z(n==="child_added"||n==="child_changed"||n==="child_removed","Only child changes supported for tracking"),z(r!==".priority","Only non-priority child changes can be tracked.");const i=this.changeMap.get(r);if(i){const s=i.type;if(n==="child_added"&&s==="child_removed")this.changeMap.set(r,zc(r,t.snapshotNode,i.snapshotNode));else if(n==="child_removed"&&s==="child_added")this.changeMap.delete(r);else if(n==="child_removed"&&s==="child_changed")this.changeMap.set(r,Bc(r,i.oldSnap));else if(n==="child_changed"&&s==="child_added")this.changeMap.set(r,_a(r,t.snapshotNode));else if(n==="child_changed"&&s==="child_changed")this.changeMap.set(r,zc(r,t.snapshotNode,i.oldSnap));else throw $a("Illegal combination of changes: "+t+" occurred after "+i)}else this.changeMap.set(r,t)}getChanges(){return Array.from(this.changeMap.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VV{getCompleteChild(t){return null}getChildAfterChild(t,n,r){return null}}const JP=new VV;class Fw{constructor(t,n,r=null){this.writes_=t,this.viewCache_=n,this.optCompleteServerCache_=r}getCompleteChild(t){const n=this.viewCache_.eventCache;if(n.isCompleteForChild(t))return n.getNode().getImmediateChild(t);{const r=this.optCompleteServerCache_!=null?new rs(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return jw(this.writes_,t,r)}}getChildAfterChild(t,n,r){const i=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:io(this.viewCache_),s=FV(this.writes_,i,n,1,r,t);return s.length===0?null:s[0]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UV(e){return{filter:e}}function BV(e,t){z(t.eventCache.getNode().isIndexed(e.filter.getIndex()),"Event snap not indexed"),z(t.serverCache.getNode().isIndexed(e.filter.getIndex()),"Server snap not indexed")}function zV(e,t,n,r,i){const s=new $V;let o,a;if(n.type===Zn.OVERWRITE){const c=n;c.source.fromUser?o=Yy(e,t,c.path,c.snap,r,i,s):(z(c.source.fromServer,"Unknown source."),a=c.source.tagged||t.serverCache.isFiltered()&&!he(c.path),o=sf(e,t,c.path,c.snap,r,i,a,s))}else if(n.type===Zn.MERGE){const c=n;c.source.fromUser?o=HV(e,t,c.path,c.children,r,i,s):(z(c.source.fromServer,"Unknown source."),a=c.source.tagged||t.serverCache.isFiltered(),o=Xy(e,t,c.path,c.children,r,i,a,s))}else if(n.type===Zn.ACK_USER_WRITE){const c=n;c.revert?o=KV(e,t,c.path,r,i,s):o=qV(e,t,c.path,c.affectedTree,r,i,s)}else if(n.type===Zn.LISTEN_COMPLETE)o=GV(e,t,n.path,r,s);else throw $a("Unknown operation type: "+n.type);const l=s.getChanges();return WV(t,o,l),{viewCache:o,changes:l}}function WV(e,t,n){const r=t.eventCache;if(r.isFullyInitialized()){const i=r.getNode().isLeafNode()||r.getNode().isEmpty(),s=tf(e);(n.length>0||!e.eventCache.isFullyInitialized()||i&&!r.getNode().equals(s)||!r.getNode().getPriority().equals(s.getPriority()))&&n.push(zP(tf(t)))}}function QP(e,t,n,r,i,s){const o=t.eventCache;if(rf(r,n)!=null)return t;{let a,l;if(he(n))if(z(t.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),t.serverCache.isFiltered()){const c=io(t),d=c instanceof ne?c:ne.EMPTY_NODE,h=Lw(r,d);a=e.filter.updateFullNode(t.eventCache.getNode(),h,s)}else{const c=nf(r,io(t));a=e.filter.updateFullNode(t.eventCache.getNode(),c,s)}else{const c=ue(n);if(c===".priority"){z(ns(n)===1,"Can't have a priority with additional path components");const d=o.getNode();l=t.serverCache.getNode();const h=kb(r,n,d,l);h!=null?a=e.filter.updatePriority(d,h):a=o.getNode()}else{const d=Pe(n);let h;if(o.isCompleteForChild(c)){l=t.serverCache.getNode();const f=kb(r,n,o.getNode(),l);f!=null?h=o.getNode().getImmediateChild(c).updateChild(d,f):h=o.getNode().getImmediateChild(c)}else h=jw(r,c,t.serverCache);h!=null?a=e.filter.updateChild(o.getNode(),c,h,d,i,s):a=o.getNode()}}return Zl(t,a,o.isFullyInitialized()||he(n),e.filter.filtersNodes())}}function sf(e,t,n,r,i,s,o,a){const l=t.serverCache;let c;const d=o?e.filter:e.filter.getIndexedFilter();if(he(n))c=d.updateFullNode(l.getNode(),r,null);else if(d.filtersNodes()&&!l.isFiltered()){const g=l.getNode().updateChild(n,r);c=d.updateFullNode(l.getNode(),g,null)}else{const g=ue(n);if(!l.isCompleteForPath(n)&&ns(n)>1)return t;const v=Pe(n),k=l.getNode().getImmediateChild(g).updateChild(v,r);g===".priority"?c=d.updatePriority(l.getNode(),k):c=d.updateChild(l.getNode(),g,k,v,JP,null)}const h=HP(t,c,l.isFullyInitialized()||he(n),d.filtersNodes()),f=new Fw(i,h,s);return QP(e,h,n,i,f,a)}function Yy(e,t,n,r,i,s,o){const a=t.eventCache;let l,c;const d=new Fw(i,t,s);if(he(n))c=e.filter.updateFullNode(t.eventCache.getNode(),r,o),l=Zl(t,c,!0,e.filter.filtersNodes());else{const h=ue(n);if(h===".priority")c=e.filter.updatePriority(t.eventCache.getNode(),r),l=Zl(t,c,a.isFullyInitialized(),a.isFiltered());else{const f=Pe(n),g=a.getNode().getImmediateChild(h);let v;if(he(f))v=r;else{const S=d.getCompleteChild(h);S!=null?kw(f)===".priority"&&S.getChild(LP(f)).isEmpty()?v=S:v=S.updateChild(f,r):v=ne.EMPTY_NODE}if(g.equals(v))l=t;else{const S=e.filter.updateChild(a.getNode(),h,v,f,d,o);l=Zl(t,S,a.isFullyInitialized(),e.filter.filtersNodes())}}}return l}function Ib(e,t){return e.eventCache.isCompleteForChild(t)}function HV(e,t,n,r,i,s,o){let a=t;return r.foreach((l,c)=>{const d=Ye(n,l);Ib(t,ue(d))&&(a=Yy(e,a,d,c,i,s,o))}),r.foreach((l,c)=>{const d=Ye(n,l);Ib(t,ue(d))||(a=Yy(e,a,d,c,i,s,o))}),a}function Pb(e,t,n){return n.foreach((r,i)=>{t=t.updateChild(r,i)}),t}function Xy(e,t,n,r,i,s,o,a){if(t.serverCache.getNode().isEmpty()&&!t.serverCache.isFullyInitialized())return t;let l=t,c;he(n)?c=r:c=new Ie(null).setTree(n,r);const d=t.serverCache.getNode();return c.children.inorderTraversal((h,f)=>{if(d.hasChild(h)){const g=t.serverCache.getNode().getImmediateChild(h),v=Pb(e,g,f);l=sf(e,l,new Ee(h),v,i,s,o,a)}}),c.children.inorderTraversal((h,f)=>{const g=!t.serverCache.isCompleteForChild(h)&&f.value===null;if(!d.hasChild(h)&&!g){const v=t.serverCache.getNode().getImmediateChild(h),S=Pb(e,v,f);l=sf(e,l,new Ee(h),S,i,s,o,a)}}),l}function qV(e,t,n,r,i,s,o){if(rf(i,n)!=null)return t;const a=t.serverCache.isFiltered(),l=t.serverCache;if(r.value!=null){if(he(n)&&l.isFullyInitialized()||l.isCompleteForPath(n))return sf(e,t,n,l.getNode().getChild(n),i,s,a,o);if(he(n)){let c=new Ie(null);return l.getNode().forEachChild(la,(d,h)=>{c=c.set(new Ee(d),h)}),Xy(e,t,n,c,i,s,a,o)}else return t}else{let c=new Ie(null);return r.foreach((d,h)=>{const f=Ye(n,d);l.isCompleteForPath(f)&&(c=c.set(d,l.getNode().getChild(f)))}),Xy(e,t,n,c,i,s,a,o)}}function GV(e,t,n,r,i){const s=t.serverCache,o=HP(t,s.getNode(),s.isFullyInitialized()||he(n),s.isFiltered());return QP(e,o,n,r,JP,i)}function KV(e,t,n,r,i,s){let o;if(rf(r,n)!=null)return t;{const a=new Fw(r,t,i),l=t.eventCache.getNode();let c;if(he(n)||ue(n)===".priority"){let d;if(t.serverCache.isFullyInitialized())d=nf(r,io(t));else{const h=t.serverCache.getNode();z(h instanceof ne,"serverChildren would be complete if leaf node"),d=Lw(r,h)}d=d,c=e.filter.updateFullNode(l,d,s)}else{const d=ue(n);let h=jw(r,d,t.serverCache);h==null&&t.serverCache.isCompleteForChild(d)&&(h=l.getImmediateChild(d)),h!=null?c=e.filter.updateChild(l,d,h,Pe(n),a,s):t.eventCache.getNode().hasChild(d)?c=e.filter.updateChild(l,d,ne.EMPTY_NODE,Pe(n),a,s):c=l,c.isEmpty()&&t.serverCache.isFullyInitialized()&&(o=nf(r,io(t)),o.isLeafNode()&&(c=e.filter.updateFullNode(c,o,s)))}return o=t.serverCache.isFullyInitialized()||rf(r,ye())!=null,Zl(t,c,o,e.filter.filtersNodes())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YV{constructor(t,n){this.query_=t,this.eventRegistrations_=[];const r=this.query_._queryParams,i=new Aw(r.getIndex()),s=fV(r);this.processor_=UV(s);const o=n.serverCache,a=n.eventCache,l=i.updateFullNode(ne.EMPTY_NODE,o.getNode(),null),c=s.updateFullNode(ne.EMPTY_NODE,a.getNode(),null),d=new rs(l,o.isFullyInitialized(),i.filtersNodes()),h=new rs(c,a.isFullyInitialized(),s.filtersNodes());this.viewCache_=tp(h,d),this.eventGenerator_=new _V(this.query_)}get query(){return this.query_}}function XV(e){return e.viewCache_.serverCache.getNode()}function JV(e){return tf(e.viewCache_)}function QV(e,t){const n=io(e.viewCache_);return n&&(e.query._queryParams.loadsAllData()||!he(t)&&!n.getImmediateChild(ue(t)).isEmpty())?n.getChild(t):null}function Rb(e){return e.eventRegistrations_.length===0}function ZV(e,t){e.eventRegistrations_.push(t)}function Ab(e,t,n){const r=[];if(n){z(t==null,"A cancel should cancel all event registrations.");const i=e.query._path;e.eventRegistrations_.forEach(s=>{const o=s.createCancelEvent(n,i);o&&r.push(o)})}if(t){let i=[];for(let s=0;s<e.eventRegistrations_.length;++s){const o=e.eventRegistrations_[s];if(!o.matches(t))i.push(o);else if(t.hasAnyCallback()){i=i.concat(e.eventRegistrations_.slice(s+1));break}}e.eventRegistrations_=i}else e.eventRegistrations_=[];return r}function Nb(e,t,n,r){t.type===Zn.MERGE&&t.source.queryId!==null&&(z(io(e.viewCache_),"We should always have a full cache before handling merges"),z(tf(e.viewCache_),"Missing event cache, even though we have a server cache"));const i=e.viewCache_,s=zV(e.processor_,i,t,n,r);return BV(e.processor_,s.viewCache),z(s.viewCache.serverCache.isFullyInitialized()||!i.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),e.viewCache_=s.viewCache,ZP(e,s.changes,s.viewCache.eventCache.getNode(),null)}function eU(e,t){const n=e.viewCache_.eventCache,r=[];return n.getNode().isLeafNode()||n.getNode().forEachChild(Xe,(s,o)=>{r.push(_a(s,o))}),n.isFullyInitialized()&&r.push(zP(n.getNode())),ZP(e,r,n.getNode(),t)}function ZP(e,t,n,r){const i=r?[r]:e.eventRegistrations_;return xV(e.eventGenerator_,t,n,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let of;class eR{constructor(){this.views=new Map}}function tU(e){z(!of,"__referenceConstructor has already been defined"),of=e}function nU(){return z(of,"Reference.ts has not been loaded"),of}function rU(e){return e.views.size===0}function $w(e,t,n,r){const i=t.source.queryId;if(i!==null){const s=e.views.get(i);return z(s!=null,"SyncTree gave us an op for an invalid query."),Nb(s,t,n,r)}else{let s=[];for(const o of e.views.values())s=s.concat(Nb(o,t,n,r));return s}}function tR(e,t,n,r,i){const s=t._queryIdentifier,o=e.views.get(s);if(!o){let a=nf(n,i?r:null),l=!1;a?l=!0:r instanceof ne?(a=Lw(n,r),l=!1):(a=ne.EMPTY_NODE,l=!1);const c=tp(new rs(a,l,!1),new rs(r,i,!1));return new YV(t,c)}return o}function iU(e,t,n,r,i,s){const o=tR(e,t,r,i,s);return e.views.has(t._queryIdentifier)||e.views.set(t._queryIdentifier,o),ZV(o,n),eU(o,n)}function sU(e,t,n,r){const i=t._queryIdentifier,s=[];let o=[];const a=is(e);if(i==="default")for(const[l,c]of e.views.entries())o=o.concat(Ab(c,n,r)),Rb(c)&&(e.views.delete(l),c.query._queryParams.loadsAllData()||s.push(c.query));else{const l=e.views.get(i);l&&(o=o.concat(Ab(l,n,r)),Rb(l)&&(e.views.delete(i),l.query._queryParams.loadsAllData()||s.push(l.query)))}return a&&!is(e)&&s.push(new(nU())(t._repo,t._path)),{removed:s,events:o}}function nR(e){const t=[];for(const n of e.views.values())n.query._queryParams.loadsAllData()||t.push(n);return t}function Ji(e,t){let n=null;for(const r of e.views.values())n=n||QV(r,t);return n}function rR(e,t){if(t._queryParams.loadsAllData())return rp(e);{const r=t._queryIdentifier;return e.views.get(r)}}function iR(e,t){return rR(e,t)!=null}function is(e){return rp(e)!=null}function rp(e){for(const t of e.views.values())if(t.query._queryParams.loadsAllData())return t;return null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let af;function oU(e){z(!af,"__referenceConstructor has already been defined"),af=e}function aU(){return z(af,"Reference.ts has not been loaded"),af}let lU=1;class Db{constructor(t){this.listenProvider_=t,this.syncPointTree_=new Ie(null),this.pendingWriteTree_=jV(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function sR(e,t,n,r,i){return SV(e.pendingWriteTree_,t,n,r,i),i?za(e,new ro(Dw(),t,n)):[]}function cU(e,t,n,r){TV(e.pendingWriteTree_,t,n,r);const i=Ie.fromObject(n);return za(e,new xa(Dw(),t,i))}function Fi(e,t,n=!1){const r=kV(e.pendingWriteTree_,t);if(IV(e.pendingWriteTree_,t)){let s=new Ie(null);return r.snap!=null?s=s.set(ye(),!0):St(r.children,o=>{s=s.set(new Ee(o),!0)}),za(e,new ef(r.path,s,n))}else return[]}function Eu(e,t,n){return za(e,new ro(Ow(),t,n))}function uU(e,t,n){const r=Ie.fromObject(n);return za(e,new xa(Ow(),t,r))}function dU(e,t){return za(e,new Hc(Ow(),t))}function hU(e,t,n){const r=Uw(e,n);if(r){const i=Bw(r),s=i.path,o=i.queryId,a=Wt(s,t),l=new Hc(Mw(o),a);return zw(e,s,l)}else return[]}function lf(e,t,n,r,i=!1){const s=t._path,o=e.syncPointTree_.get(s);let a=[];if(o&&(t._queryIdentifier==="default"||iR(o,t))){const l=sU(o,t,n,r);rU(o)&&(e.syncPointTree_=e.syncPointTree_.remove(s));const c=l.removed;if(a=l.events,!i){const d=c.findIndex(f=>f._queryParams.loadsAllData())!==-1,h=e.syncPointTree_.findOnPath(s,(f,g)=>is(g));if(d&&!h){const f=e.syncPointTree_.subtree(s);if(!f.isEmpty()){const g=mU(f);for(let v=0;v<g.length;++v){const S=g[v],k=S.query,_=cR(e,S);e.listenProvider_.startListening(tc(k),qc(e,k),_.hashFn,_.onComplete)}}}!h&&c.length>0&&!r&&(d?e.listenProvider_.stopListening(tc(t),null):c.forEach(f=>{const g=e.queryToTagMap.get(ip(f));e.listenProvider_.stopListening(tc(f),g)}))}gU(e,c)}return a}function oR(e,t,n,r){const i=Uw(e,r);if(i!=null){const s=Bw(i),o=s.path,a=s.queryId,l=Wt(o,t),c=new ro(Mw(a),l,n);return zw(e,o,c)}else return[]}function fU(e,t,n,r){const i=Uw(e,r);if(i){const s=Bw(i),o=s.path,a=s.queryId,l=Wt(o,t),c=Ie.fromObject(n),d=new xa(Mw(a),l,c);return zw(e,o,d)}else return[]}function Jy(e,t,n,r=!1){const i=t._path;let s=null,o=!1;e.syncPointTree_.foreachOnPath(i,(f,g)=>{const v=Wt(f,i);s=s||Ji(g,v),o=o||is(g)});let a=e.syncPointTree_.get(i);a?(o=o||is(a),s=s||Ji(a,ye())):(a=new eR,e.syncPointTree_=e.syncPointTree_.set(i,a));let l;s!=null?l=!0:(l=!1,s=ne.EMPTY_NODE,e.syncPointTree_.subtree(i).foreachChild((g,v)=>{const S=Ji(v,ye());S&&(s=s.updateImmediateChild(g,S))}));const c=iR(a,t);if(!c&&!t._queryParams.loadsAllData()){const f=ip(t);z(!e.queryToTagMap.has(f),"View does not exist, but we have a tag");const g=yU();e.queryToTagMap.set(f,g),e.tagToQueryMap.set(g,f)}const d=np(e.pendingWriteTree_,i);let h=iU(a,t,n,d,s,l);if(!c&&!o&&!r){const f=rR(a,t);h=h.concat(vU(e,t,f))}return h}function Vw(e,t,n){const i=e.pendingWriteTree_,s=e.syncPointTree_.findOnPath(t,(o,a)=>{const l=Wt(o,t),c=Ji(a,l);if(c)return c});return KP(i,t,s,n,!0)}function pU(e,t){const n=t._path;let r=null;e.syncPointTree_.foreachOnPath(n,(c,d)=>{const h=Wt(c,n);r=r||Ji(d,h)});let i=e.syncPointTree_.get(n);i?r=r||Ji(i,ye()):(i=new eR,e.syncPointTree_=e.syncPointTree_.set(n,i));const s=r!=null,o=s?new rs(r,!0,!1):null,a=np(e.pendingWriteTree_,t._path),l=tR(i,t,a,s?o.getNode():ne.EMPTY_NODE,s);return JV(l)}function za(e,t){return aR(t,e.syncPointTree_,null,np(e.pendingWriteTree_,ye()))}function aR(e,t,n,r){if(he(e.path))return lR(e,t,n,r);{const i=t.get(ye());n==null&&i!=null&&(n=Ji(i,ye()));let s=[];const o=ue(e.path),a=e.operationForChild(o),l=t.children.get(o);if(l&&a){const c=n?n.getImmediateChild(o):null,d=YP(r,o);s=s.concat(aR(a,l,c,d))}return i&&(s=s.concat($w(i,e,r,n))),s}}function lR(e,t,n,r){const i=t.get(ye());n==null&&i!=null&&(n=Ji(i,ye()));let s=[];return t.children.inorderTraversal((o,a)=>{const l=n?n.getImmediateChild(o):null,c=YP(r,o),d=e.operationForChild(o);d&&(s=s.concat(lR(d,a,l,c)))}),i&&(s=s.concat($w(i,e,r,n))),s}function cR(e,t){const n=t.query,r=qc(e,n);return{hashFn:()=>(XV(t)||ne.EMPTY_NODE).hash(),onComplete:i=>{if(i==="ok")return r?hU(e,n._path,r):dU(e,n._path);{const s=d9(i,n);return lf(e,n,null,s)}}}}function qc(e,t){const n=ip(t);return e.queryToTagMap.get(n)}function ip(e){return e._path.toString()+"$"+e._queryIdentifier}function Uw(e,t){return e.tagToQueryMap.get(t)}function Bw(e){const t=e.indexOf("$");return z(t!==-1&&t<e.length-1,"Bad queryKey."),{queryId:e.substr(t+1),path:new Ee(e.substr(0,t))}}function zw(e,t,n){const r=e.syncPointTree_.get(t);z(r,"Missing sync point for query tag that we're tracking");const i=np(e.pendingWriteTree_,t);return $w(r,n,i,null)}function mU(e){return e.fold((t,n,r)=>{if(n&&is(n))return[rp(n)];{let i=[];return n&&(i=nR(n)),St(r,(s,o)=>{i=i.concat(o)}),i}})}function tc(e){return e._queryParams.loadsAllData()&&!e._queryParams.isDefault()?new(aU())(e._repo,e._path):e}function gU(e,t){for(let n=0;n<t.length;++n){const r=t[n];if(!r._queryParams.loadsAllData()){const i=ip(r),s=e.queryToTagMap.get(i);e.queryToTagMap.delete(i),e.tagToQueryMap.delete(s)}}}function yU(){return lU++}function vU(e,t,n){const r=t._path,i=qc(e,t),s=cR(e,n),o=e.listenProvider_.startListening(tc(t),i,s.hashFn,s.onComplete),a=e.syncPointTree_.subtree(r);if(i)z(!is(a.value),"If we're adding a query, it shouldn't be shadowed");else{const l=a.fold((c,d,h)=>{if(!he(c)&&d&&is(d))return[rp(d).query];{let f=[];return d&&(f=f.concat(nR(d).map(g=>g.query))),St(h,(g,v)=>{f=f.concat(v)}),f}});for(let c=0;c<l.length;++c){const d=l[c];e.listenProvider_.stopListening(tc(d),qc(e,d))}}return o}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ww{constructor(t){this.node_=t}getImmediateChild(t){const n=this.node_.getImmediateChild(t);return new Ww(n)}node(){return this.node_}}class Hw{constructor(t,n){this.syncTree_=t,this.path_=n}getImmediateChild(t){const n=Ye(this.path_,t);return new Hw(this.syncTree_,n)}node(){return Vw(this.syncTree_,this.path_)}}const wU=function(e){return e=e||{},e.timestamp=e.timestamp||new Date().getTime(),e},Ob=function(e,t,n){if(!e||typeof e!="object")return e;if(z(".sv"in e,"Unexpected leaf node or priority contents"),typeof e[".sv"]=="string")return _U(e[".sv"],t,n);if(typeof e[".sv"]=="object")return xU(e[".sv"],t);z(!1,"Unexpected server value: "+JSON.stringify(e,null,2))},_U=function(e,t,n){switch(e){case"timestamp":return n.timestamp;default:z(!1,"Unexpected server value: "+e)}},xU=function(e,t,n){e.hasOwnProperty("increment")||z(!1,"Unexpected server value: "+JSON.stringify(e,null,2));const r=e.increment;typeof r!="number"&&z(!1,"Unexpected increment value: "+r);const i=t.node();if(z(i!==null&&typeof i<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!i.isLeafNode())return r;const o=i.getValue();return typeof o!="number"?r:o+r},uR=function(e,t,n,r){return qw(t,new Hw(n,e),r)},dR=function(e,t,n){return qw(e,new Ww(t),n)};function qw(e,t,n){const r=e.getPriority().val(),i=Ob(r,t.getImmediateChild(".priority"),n);let s;if(e.isLeafNode()){const o=e,a=Ob(o.getValue(),t,n);return a!==o.getValue()||i!==o.getPriority().val()?new dt(a,ot(i)):e}else{const o=e;return s=o,i!==o.getPriority().val()&&(s=s.updatePriority(new dt(i))),o.forEachChild(Xe,(a,l)=>{const c=qw(l,t.getImmediateChild(a),n);c!==l&&(s=s.updateImmediateChild(a,c))}),s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gw{constructor(t="",n=null,r={children:{},childCount:0}){this.name=t,this.parent=n,this.node=r}}function Kw(e,t){let n=t instanceof Ee?t:new Ee(t),r=e,i=ue(n);for(;i!==null;){const s=va(r.node.children,i)||{children:{},childCount:0};r=new Gw(i,r,s),n=Pe(n),i=ue(n)}return r}function Wa(e){return e.node.value}function hR(e,t){e.node.value=t,Qy(e)}function fR(e){return e.node.childCount>0}function EU(e){return Wa(e)===void 0&&!fR(e)}function sp(e,t){St(e.node.children,(n,r)=>{t(new Gw(n,e,r))})}function pR(e,t,n,r){n&&!r&&t(e),sp(e,i=>{pR(i,t,!0,r)}),n&&r&&t(e)}function bU(e,t,n){let r=n?e:e.parent;for(;r!==null;){if(t(r))return!0;r=r.parent}return!1}function bu(e){return new Ee(e.parent===null?e.name:bu(e.parent)+"/"+e.name)}function Qy(e){e.parent!==null&&CU(e.parent,e.name,e)}function CU(e,t,n){const r=EU(n),i=Dr(e.node.children,t);r&&i?(delete e.node.children[t],e.node.childCount--,Qy(e)):!r&&!i&&(e.node.children[t]=n.node,e.node.childCount++,Qy(e))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SU=/[\[\].#$\/\u0000-\u001F\u007F]/,TU=/[\[\].#$\u0000-\u001F\u007F]/,sg=10*1024*1024,Yw=function(e){return typeof e=="string"&&e.length!==0&&!SU.test(e)},mR=function(e){return typeof e=="string"&&e.length!==0&&!TU.test(e)},kU=function(e){return e&&(e=e.replace(/^\/*\.info(\/|$)/,"/")),mR(e)},IU=function(e){return e===null||typeof e=="string"||typeof e=="number"&&!Ew(e)||e&&typeof e=="object"&&Dr(e,".sv")},gR=function(e,t,n,r){r&&t===void 0||op(Hf(e,"value"),t,n)},op=function(e,t,n){const r=n instanceof Ee?new H9(n,e):n;if(t===void 0)throw new Error(e+"contains undefined "+Ss(r));if(typeof t=="function")throw new Error(e+"contains a function "+Ss(r)+" with contents = "+t.toString());if(Ew(t))throw new Error(e+"contains "+t.toString()+" "+Ss(r));if(typeof t=="string"&&t.length>sg/3&&qf(t)>sg)throw new Error(e+"contains a string greater than "+sg+" utf8 bytes "+Ss(r)+" ('"+t.substring(0,50)+"...')");if(t&&typeof t=="object"){let i=!1,s=!1;if(St(t,(o,a)=>{if(o===".value")i=!0;else if(o!==".priority"&&o!==".sv"&&(s=!0,!Yw(o)))throw new Error(e+" contains an invalid key ("+o+") "+Ss(r)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);q9(r,o),op(e,a,r),G9(r)}),i&&s)throw new Error(e+' contains ".value" child '+Ss(r)+" in addition to actual children.")}},PU=function(e,t){let n,r;for(n=0;n<t.length;n++){r=t[n];const s=Uc(r);for(let o=0;o<s.length;o++)if(!(s[o]===".priority"&&o===s.length-1)){if(!Yw(s[o]))throw new Error(e+"contains an invalid key ("+s[o]+") in path "+r.toString()+`. Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`)}}t.sort(W9);let i=null;for(n=0;n<t.length;n++){if(r=t[n],i!==null&&Nn(i,r))throw new Error(e+"contains a path "+i.toString()+" that is ancestor of another path "+r.toString());i=r}},RU=function(e,t,n,r){if(r&&t===void 0)return;const i=Hf(e,"values");if(!(t&&typeof t=="object")||Array.isArray(t))throw new Error(i+" must be an object containing the children to replace.");const s=[];St(t,(o,a)=>{const l=new Ee(o);if(op(i,a,Ye(n,l)),kw(l)===".priority"&&!IU(a))throw new Error(i+"contains an invalid value for '"+l.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");s.push(l)}),PU(i,s)},yR=function(e,t,n,r){if(!(r&&n===void 0)&&!mR(n))throw new Error(Hf(e,t)+'was an invalid path = "'+n+`". Paths must be non-empty strings and can't contain ".", "#", "$", "[", or "]"`)},AU=function(e,t,n,r){n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),yR(e,t,n,r)},vR=function(e,t){if(ue(t)===".info")throw new Error(e+" failed = Can't modify data under /.info/")},NU=function(e,t){const n=t.path.toString();if(typeof t.repoInfo.host!="string"||t.repoInfo.host.length===0||!Yw(t.repoInfo.namespace)&&t.repoInfo.host.split(":")[0]!=="localhost"||n.length!==0&&!kU(n))throw new Error(Hf(e,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DU{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function ap(e,t){let n=null;for(let r=0;r<t.length;r++){const i=t[r],s=i.getPath();n!==null&&!Iw(s,n.path)&&(e.eventLists_.push(n),n=null),n===null&&(n={events:[],path:s}),n.events.push(i)}n&&e.eventLists_.push(n)}function wR(e,t,n){ap(e,n),_R(e,r=>Iw(r,t))}function Fn(e,t,n){ap(e,n),_R(e,r=>Nn(r,t)||Nn(t,r))}function _R(e,t){e.recursionDepth_++;let n=!0;for(let r=0;r<e.eventLists_.length;r++){const i=e.eventLists_[r];if(i){const s=i.path;t(s)?(OU(e.eventLists_[r]),e.eventLists_[r]=null):n=!1}}n&&(e.eventLists_=[]),e.recursionDepth_--}function OU(e){for(let t=0;t<e.events.length;t++){const n=e.events[t];if(n!==null){e.events[t]=null;const r=n.getEventRunner();zs&&xt("event: "+n.toString()),Ba(r)}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MU="repo_interrupt",LU=25;class jU{constructor(t,n,r,i){this.repoInfo_=t,this.forceRestClient_=n,this.authTokenProvider_=r,this.appCheckProvider_=i,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new DU,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=Zh(),this.transactionQueueTree_=new Gw,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function FU(e,t,n){if(e.stats_=Sw(e.repoInfo_),e.forceRestClient_||m9())e.server_=new Qh(e.repoInfo_,(r,i,s,o)=>{Mb(e,r,i,s,o)},e.authTokenProvider_,e.appCheckProvider_),setTimeout(()=>Lb(e,!0),0);else{if(typeof n<"u"&&n!==null){if(typeof n!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{at(n)}catch(r){throw new Error("Invalid authOverride provided: "+r)}}e.persistentConnection_=new ei(e.repoInfo_,t,(r,i,s,o)=>{Mb(e,r,i,s,o)},r=>{Lb(e,r)},r=>{$U(e,r)},e.authTokenProvider_,e.appCheckProvider_,n),e.server_=e.persistentConnection_}e.authTokenProvider_.addTokenChangeListener(r=>{e.server_.refreshAuthToken(r)}),e.appCheckProvider_.addTokenChangeListener(r=>{e.server_.refreshAppCheckToken(r.token)}),e.statsReporter_=_9(e.repoInfo_,()=>new wV(e.stats_,e.server_)),e.infoData_=new pV,e.infoSyncTree_=new Db({startListening:(r,i,s,o)=>{let a=[];const l=e.infoData_.getNode(r._path);return l.isEmpty()||(a=Eu(e.infoSyncTree_,r._path,l),setTimeout(()=>{o("ok")},0)),a},stopListening:()=>{}}),Xw(e,"connected",!1),e.serverSyncTree_=new Db({startListening:(r,i,s,o)=>(e.server_.listen(r,s,i,(a,l)=>{const c=o(a,l);Fn(e.eventQueue_,r._path,c)}),[]),stopListening:(r,i)=>{e.server_.unlisten(r,i)}})}function xR(e){const n=e.infoData_.getNode(new Ee(".info/serverTimeOffset")).val()||0;return new Date().getTime()+n}function lp(e){return wU({timestamp:xR(e)})}function Mb(e,t,n,r,i){e.dataUpdateCount++;const s=new Ee(t);n=e.interceptServerDataCallback_?e.interceptServerDataCallback_(t,n):n;let o=[];if(i)if(r){const l=Vh(n,c=>ot(c));o=fU(e.serverSyncTree_,s,l,i)}else{const l=ot(n);o=oR(e.serverSyncTree_,s,l,i)}else if(r){const l=Vh(n,c=>ot(c));o=uU(e.serverSyncTree_,s,l)}else{const l=ot(n);o=Eu(e.serverSyncTree_,s,l)}let a=s;o.length>0&&(a=ba(e,s)),Fn(e.eventQueue_,a,o)}function Lb(e,t){Xw(e,"connected",t),t===!1&&zU(e)}function $U(e,t){St(t,(n,r)=>{Xw(e,n,r)})}function Xw(e,t,n){const r=new Ee("/.info/"+t),i=ot(n);e.infoData_.updateSnapshot(r,i);const s=Eu(e.infoSyncTree_,r,i);Fn(e.eventQueue_,r,s)}function Jw(e){return e.nextWriteId_++}function VU(e,t,n){const r=pU(e.serverSyncTree_,t);return r!=null?Promise.resolve(r):e.server_.get(t).then(i=>{const s=ot(i).withIndex(t._queryParams.getIndex());Jy(e.serverSyncTree_,t,n,!0);let o;if(t._queryParams.loadsAllData())o=Eu(e.serverSyncTree_,t._path,s);else{const a=qc(e.serverSyncTree_,t);o=oR(e.serverSyncTree_,t._path,s,a)}return Fn(e.eventQueue_,t._path,o),lf(e.serverSyncTree_,t,n,null,!0),s},i=>(Cu(e,"get for query "+at(t)+" failed: "+i),Promise.reject(new Error(i))))}function UU(e,t,n,r,i){Cu(e,"set",{path:t.toString(),value:n,priority:r});const s=lp(e),o=ot(n,r),a=Vw(e.serverSyncTree_,t),l=dR(o,a,s),c=Jw(e),d=sR(e.serverSyncTree_,t,l,c,!0);ap(e.eventQueue_,d),e.server_.put(t.toString(),o.val(!0),(f,g)=>{const v=f==="ok";v||Gt("set at "+t+" failed: "+f);const S=Fi(e.serverSyncTree_,c,!v);Fn(e.eventQueue_,t,S),e0(e,i,f,g)});const h=Zw(e,t);ba(e,h),Fn(e.eventQueue_,h,[])}function BU(e,t,n,r){Cu(e,"update",{path:t.toString(),value:n});let i=!0;const s=lp(e),o={};if(St(n,(a,l)=>{i=!1,o[a]=uR(Ye(t,a),ot(l),e.serverSyncTree_,s)}),i)xt("update() called with empty data.  Don't do anything."),e0(e,r,"ok",void 0);else{const a=Jw(e),l=cU(e.serverSyncTree_,t,o,a);ap(e.eventQueue_,l),e.server_.merge(t.toString(),n,(c,d)=>{const h=c==="ok";h||Gt("update at "+t+" failed: "+c);const f=Fi(e.serverSyncTree_,a,!h),g=f.length>0?ba(e,t):t;Fn(e.eventQueue_,g,f),e0(e,r,c,d)}),St(n,c=>{const d=Zw(e,Ye(t,c));ba(e,d)}),Fn(e.eventQueue_,t,[])}}function zU(e){Cu(e,"onDisconnectEvents");const t=lp(e),n=Zh();Hy(e.onDisconnect_,ye(),(i,s)=>{const o=uR(i,s,e.serverSyncTree_,t);WP(n,i,o)});let r=[];Hy(n,ye(),(i,s)=>{r=r.concat(Eu(e.serverSyncTree_,i,s));const o=Zw(e,i);ba(e,o)}),e.onDisconnect_=Zh(),Fn(e.eventQueue_,ye(),r)}function WU(e,t,n){let r;ue(t._path)===".info"?r=Jy(e.infoSyncTree_,t,n):r=Jy(e.serverSyncTree_,t,n),wR(e.eventQueue_,t._path,r)}function Zy(e,t,n){let r;ue(t._path)===".info"?r=lf(e.infoSyncTree_,t,n):r=lf(e.serverSyncTree_,t,n),wR(e.eventQueue_,t._path,r)}function HU(e){e.persistentConnection_&&e.persistentConnection_.interrupt(MU)}function Cu(e,...t){let n="";e.persistentConnection_&&(n=e.persistentConnection_.id+":"),xt(n,...t)}function e0(e,t,n,r){t&&Ba(()=>{if(n==="ok")t(null);else{const i=(n||"error").toUpperCase();let s=i;r&&(s+=": "+r);const o=new Error(s);o.code=i,t(o)}})}function ER(e,t,n){return Vw(e.serverSyncTree_,t,n)||ne.EMPTY_NODE}function Qw(e,t=e.transactionQueueTree_){if(t||cp(e,t),Wa(t)){const n=CR(e,t);z(n.length>0,"Sending zero length transaction queue"),n.every(i=>i.status===0)&&qU(e,bu(t),n)}else fR(t)&&sp(t,n=>{Qw(e,n)})}function qU(e,t,n){const r=n.map(c=>c.currentWriteId),i=ER(e,t,r);let s=i;const o=i.hash();for(let c=0;c<n.length;c++){const d=n[c];z(d.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),d.status=1,d.retryCount++;const h=Wt(t,d.path);s=s.updateChild(h,d.currentOutputSnapshotRaw)}const a=s.val(!0),l=t;e.server_.put(l.toString(),a,c=>{Cu(e,"transaction put response",{path:l.toString(),status:c});let d=[];if(c==="ok"){const h=[];for(let f=0;f<n.length;f++)n[f].status=2,d=d.concat(Fi(e.serverSyncTree_,n[f].currentWriteId)),n[f].onComplete&&h.push(()=>n[f].onComplete(null,!0,n[f].currentOutputSnapshotResolved)),n[f].unwatcher();cp(e,Kw(e.transactionQueueTree_,t)),Qw(e,e.transactionQueueTree_),Fn(e.eventQueue_,t,d);for(let f=0;f<h.length;f++)Ba(h[f])}else{if(c==="datastale")for(let h=0;h<n.length;h++)n[h].status===3?n[h].status=4:n[h].status=0;else{Gt("transaction at "+l.toString()+" failed: "+c);for(let h=0;h<n.length;h++)n[h].status=4,n[h].abortReason=c}ba(e,t)}},o)}function ba(e,t){const n=bR(e,t),r=bu(n),i=CR(e,n);return GU(e,i,r),r}function GU(e,t,n){if(t.length===0)return;const r=[];let i=[];const o=t.filter(a=>a.status===0).map(a=>a.currentWriteId);for(let a=0;a<t.length;a++){const l=t[a],c=Wt(n,l.path);let d=!1,h;if(z(c!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),l.status===4)d=!0,h=l.abortReason,i=i.concat(Fi(e.serverSyncTree_,l.currentWriteId,!0));else if(l.status===0)if(l.retryCount>=LU)d=!0,h="maxretry",i=i.concat(Fi(e.serverSyncTree_,l.currentWriteId,!0));else{const f=ER(e,l.path,o);l.currentInputSnapshot=f;const g=t[a].update(f.val());if(g!==void 0){op("transaction failed: Data returned ",g,l.path);let v=ot(g);typeof g=="object"&&g!=null&&Dr(g,".priority")||(v=v.updatePriority(f.getPriority()));const k=l.currentWriteId,_=lp(e),b=dR(v,f,_);l.currentOutputSnapshotRaw=v,l.currentOutputSnapshotResolved=b,l.currentWriteId=Jw(e),o.splice(o.indexOf(k),1),i=i.concat(sR(e.serverSyncTree_,l.path,b,l.currentWriteId,l.applyLocally)),i=i.concat(Fi(e.serverSyncTree_,k,!0))}else d=!0,h="nodata",i=i.concat(Fi(e.serverSyncTree_,l.currentWriteId,!0))}Fn(e.eventQueue_,n,i),i=[],d&&(t[a].status=2,function(f){setTimeout(f,Math.floor(0))}(t[a].unwatcher),t[a].onComplete&&(h==="nodata"?r.push(()=>t[a].onComplete(null,!1,t[a].currentInputSnapshot)):r.push(()=>t[a].onComplete(new Error(h),!1,null))))}cp(e,e.transactionQueueTree_);for(let a=0;a<r.length;a++)Ba(r[a]);Qw(e,e.transactionQueueTree_)}function bR(e,t){let n,r=e.transactionQueueTree_;for(n=ue(t);n!==null&&Wa(r)===void 0;)r=Kw(r,n),t=Pe(t),n=ue(t);return r}function CR(e,t){const n=[];return SR(e,t,n),n.sort((r,i)=>r.order-i.order),n}function SR(e,t,n){const r=Wa(t);if(r)for(let i=0;i<r.length;i++)n.push(r[i]);sp(t,i=>{SR(e,i,n)})}function cp(e,t){const n=Wa(t);if(n){let r=0;for(let i=0;i<n.length;i++)n[i].status!==2&&(n[r]=n[i],r++);n.length=r,hR(t,n.length>0?n:void 0)}sp(t,r=>{cp(e,r)})}function Zw(e,t){const n=bu(bR(e,t)),r=Kw(e.transactionQueueTree_,t);return bU(r,i=>{og(e,i)}),og(e,r),pR(r,i=>{og(e,i)}),n}function og(e,t){const n=Wa(t);if(n){const r=[];let i=[],s=-1;for(let o=0;o<n.length;o++)n[o].status===3||(n[o].status===1?(z(s===o-1,"All SENT items should be at beginning of queue."),s=o,n[o].status=3,n[o].abortReason="set"):(z(n[o].status===0,"Unexpected transaction status in abort"),n[o].unwatcher(),i=i.concat(Fi(e.serverSyncTree_,n[o].currentWriteId,!0)),n[o].onComplete&&r.push(n[o].onComplete.bind(null,new Error("set"),!1,null))));s===-1?hR(t,void 0):n.length=s+1,Fn(e.eventQueue_,bu(t),i);for(let o=0;o<r.length;o++)Ba(r[o])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KU(e){let t="";const n=e.split("/");for(let r=0;r<n.length;r++)if(n[r].length>0){let i=n[r];try{i=decodeURIComponent(i.replace(/\+/g," "))}catch{}t+="/"+i}return t}function YU(e){const t={};e.charAt(0)==="?"&&(e=e.substring(1));for(const n of e.split("&")){if(n.length===0)continue;const r=n.split("=");r.length===2?t[decodeURIComponent(r[0])]=decodeURIComponent(r[1]):Gt(`Invalid query segment '${n}' in query '${e}'`)}return t}const jb=function(e,t){const n=XU(e),r=n.namespace;n.domain==="firebase.com"&&ci(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!r||r==="undefined")&&n.domain!=="localhost"&&ci("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||o9();const i=n.scheme==="ws"||n.scheme==="wss";return{repoInfo:new kP(n.host,n.secure,r,i,t,"",r!==n.subdomain),path:new Ee(n.pathString)}},XU=function(e){let t="",n="",r="",i="",s="",o=!0,a="https",l=443;if(typeof e=="string"){let c=e.indexOf("//");c>=0&&(a=e.substring(0,c-1),e=e.substring(c+2));let d=e.indexOf("/");d===-1&&(d=e.length);let h=e.indexOf("?");h===-1&&(h=e.length),t=e.substring(0,Math.min(d,h)),d<h&&(i=KU(e.substring(d,h)));const f=YU(e.substring(Math.min(e.length,h)));c=t.indexOf(":"),c>=0?(o=a==="https"||a==="wss",l=parseInt(t.substring(c+1),10)):c=t.length;const g=t.slice(0,c);if(g.toLowerCase()==="localhost")n="localhost";else if(g.split(".").length<=2)n=g;else{const v=t.indexOf(".");r=t.substring(0,v).toLowerCase(),n=t.substring(v+1),s=r}"ns"in f&&(s=f.ns)}return{host:t,port:l,domain:n,subdomain:r,secure:o,scheme:a,pathString:i,namespace:s}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fb="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",JU=function(){let e=0;const t=[];return function(n){const r=n===e;e=n;let i;const s=new Array(8);for(i=7;i>=0;i--)s[i]=Fb.charAt(n%64),n=Math.floor(n/64);z(n===0,"Cannot push at time == 0");let o=s.join("");if(r){for(i=11;i>=0&&t[i]===63;i--)t[i]=0;t[i]++}else for(i=0;i<12;i++)t[i]=Math.floor(Math.random()*64);for(i=0;i<12;i++)o+=Fb.charAt(t[i]);return z(o.length===20,"nextPushId: Length should be 20."),o}}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TR{constructor(t,n,r,i){this.eventType=t,this.eventRegistration=n,this.snapshot=r,this.prevName=i}getPath(){const t=this.snapshot.ref;return this.eventType==="value"?t._path:t.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+at(this.snapshot.exportVal())}}class kR{constructor(t,n,r){this.eventRegistration=t,this.error=n,this.path=r}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e_{constructor(t,n){this.snapshotCallback=t,this.cancelCallback=n}onValue(t,n){this.snapshotCallback.call(null,t,n)}onCancel(t){return z(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,t)}get hasCancelCallback(){return!!this.cancelCallback}matches(t){return this.snapshotCallback===t.snapshotCallback||this.snapshotCallback.userCallback!==void 0&&this.snapshotCallback.userCallback===t.snapshotCallback.userCallback&&this.snapshotCallback.context===t.snapshotCallback.context}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t_{constructor(t,n,r,i){this._repo=t,this._path=n,this._queryParams=r,this._orderByCalled=i}get key(){return he(this._path)?null:kw(this._path)}get ref(){return new Or(this._repo,this._path)}get _queryIdentifier(){const t=bb(this._queryParams),n=bw(t);return n==="{}"?"default":n}get _queryObject(){return bb(this._queryParams)}isEqual(t){if(t=it(t),!(t instanceof t_))return!1;const n=this._repo===t._repo,r=Iw(this._path,t._path),i=this._queryIdentifier===t._queryIdentifier;return n&&r&&i}toJSON(){return this.toString()}toString(){return this._repo.toString()+z9(this._path)}}class Or extends t_{constructor(t,n){super(t,n,new Nw,!1)}get parent(){const t=LP(this._path);return t===null?null:new Or(this._repo,t)}get root(){let t=this;for(;t.parent!==null;)t=t.parent;return t}}class Ca{constructor(t,n,r){this._node=t,this.ref=n,this._index=r}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(t){const n=new Ee(t),r=Sa(this.ref,t);return new Ca(this._node.getChild(n),r,Xe)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(t){return this._node.isLeafNode()?!1:!!this._node.forEachChild(this._index,(r,i)=>t(new Ca(i,Sa(this.ref,r),Xe)))}hasChild(t){const n=new Ee(t);return!this._node.getChild(n).isEmpty()}hasChildren(){return this._node.isLeafNode()?!1:!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function ee(e,t){return e=it(e),e._checkNotDeleted("ref"),t!==void 0?Sa(e._root,t):e._root}function Sa(e,t){return e=it(e),ue(e._path)===null?AU("child","path",t,!1):yR("child","path",t,!1),new Or(e._repo,Ye(e._path,t))}function Zd(e,t){e=it(e),vR("push",e._path),gR("push",t,e._path,!0);const n=xR(e._repo),r=JU(n),i=Sa(e,r),s=Sa(e,r);let o;return t!=null?o=Ze(s,t).then(()=>s):o=Promise.resolve(s),i.then=o.then.bind(o),i.catch=o.then.bind(o,void 0),i}function Ze(e,t){e=it(e),vR("set",e._path),gR("set",t,e._path,!1);const n=new fu;return UU(e._repo,e._path,t,null,n.wrapCallback(()=>{})),n.promise}function Gc(e,t){RU("update",t,e._path,!1);const n=new fu;return BU(e._repo,e._path,t,n.wrapCallback(()=>{})),n.promise}function ar(e){e=it(e);const t=new e_(()=>{}),n=new Su(t);return VU(e._repo,e,n).then(r=>new Ca(r,new Or(e._repo,e._path),e._queryParams.getIndex()))}class Su{constructor(t){this.callbackContext=t}respondsTo(t){return t==="value"}createEvent(t,n){const r=n._queryParams.getIndex();return new TR("value",this,new Ca(t.snapshotNode,new Or(n._repo,n._path),r))}getEventRunner(t){return t.getEventType()==="cancel"?()=>this.callbackContext.onCancel(t.error):()=>this.callbackContext.onValue(t.snapshot,null)}createCancelEvent(t,n){return this.callbackContext.hasCancelCallback?new kR(this,t,n):null}matches(t){return t instanceof Su?!t.callbackContext||!this.callbackContext?!0:t.callbackContext.matches(this.callbackContext):!1}hasAnyCallback(){return this.callbackContext!==null}}class up{constructor(t,n){this.eventType=t,this.callbackContext=n}respondsTo(t){let n=t==="children_added"?"child_added":t;return n=n==="children_removed"?"child_removed":n,this.eventType===n}createCancelEvent(t,n){return this.callbackContext.hasCancelCallback?new kR(this,t,n):null}createEvent(t,n){z(t.childName!=null,"Child events should have a childName.");const r=Sa(new Or(n._repo,n._path),t.childName),i=n._queryParams.getIndex();return new TR(t.type,this,new Ca(t.snapshotNode,r,i),t.prevName)}getEventRunner(t){return t.getEventType()==="cancel"?()=>this.callbackContext.onCancel(t.error):()=>this.callbackContext.onValue(t.snapshot,t.prevName)}matches(t){return t instanceof up?this.eventType===t.eventType&&(!this.callbackContext||!t.callbackContext||this.callbackContext.matches(t.callbackContext)):!1}hasAnyCallback(){return!!this.callbackContext}}function QU(e,t,n,r,i){let s;if(typeof r=="object"&&(s=void 0,i=r),typeof r=="function"&&(s=r),i&&i.onlyOnce){const l=n,c=(d,h)=>{Zy(e._repo,e,a),l(d,h)};c.userCallback=n.userCallback,c.context=n.context,n=c}const o=new e_(n,s||void 0),a=t==="value"?new Su(o):new up(t,o);return WU(e._repo,e,a),()=>Zy(e._repo,e,a)}function Et(e,t,n,r){return QU(e,"value",t,n,r)}function Kc(e,t,n){let r=null;const i=n?new e_(n):null;t==="value"?r=new Su(i):t&&(r=new up(t,i)),Zy(e._repo,e,r)}tU(Or);oU(Or);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZU="FIREBASE_DATABASE_EMULATOR_HOST",t0={};let eB=!1;function tB(e,t,n,r){const i=t.lastIndexOf(":"),s=t.substring(0,i),o=uo(s);e.repoInfo_=new kP(t,o,e.repoInfo_.namespace,e.repoInfo_.webSocketOnly,e.repoInfo_.nodeAdmin,e.repoInfo_.persistenceKey,e.repoInfo_.includeNamespaceInQueryParams,!0,n),r&&(e.authTokenProvider_=r)}function nB(e,t,n,r,i){let s=r||e.options.databaseURL;s===void 0&&(e.options.projectId||ci("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),xt("Using default host for project ",e.options.projectId),s=`${e.options.projectId}-default-rtdb.firebaseio.com`);let o=jb(s,i),a=o.repoInfo,l,c;typeof process<"u"&&process.env&&(c=process.env[ZU]),c?(l=!0,s=`http://${c}?ns=${a.namespace}`,o=jb(s,i),a=o.repoInfo):l=!o.repoInfo.secure;const d=i&&l?new aa(aa.OWNER):new y9(e.name,e.options,t);NU("Invalid Firebase Database URL",o),he(o.path)||ci("Database URL must point to the root of a Firebase Database (not including a child path).");const h=iB(a,e,d,new g9(e,n));return new sB(h,e)}function rB(e,t){const n=t0[t];(!n||n[e.key]!==e)&&ci(`Database ${t}(${e.repoInfo_}) has already been deleted.`),HU(e),delete n[e.key]}function iB(e,t,n,r){let i=t0[t.name];i||(i={},t0[t.name]=i);let s=i[e.toURLString()];return s&&ci("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),s=new jU(e,eB,n,r),i[e.toURLString()]=s,s}class sB{constructor(t,n){this._repoInternal=t,this.app=n,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(FU(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0,ds("Database",this._repo.repoInfo_.emulatorOptions!==null)),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new Or(this._repo,ye())),this._rootInternal}_delete(){return this._rootInternal!==null&&(rB(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(t){this._rootInternal===null&&ci("Cannot call "+t+" on a deleted database.")}}function IR(e=pu(),t){const n=hs(e,"database").getImmediate({identifier:t});if(!n._instanceStarted){const r=ew("database");r&&PR(n,...r)}return n}function PR(e,t,n,r={}){e=it(e),e._checkNotDeleted("useEmulator");const i=`${t}:${n}`,s=e._repoInternal;if(e._instanceStarted){if(i===e._repoInternal.repoInfo_.host&&ts(r,s.repoInfo_.emulatorOptions))return;ci("connectDatabaseEmulator() cannot initialize or alter the emulator configuration after the database instance has started.")}let o;if(s.repoInfo_.nodeAdmin)r.mockUserToken&&ci('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),o=new aa(aa.OWNER);else if(r.mockUserToken){const a=typeof r.mockUserToken=="string"?r.mockUserToken:tw(r.mockUserToken,e.app.options.projectId);o=new aa(a)}uo(t)&&(Wf(t),ds("Database",!0)),tB(s,i,r,o)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oB(e){t9(fs),xn(new cn("database",(t,{instanceIdentifier:n})=>{const r=t.getProvider("app").getImmediate(),i=t.getProvider("auth-internal"),s=t.getProvider("app-check-internal");return nB(r,i,s,n)},"PUBLIC").setMultipleInstances(!0)),mt(ob,ab,e),mt(ob,ab,"esm2017")}ei.prototype.simpleListen=function(e,t){this.sendRequest("q",{p:e},t)};ei.prototype.echo=function(e,t){this.sendRequest("echo",{d:e},t)};oB();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RR="firebasestorage.googleapis.com",aB="storageBucket",lB=2*60*1e3,cB=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mr extends pr{constructor(t,n,r=0){super(ag(t),`Firebase Storage: ${n} (${ag(t)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Mr.prototype)}get status(){return this.status_}set status(t){this.status_=t}_codeEquals(t){return ag(t)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(t){this.customData.serverResponse=t,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var Ar;(function(e){e.UNKNOWN="unknown",e.OBJECT_NOT_FOUND="object-not-found",e.BUCKET_NOT_FOUND="bucket-not-found",e.PROJECT_NOT_FOUND="project-not-found",e.QUOTA_EXCEEDED="quota-exceeded",e.UNAUTHENTICATED="unauthenticated",e.UNAUTHORIZED="unauthorized",e.UNAUTHORIZED_APP="unauthorized-app",e.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",e.INVALID_CHECKSUM="invalid-checksum",e.CANCELED="canceled",e.INVALID_EVENT_NAME="invalid-event-name",e.INVALID_URL="invalid-url",e.INVALID_DEFAULT_BUCKET="invalid-default-bucket",e.NO_DEFAULT_BUCKET="no-default-bucket",e.CANNOT_SLICE_BLOB="cannot-slice-blob",e.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",e.NO_DOWNLOAD_URL="no-download-url",e.INVALID_ARGUMENT="invalid-argument",e.INVALID_ARGUMENT_COUNT="invalid-argument-count",e.APP_DELETED="app-deleted",e.INVALID_ROOT_OPERATION="invalid-root-operation",e.INVALID_FORMAT="invalid-format",e.INTERNAL_ERROR="internal-error",e.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(Ar||(Ar={}));function ag(e){return"storage/"+e}function uB(){const e="An unknown error occurred, please check the error payload for server response.";return new Mr(Ar.UNKNOWN,e)}function dB(){return new Mr(Ar.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function hB(){return new Mr(Ar.CANCELED,"User canceled the upload/download.")}function fB(e){return new Mr(Ar.INVALID_URL,"Invalid URL '"+e+"'.")}function pB(e){return new Mr(Ar.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+e+"'.")}function $b(e){return new Mr(Ar.INVALID_ARGUMENT,e)}function AR(){return new Mr(Ar.APP_DELETED,"The Firebase app was deleted.")}function mB(e){return new Mr(Ar.INVALID_ROOT_OPERATION,"The operation '"+e+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class er{constructor(t,n){this.bucket=t,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const t=encodeURIComponent;return"/b/"+t(this.bucket)+"/o/"+t(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(t,n){let r;try{r=er.makeFromUrl(t,n)}catch{return new er(t,"")}if(r.path==="")return r;throw pB(t)}static makeFromUrl(t,n){let r=null;const i="([A-Za-z0-9.\\-_]+)";function s(R){R.path.charAt(R.path.length-1)==="/"&&(R.path_=R.path_.slice(0,-1))}const o="(/(.*))?$",a=new RegExp("^gs://"+i+o,"i"),l={bucket:1,path:3};function c(R){R.path_=decodeURIComponent(R.path)}const d="v[A-Za-z0-9_]+",h=n.replace(/[.]/g,"\\."),f="(/([^?#]*).*)?$",g=new RegExp(`^https?://${h}/${d}/b/${i}/o${f}`,"i"),v={bucket:1,path:3},S=n===RR?"(?:storage.googleapis.com|storage.cloud.google.com)":n,k="([^?#]*)",_=new RegExp(`^https?://${S}/${i}/${k}`,"i"),E=[{regex:a,indices:l,postModify:s},{regex:g,indices:v,postModify:c},{regex:_,indices:{bucket:1,path:2},postModify:c}];for(let R=0;R<E.length;R++){const D=E[R],M=D.regex.exec(t);if(M){const T=M[D.indices.bucket];let C=M[D.indices.path];C||(C=""),r=new er(T,C),D.postModify(r);break}}if(r==null)throw fB(t);return r}}class gB{constructor(t){this.promise_=Promise.reject(t)}getPromise(){return this.promise_}cancel(t=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yB(e,t,n){let r=1,i=null,s=null,o=!1,a=0;function l(){return a===2}let c=!1;function d(...k){c||(c=!0,t.apply(null,k))}function h(k){i=setTimeout(()=>{i=null,e(g,l())},k)}function f(){s&&clearTimeout(s)}function g(k,..._){if(c){f();return}if(k){f(),d.call(null,k,..._);return}if(l()||o){f(),d.call(null,k,..._);return}r<64&&(r*=2);let E;a===1?(a=2,E=0):E=(r+Math.random())*1e3,h(E)}let v=!1;function S(k){v||(v=!0,f(),!c&&(i!==null?(k||(a=2),clearTimeout(i),h(0)):k||(a=1)))}return h(0),s=setTimeout(()=>{o=!0,S(!0)},n),S}function vB(e){e(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wB(e){return e!==void 0}function Vb(e,t,n,r){if(r<t)throw $b(`Invalid value for '${e}'. Expected ${t} or greater.`);if(r>n)throw $b(`Invalid value for '${e}'. Expected ${n} or less.`)}function _B(e){const t=encodeURIComponent;let n="?";for(const r in e)if(e.hasOwnProperty(r)){const i=t(r)+"="+t(e[r]);n=n+i+"&"}return n=n.slice(0,-1),n}var cf;(function(e){e[e.NO_ERROR=0]="NO_ERROR",e[e.NETWORK_ERROR=1]="NETWORK_ERROR",e[e.ABORT=2]="ABORT"})(cf||(cf={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xB(e,t){const n=e>=500&&e<600,i=[408,429].indexOf(e)!==-1,s=t.indexOf(e)!==-1;return n||i||s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EB{constructor(t,n,r,i,s,o,a,l,c,d,h,f=!0,g=!1){this.url_=t,this.method_=n,this.headers_=r,this.body_=i,this.successCodes_=s,this.additionalRetryCodes_=o,this.callback_=a,this.errorCallback_=l,this.timeout_=c,this.progressCallback_=d,this.connectionFactory_=h,this.retry=f,this.isUsingEmulator=g,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((v,S)=>{this.resolve_=v,this.reject_=S,this.start_()})}start_(){const t=(r,i)=>{if(i){r(!1,new _d(!1,null,!0));return}const s=this.connectionFactory_();this.pendingConnection_=s;const o=a=>{const l=a.loaded,c=a.lengthComputable?a.total:-1;this.progressCallback_!==null&&this.progressCallback_(l,c)};this.progressCallback_!==null&&s.addUploadProgressListener(o),s.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&s.removeUploadProgressListener(o),this.pendingConnection_=null;const a=s.getErrorCode()===cf.NO_ERROR,l=s.getStatus();if(!a||xB(l,this.additionalRetryCodes_)&&this.retry){const d=s.getErrorCode()===cf.ABORT;r(!1,new _d(!1,null,d));return}const c=this.successCodes_.indexOf(l)!==-1;r(!0,new _d(c,s))})},n=(r,i)=>{const s=this.resolve_,o=this.reject_,a=i.connection;if(i.wasSuccessCode)try{const l=this.callback_(a,a.getResponse());wB(l)?s(l):s()}catch(l){o(l)}else if(a!==null){const l=uB();l.serverResponse=a.getErrorText(),this.errorCallback_?o(this.errorCallback_(a,l)):o(l)}else if(i.canceled){const l=this.appDelete_?AR():hB();o(l)}else{const l=dB();o(l)}};this.canceled_?n(!1,new _d(!1,null,!0)):this.backoffId_=yB(t,n,this.timeout_)}getPromise(){return this.promise_}cancel(t){this.canceled_=!0,this.appDelete_=t||!1,this.backoffId_!==null&&vB(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class _d{constructor(t,n,r){this.wasSuccessCode=t,this.connection=n,this.canceled=!!r}}function bB(e,t){t!==null&&t.length>0&&(e.Authorization="Firebase "+t)}function CB(e,t){e["X-Firebase-Storage-Version"]="webjs/"+(t??"AppManager")}function SB(e,t){t&&(e["X-Firebase-GMPID"]=t)}function TB(e,t){t!==null&&(e["X-Firebase-AppCheck"]=t)}function kB(e,t,n,r,i,s,o=!0,a=!1){const l=_B(e.urlParams),c=e.url+l,d=Object.assign({},e.headers);return SB(d,t),bB(d,n),CB(d,s),TB(d,r),new EB(c,e.method,d,e.body,e.successCodes,e.additionalRetryCodes,e.handler,e.errorHandler,e.timeout,e.progressCallback,i,o,a)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IB(e){if(e.length===0)return null;const t=e.lastIndexOf("/");return t===-1?"":e.slice(0,t)}function PB(e){const t=e.lastIndexOf("/",e.length-2);return t===-1?e:e.slice(t+1)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uf{constructor(t,n){this._service=t,n instanceof er?this._location=n:this._location=er.makeFromUrl(n,t.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(t,n){return new uf(t,n)}get root(){const t=new er(this._location.bucket,"");return this._newRef(this._service,t)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return PB(this._location.path)}get storage(){return this._service}get parent(){const t=IB(this._location.path);if(t===null)return null;const n=new er(this._location.bucket,t);return new uf(this._service,n)}_throwIfRoot(t){if(this._location.path==="")throw mB(t)}}function Ub(e,t){const n=t==null?void 0:t[aB];return n==null?null:er.makeFromBucketSpec(n,e)}function RB(e,t,n,r={}){e.host=`${t}:${n}`;const i=uo(t);i&&(Wf(`https://${e.host}`),ds("Storage",!0)),e._isUsingEmulator=!0,e._protocol=i?"https":"http";const{mockUserToken:s}=r;s&&(e._overrideAuthToken=typeof s=="string"?s:tw(s,e.app.options.projectId))}class AB{constructor(t,n,r,i,s,o=!1){this.app=t,this._authProvider=n,this._appCheckProvider=r,this._url=i,this._firebaseVersion=s,this._isUsingEmulator=o,this._bucket=null,this._host=RR,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=lB,this._maxUploadRetryTime=cB,this._requests=new Set,i!=null?this._bucket=er.makeFromBucketSpec(i,this._host):this._bucket=Ub(this._host,this.app.options)}get host(){return this._host}set host(t){this._host=t,this._url!=null?this._bucket=er.makeFromBucketSpec(this._url,t):this._bucket=Ub(t,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(t){Vb("time",0,Number.POSITIVE_INFINITY,t),this._maxUploadRetryTime=t}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(t){Vb("time",0,Number.POSITIVE_INFINITY,t),this._maxOperationRetryTime=t}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const t=this._authProvider.getImmediate({optional:!0});if(t){const n=await t.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){if(Ot(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=this._appCheckProvider.getImmediate({optional:!0});return t?(await t.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(t=>t.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(t){return new uf(this,t)}_makeRequest(t,n,r,i,s=!0){if(this._deleted)return new gB(AR());{const o=kB(t,this._appId,r,i,n,this._firebaseVersion,s,this._isUsingEmulator);return this._requests.add(o),o.getPromise().then(()=>this._requests.delete(o),()=>this._requests.delete(o)),o}}async makeRequestWithTokens(t,n){const[r,i]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(t,n,r,i).getPromise()}}const Bb="@firebase/storage",zb="0.13.10";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NR="storage";function NB(e=pu(),t){e=it(e),ds("Storage",!1);const r=hs(e,NR).getImmediate({identifier:t}),i=ew("storage");return i&&DR(r,...i),r}function DR(e,t,n,r={}){RB(e,t,n,r)}function DB(e,{instanceIdentifier:t}){const n=e.getProvider("app").getImmediate(),r=e.getProvider("auth-internal"),i=e.getProvider("app-check-internal");return new AB(n,r,i,t,fs)}function OB(){xn(new cn(NR,DB,"PUBLIC").setMultipleInstances(!0)),mt(Bb,zb,""),mt(Bb,zb,"esm2017")}OB();var Wb=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var OR;(function(){var e;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function t(T,C){function I(){}I.prototype=C.prototype,T.D=C.prototype,T.prototype=new I,T.prototype.constructor=T,T.C=function(y,N,O){for(var A=Array(arguments.length-2),V=2;V<arguments.length;V++)A[V-2]=arguments[V];return C.prototype[N].apply(y,A)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}t(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(T,C,I){I||(I=0);var y=Array(16);if(typeof C=="string")for(var N=0;16>N;++N)y[N]=C.charCodeAt(I++)|C.charCodeAt(I++)<<8|C.charCodeAt(I++)<<16|C.charCodeAt(I++)<<24;else for(N=0;16>N;++N)y[N]=C[I++]|C[I++]<<8|C[I++]<<16|C[I++]<<24;C=T.g[0],I=T.g[1],N=T.g[2];var O=T.g[3],A=C+(O^I&(N^O))+y[0]+3614090360&4294967295;C=I+(A<<7&4294967295|A>>>25),A=O+(N^C&(I^N))+y[1]+3905402710&4294967295,O=C+(A<<12&4294967295|A>>>20),A=N+(I^O&(C^I))+y[2]+606105819&4294967295,N=O+(A<<17&4294967295|A>>>15),A=I+(C^N&(O^C))+y[3]+3250441966&4294967295,I=N+(A<<22&4294967295|A>>>10),A=C+(O^I&(N^O))+y[4]+4118548399&4294967295,C=I+(A<<7&4294967295|A>>>25),A=O+(N^C&(I^N))+y[5]+1200080426&4294967295,O=C+(A<<12&4294967295|A>>>20),A=N+(I^O&(C^I))+y[6]+2821735955&4294967295,N=O+(A<<17&4294967295|A>>>15),A=I+(C^N&(O^C))+y[7]+4249261313&4294967295,I=N+(A<<22&4294967295|A>>>10),A=C+(O^I&(N^O))+y[8]+1770035416&4294967295,C=I+(A<<7&4294967295|A>>>25),A=O+(N^C&(I^N))+y[9]+2336552879&4294967295,O=C+(A<<12&4294967295|A>>>20),A=N+(I^O&(C^I))+y[10]+4294925233&4294967295,N=O+(A<<17&4294967295|A>>>15),A=I+(C^N&(O^C))+y[11]+2304563134&4294967295,I=N+(A<<22&4294967295|A>>>10),A=C+(O^I&(N^O))+y[12]+1804603682&4294967295,C=I+(A<<7&4294967295|A>>>25),A=O+(N^C&(I^N))+y[13]+4254626195&4294967295,O=C+(A<<12&4294967295|A>>>20),A=N+(I^O&(C^I))+y[14]+2792965006&4294967295,N=O+(A<<17&4294967295|A>>>15),A=I+(C^N&(O^C))+y[15]+1236535329&4294967295,I=N+(A<<22&4294967295|A>>>10),A=C+(N^O&(I^N))+y[1]+4129170786&4294967295,C=I+(A<<5&4294967295|A>>>27),A=O+(I^N&(C^I))+y[6]+3225465664&4294967295,O=C+(A<<9&4294967295|A>>>23),A=N+(C^I&(O^C))+y[11]+643717713&4294967295,N=O+(A<<14&4294967295|A>>>18),A=I+(O^C&(N^O))+y[0]+3921069994&4294967295,I=N+(A<<20&4294967295|A>>>12),A=C+(N^O&(I^N))+y[5]+3593408605&4294967295,C=I+(A<<5&4294967295|A>>>27),A=O+(I^N&(C^I))+y[10]+38016083&4294967295,O=C+(A<<9&4294967295|A>>>23),A=N+(C^I&(O^C))+y[15]+3634488961&4294967295,N=O+(A<<14&4294967295|A>>>18),A=I+(O^C&(N^O))+y[4]+3889429448&4294967295,I=N+(A<<20&4294967295|A>>>12),A=C+(N^O&(I^N))+y[9]+568446438&4294967295,C=I+(A<<5&4294967295|A>>>27),A=O+(I^N&(C^I))+y[14]+3275163606&4294967295,O=C+(A<<9&4294967295|A>>>23),A=N+(C^I&(O^C))+y[3]+4107603335&4294967295,N=O+(A<<14&4294967295|A>>>18),A=I+(O^C&(N^O))+y[8]+1163531501&4294967295,I=N+(A<<20&4294967295|A>>>12),A=C+(N^O&(I^N))+y[13]+2850285829&4294967295,C=I+(A<<5&4294967295|A>>>27),A=O+(I^N&(C^I))+y[2]+4243563512&4294967295,O=C+(A<<9&4294967295|A>>>23),A=N+(C^I&(O^C))+y[7]+1735328473&4294967295,N=O+(A<<14&4294967295|A>>>18),A=I+(O^C&(N^O))+y[12]+2368359562&4294967295,I=N+(A<<20&4294967295|A>>>12),A=C+(I^N^O)+y[5]+4294588738&4294967295,C=I+(A<<4&4294967295|A>>>28),A=O+(C^I^N)+y[8]+2272392833&4294967295,O=C+(A<<11&4294967295|A>>>21),A=N+(O^C^I)+y[11]+1839030562&4294967295,N=O+(A<<16&4294967295|A>>>16),A=I+(N^O^C)+y[14]+4259657740&4294967295,I=N+(A<<23&4294967295|A>>>9),A=C+(I^N^O)+y[1]+2763975236&4294967295,C=I+(A<<4&4294967295|A>>>28),A=O+(C^I^N)+y[4]+1272893353&4294967295,O=C+(A<<11&4294967295|A>>>21),A=N+(O^C^I)+y[7]+4139469664&4294967295,N=O+(A<<16&4294967295|A>>>16),A=I+(N^O^C)+y[10]+3200236656&4294967295,I=N+(A<<23&4294967295|A>>>9),A=C+(I^N^O)+y[13]+681279174&4294967295,C=I+(A<<4&4294967295|A>>>28),A=O+(C^I^N)+y[0]+3936430074&4294967295,O=C+(A<<11&4294967295|A>>>21),A=N+(O^C^I)+y[3]+3572445317&4294967295,N=O+(A<<16&4294967295|A>>>16),A=I+(N^O^C)+y[6]+76029189&4294967295,I=N+(A<<23&4294967295|A>>>9),A=C+(I^N^O)+y[9]+3654602809&4294967295,C=I+(A<<4&4294967295|A>>>28),A=O+(C^I^N)+y[12]+3873151461&4294967295,O=C+(A<<11&4294967295|A>>>21),A=N+(O^C^I)+y[15]+530742520&4294967295,N=O+(A<<16&4294967295|A>>>16),A=I+(N^O^C)+y[2]+3299628645&4294967295,I=N+(A<<23&4294967295|A>>>9),A=C+(N^(I|~O))+y[0]+4096336452&4294967295,C=I+(A<<6&4294967295|A>>>26),A=O+(I^(C|~N))+y[7]+1126891415&4294967295,O=C+(A<<10&4294967295|A>>>22),A=N+(C^(O|~I))+y[14]+2878612391&4294967295,N=O+(A<<15&4294967295|A>>>17),A=I+(O^(N|~C))+y[5]+4237533241&4294967295,I=N+(A<<21&4294967295|A>>>11),A=C+(N^(I|~O))+y[12]+1700485571&4294967295,C=I+(A<<6&4294967295|A>>>26),A=O+(I^(C|~N))+y[3]+2399980690&4294967295,O=C+(A<<10&4294967295|A>>>22),A=N+(C^(O|~I))+y[10]+4293915773&4294967295,N=O+(A<<15&4294967295|A>>>17),A=I+(O^(N|~C))+y[1]+2240044497&4294967295,I=N+(A<<21&4294967295|A>>>11),A=C+(N^(I|~O))+y[8]+1873313359&4294967295,C=I+(A<<6&4294967295|A>>>26),A=O+(I^(C|~N))+y[15]+4264355552&4294967295,O=C+(A<<10&4294967295|A>>>22),A=N+(C^(O|~I))+y[6]+2734768916&4294967295,N=O+(A<<15&4294967295|A>>>17),A=I+(O^(N|~C))+y[13]+1309151649&4294967295,I=N+(A<<21&4294967295|A>>>11),A=C+(N^(I|~O))+y[4]+4149444226&4294967295,C=I+(A<<6&4294967295|A>>>26),A=O+(I^(C|~N))+y[11]+3174756917&4294967295,O=C+(A<<10&4294967295|A>>>22),A=N+(C^(O|~I))+y[2]+718787259&4294967295,N=O+(A<<15&4294967295|A>>>17),A=I+(O^(N|~C))+y[9]+3951481745&4294967295,T.g[0]=T.g[0]+C&4294967295,T.g[1]=T.g[1]+(N+(A<<21&4294967295|A>>>11))&4294967295,T.g[2]=T.g[2]+N&4294967295,T.g[3]=T.g[3]+O&4294967295}r.prototype.u=function(T,C){C===void 0&&(C=T.length);for(var I=C-this.blockSize,y=this.B,N=this.h,O=0;O<C;){if(N==0)for(;O<=I;)i(this,T,O),O+=this.blockSize;if(typeof T=="string"){for(;O<C;)if(y[N++]=T.charCodeAt(O++),N==this.blockSize){i(this,y),N=0;break}}else for(;O<C;)if(y[N++]=T[O++],N==this.blockSize){i(this,y),N=0;break}}this.h=N,this.o+=C},r.prototype.v=function(){var T=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);T[0]=128;for(var C=1;C<T.length-8;++C)T[C]=0;var I=8*this.o;for(C=T.length-8;C<T.length;++C)T[C]=I&255,I/=256;for(this.u(T),T=Array(16),C=I=0;4>C;++C)for(var y=0;32>y;y+=8)T[I++]=this.g[C]>>>y&255;return T};function s(T,C){var I=a;return Object.prototype.hasOwnProperty.call(I,T)?I[T]:I[T]=C(T)}function o(T,C){this.h=C;for(var I=[],y=!0,N=T.length-1;0<=N;N--){var O=T[N]|0;y&&O==C||(I[N]=O,y=!1)}this.g=I}var a={};function l(T){return-128<=T&&128>T?s(T,function(C){return new o([C|0],0>C?-1:0)}):new o([T|0],0>T?-1:0)}function c(T){if(isNaN(T)||!isFinite(T))return h;if(0>T)return k(c(-T));for(var C=[],I=1,y=0;T>=I;y++)C[y]=T/I|0,I*=4294967296;return new o(C,0)}function d(T,C){if(T.length==0)throw Error("number format error: empty string");if(C=C||10,2>C||36<C)throw Error("radix out of range: "+C);if(T.charAt(0)=="-")return k(d(T.substring(1),C));if(0<=T.indexOf("-"))throw Error('number format error: interior "-" character');for(var I=c(Math.pow(C,8)),y=h,N=0;N<T.length;N+=8){var O=Math.min(8,T.length-N),A=parseInt(T.substring(N,N+O),C);8>O?(O=c(Math.pow(C,O)),y=y.j(O).add(c(A))):(y=y.j(I),y=y.add(c(A)))}return y}var h=l(0),f=l(1),g=l(16777216);e=o.prototype,e.m=function(){if(S(this))return-k(this).m();for(var T=0,C=1,I=0;I<this.g.length;I++){var y=this.i(I);T+=(0<=y?y:4294967296+y)*C,C*=4294967296}return T},e.toString=function(T){if(T=T||10,2>T||36<T)throw Error("radix out of range: "+T);if(v(this))return"0";if(S(this))return"-"+k(this).toString(T);for(var C=c(Math.pow(T,6)),I=this,y="";;){var N=R(I,C).g;I=_(I,N.j(C));var O=((0<I.g.length?I.g[0]:I.h)>>>0).toString(T);if(I=N,v(I))return O+y;for(;6>O.length;)O="0"+O;y=O+y}},e.i=function(T){return 0>T?0:T<this.g.length?this.g[T]:this.h};function v(T){if(T.h!=0)return!1;for(var C=0;C<T.g.length;C++)if(T.g[C]!=0)return!1;return!0}function S(T){return T.h==-1}e.l=function(T){return T=_(this,T),S(T)?-1:v(T)?0:1};function k(T){for(var C=T.g.length,I=[],y=0;y<C;y++)I[y]=~T.g[y];return new o(I,~T.h).add(f)}e.abs=function(){return S(this)?k(this):this},e.add=function(T){for(var C=Math.max(this.g.length,T.g.length),I=[],y=0,N=0;N<=C;N++){var O=y+(this.i(N)&65535)+(T.i(N)&65535),A=(O>>>16)+(this.i(N)>>>16)+(T.i(N)>>>16);y=A>>>16,O&=65535,A&=65535,I[N]=A<<16|O}return new o(I,I[I.length-1]&-2147483648?-1:0)};function _(T,C){return T.add(k(C))}e.j=function(T){if(v(this)||v(T))return h;if(S(this))return S(T)?k(this).j(k(T)):k(k(this).j(T));if(S(T))return k(this.j(k(T)));if(0>this.l(g)&&0>T.l(g))return c(this.m()*T.m());for(var C=this.g.length+T.g.length,I=[],y=0;y<2*C;y++)I[y]=0;for(y=0;y<this.g.length;y++)for(var N=0;N<T.g.length;N++){var O=this.i(y)>>>16,A=this.i(y)&65535,V=T.i(N)>>>16,U=T.i(N)&65535;I[2*y+2*N]+=A*U,b(I,2*y+2*N),I[2*y+2*N+1]+=O*U,b(I,2*y+2*N+1),I[2*y+2*N+1]+=A*V,b(I,2*y+2*N+1),I[2*y+2*N+2]+=O*V,b(I,2*y+2*N+2)}for(y=0;y<C;y++)I[y]=I[2*y+1]<<16|I[2*y];for(y=C;y<2*C;y++)I[y]=0;return new o(I,0)};function b(T,C){for(;(T[C]&65535)!=T[C];)T[C+1]+=T[C]>>>16,T[C]&=65535,C++}function E(T,C){this.g=T,this.h=C}function R(T,C){if(v(C))throw Error("division by zero");if(v(T))return new E(h,h);if(S(T))return C=R(k(T),C),new E(k(C.g),k(C.h));if(S(C))return C=R(T,k(C)),new E(k(C.g),C.h);if(30<T.g.length){if(S(T)||S(C))throw Error("slowDivide_ only works with positive integers.");for(var I=f,y=C;0>=y.l(T);)I=D(I),y=D(y);var N=M(I,1),O=M(y,1);for(y=M(y,2),I=M(I,2);!v(y);){var A=O.add(y);0>=A.l(T)&&(N=N.add(I),O=A),y=M(y,1),I=M(I,1)}return C=_(T,N.j(C)),new E(N,C)}for(N=h;0<=T.l(C);){for(I=Math.max(1,Math.floor(T.m()/C.m())),y=Math.ceil(Math.log(I)/Math.LN2),y=48>=y?1:Math.pow(2,y-48),O=c(I),A=O.j(C);S(A)||0<A.l(T);)I-=y,O=c(I),A=O.j(C);v(O)&&(O=f),N=N.add(O),T=_(T,A)}return new E(N,T)}e.A=function(T){return R(this,T).h},e.and=function(T){for(var C=Math.max(this.g.length,T.g.length),I=[],y=0;y<C;y++)I[y]=this.i(y)&T.i(y);return new o(I,this.h&T.h)},e.or=function(T){for(var C=Math.max(this.g.length,T.g.length),I=[],y=0;y<C;y++)I[y]=this.i(y)|T.i(y);return new o(I,this.h|T.h)},e.xor=function(T){for(var C=Math.max(this.g.length,T.g.length),I=[],y=0;y<C;y++)I[y]=this.i(y)^T.i(y);return new o(I,this.h^T.h)};function D(T){for(var C=T.g.length+1,I=[],y=0;y<C;y++)I[y]=T.i(y)<<1|T.i(y-1)>>>31;return new o(I,T.h)}function M(T,C){var I=C>>5;C%=32;for(var y=T.g.length-I,N=[],O=0;O<y;O++)N[O]=0<C?T.i(O+I)>>>C|T.i(O+I+1)<<32-C:T.i(O+I);return new o(N,T.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=c,o.fromString=d,OR=o}).apply(typeof Wb<"u"?Wb:typeof self<"u"?self:typeof window<"u"?window:{});var xd=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};(function(){var e,t=typeof Object.defineProperties=="function"?Object.defineProperty:function(u,p,x){return u==Array.prototype||u==Object.prototype||(u[p]=x.value),u};function n(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof xd=="object"&&xd];for(var p=0;p<u.length;++p){var x=u[p];if(x&&x.Math==Math)return x}throw Error("Cannot find global object")}var r=n(this);function i(u,p){if(p)e:{var x=r;u=u.split(".");for(var P=0;P<u.length-1;P++){var L=u[P];if(!(L in x))break e;x=x[L]}u=u[u.length-1],P=x[u],p=p(P),p!=P&&p!=null&&t(x,u,{configurable:!0,writable:!0,value:p})}}function s(u,p){u instanceof String&&(u+="");var x=0,P=!1,L={next:function(){if(!P&&x<u.length){var j=x++;return{value:p(j,u[j]),done:!1}}return P=!0,{done:!0,value:void 0}}};return L[Symbol.iterator]=function(){return L},L}i("Array.prototype.values",function(u){return u||function(){return s(this,function(p,x){return x})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var o=o||{},a=this||self;function l(u){var p=typeof u;return p=p!="object"?p:u?Array.isArray(u)?"array":p:"null",p=="array"||p=="object"&&typeof u.length=="number"}function c(u){var p=typeof u;return p=="object"&&u!=null||p=="function"}function d(u,p,x){return u.call.apply(u.bind,arguments)}function h(u,p,x){if(!u)throw Error();if(2<arguments.length){var P=Array.prototype.slice.call(arguments,2);return function(){var L=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(L,P),u.apply(p,L)}}return function(){return u.apply(p,arguments)}}function f(u,p,x){return f=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?d:h,f.apply(null,arguments)}function g(u,p){var x=Array.prototype.slice.call(arguments,1);return function(){var P=x.slice();return P.push.apply(P,arguments),u.apply(this,P)}}function v(u,p){function x(){}x.prototype=p.prototype,u.aa=p.prototype,u.prototype=new x,u.prototype.constructor=u,u.Qb=function(P,L,j){for(var W=Array(arguments.length-2),be=2;be<arguments.length;be++)W[be-2]=arguments[be];return p.prototype[L].apply(P,W)}}function S(u){const p=u.length;if(0<p){const x=Array(p);for(let P=0;P<p;P++)x[P]=u[P];return x}return[]}function k(u,p){for(let x=1;x<arguments.length;x++){const P=arguments[x];if(l(P)){const L=u.length||0,j=P.length||0;u.length=L+j;for(let W=0;W<j;W++)u[L+W]=P[W]}else u.push(P)}}class _{constructor(p,x){this.i=p,this.j=x,this.h=0,this.g=null}get(){let p;return 0<this.h?(this.h--,p=this.g,this.g=p.next,p.next=null):p=this.i(),p}}function b(u){return/^[\s\xa0]*$/.test(u)}function E(){var u=a.navigator;return u&&(u=u.userAgent)?u:""}function R(u){return R[" "](u),u}R[" "]=function(){};var D=E().indexOf("Gecko")!=-1&&!(E().toLowerCase().indexOf("webkit")!=-1&&E().indexOf("Edge")==-1)&&!(E().indexOf("Trident")!=-1||E().indexOf("MSIE")!=-1)&&E().indexOf("Edge")==-1;function M(u,p,x){for(const P in u)p.call(x,u[P],P,u)}function T(u,p){for(const x in u)p.call(void 0,u[x],x,u)}function C(u){const p={};for(const x in u)p[x]=u[x];return p}const I="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function y(u,p){let x,P;for(let L=1;L<arguments.length;L++){P=arguments[L];for(x in P)u[x]=P[x];for(let j=0;j<I.length;j++)x=I[j],Object.prototype.hasOwnProperty.call(P,x)&&(u[x]=P[x])}}function N(u){var p=1;u=u.split(":");const x=[];for(;0<p&&u.length;)x.push(u.shift()),p--;return u.length&&x.push(u.join(":")),x}function O(u){a.setTimeout(()=>{throw u},0)}function A(){var u=K;let p=null;return u.g&&(p=u.g,u.g=u.g.next,u.g||(u.h=null),p.next=null),p}class V{constructor(){this.h=this.g=null}add(p,x){const P=U.get();P.set(p,x),this.h?this.h.next=P:this.g=P,this.h=P}}var U=new _(()=>new q,u=>u.reset());class q{constructor(){this.next=this.g=this.h=null}set(p,x){this.h=p,this.g=x,this.next=null}reset(){this.next=this.g=this.h=null}}let G,F=!1,K=new V,X=()=>{const u=a.Promise.resolve(void 0);G=()=>{u.then(ae)}};var ae=()=>{for(var u;u=A();){try{u.h.call(u.g)}catch(x){O(x)}var p=U;p.j(u),100>p.h&&(p.h++,u.next=p.g,p.g=u)}F=!1};function ie(){this.s=this.s,this.C=this.C}ie.prototype.s=!1,ie.prototype.ma=function(){this.s||(this.s=!0,this.N())},ie.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function H(u,p){this.type=u,this.g=this.target=p,this.defaultPrevented=!1}H.prototype.h=function(){this.defaultPrevented=!0};var J=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var u=!1,p=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const x=()=>{};a.addEventListener("test",x,p),a.removeEventListener("test",x,p)}catch{}return u}();function se(u,p){if(H.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u){var x=this.type=u.type,P=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;if(this.target=u.target||u.srcElement,this.g=p,p=u.relatedTarget){if(D){e:{try{R(p.nodeName);var L=!0;break e}catch{}L=!1}L||(p=null)}}else x=="mouseover"?p=u.fromElement:x=="mouseout"&&(p=u.toElement);this.relatedTarget=p,P?(this.clientX=P.clientX!==void 0?P.clientX:P.pageX,this.clientY=P.clientY!==void 0?P.clientY:P.pageY,this.screenX=P.screenX||0,this.screenY=P.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=typeof u.pointerType=="string"?u.pointerType:ce[u.pointerType]||"",this.state=u.state,this.i=u,u.defaultPrevented&&se.aa.h.call(this)}}v(se,H);var ce={2:"touch",3:"pen",4:"mouse"};se.prototype.h=function(){se.aa.h.call(this);var u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var oe="closure_listenable_"+(1e6*Math.random()|0),je=0;function Fe(u,p,x,P,L){this.listener=u,this.proxy=null,this.src=p,this.type=x,this.capture=!!P,this.ha=L,this.key=++je,this.da=this.fa=!1}function We(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function gt(u){this.src=u,this.g={},this.h=0}gt.prototype.add=function(u,p,x,P,L){var j=u.toString();u=this.g[j],u||(u=this.g[j]=[],this.h++);var W=jr(u,p,P,L);return-1<W?(p=u[W],x||(p.fa=!1)):(p=new Fe(p,this.src,j,!!P,L),p.fa=x,u.push(p)),p};function le(u,p){var x=p.type;if(x in u.g){var P=u.g[x],L=Array.prototype.indexOf.call(P,p,void 0),j;(j=0<=L)&&Array.prototype.splice.call(P,L,1),j&&(We(p),u.g[x].length==0&&(delete u.g[x],u.h--))}}function jr(u,p,x,P){for(var L=0;L<u.length;++L){var j=u[L];if(!j.da&&j.listener==p&&j.capture==!!x&&j.ha==P)return L}return-1}var yo="closure_lm_"+(1e6*Math.random()|0),zn={};function vo(u,p,x,P,L){if(P&&P.once)return Xa(u,p,x,P,L);if(Array.isArray(p)){for(var j=0;j<p.length;j++)vo(u,p[j],x,P,L);return null}return x=Kp(x),u&&u[oe]?u.K(p,x,c(P)?!!P.capture:!!P,L):ct(u,p,x,!1,P,L)}function ct(u,p,x,P,L,j){if(!p)throw Error("Invalid event type");var W=c(L)?!!L.capture:!!L,be=qp(u);if(be||(u[yo]=be=new gt(u)),x=be.add(p,x,P,W,j),x.proxy)return x;if(P=wi(),x.proxy=P,P.src=u,P.listener=x,u.addEventListener)J||(L=W),L===void 0&&(L=!1),u.addEventListener(p.toString(),P,L);else if(u.attachEvent)u.attachEvent(h1(p.toString()),P);else if(u.addListener&&u.removeListener)u.addListener(P);else throw Error("addEventListener and attachEvent are unavailable.");return x}function wi(){function u(x){return p.call(u.src,u.listener,x)}const p=HD;return u}function Xa(u,p,x,P,L){if(Array.isArray(p)){for(var j=0;j<p.length;j++)Xa(u,p[j],x,P,L);return null}return x=Kp(x),u&&u[oe]?u.L(p,x,c(P)?!!P.capture:!!P,L):ct(u,p,x,!0,P,L)}function Jt(u,p,x,P,L){if(Array.isArray(p))for(var j=0;j<p.length;j++)Jt(u,p[j],x,P,L);else P=c(P)?!!P.capture:!!P,x=Kp(x),u&&u[oe]?(u=u.i,p=String(p).toString(),p in u.g&&(j=u.g[p],x=jr(j,x,P,L),-1<x&&(We(j[x]),Array.prototype.splice.call(j,x,1),j.length==0&&(delete u.g[p],u.h--)))):u&&(u=qp(u))&&(p=u.g[p.toString()],u=-1,p&&(u=jr(p,x,P,L)),(x=-1<u?p[u]:null)&&hn(x))}function hn(u){if(typeof u!="number"&&u&&!u.da){var p=u.src;if(p&&p[oe])le(p.i,u);else{var x=u.type,P=u.proxy;p.removeEventListener?p.removeEventListener(x,P,u.capture):p.detachEvent?p.detachEvent(h1(x),P):p.addListener&&p.removeListener&&p.removeListener(P),(x=qp(p))?(le(x,u),x.h==0&&(x.src=null,p[yo]=null)):We(u)}}}function h1(u){return u in zn?zn[u]:zn[u]="on"+u}function HD(u,p){if(u.da)u=!0;else{p=new se(p,this);var x=u.listener,P=u.ha||u.src;u.fa&&hn(u),u=x.call(P,p)}return u}function qp(u){return u=u[yo],u instanceof gt?u:null}var Gp="__closure_events_fn_"+(1e9*Math.random()>>>0);function Kp(u){return typeof u=="function"?u:(u[Gp]||(u[Gp]=function(p){return u.handleEvent(p)}),u[Gp])}function Tt(){ie.call(this),this.i=new gt(this),this.M=this,this.F=null}v(Tt,ie),Tt.prototype[oe]=!0,Tt.prototype.removeEventListener=function(u,p,x,P){Jt(this,u,p,x,P)};function $t(u,p){var x,P=u.F;if(P)for(x=[];P;P=P.F)x.push(P);if(u=u.M,P=p.type||p,typeof p=="string")p=new H(p,u);else if(p instanceof H)p.target=p.target||u;else{var L=p;p=new H(P,u),y(p,L)}if(L=!0,x)for(var j=x.length-1;0<=j;j--){var W=p.g=x[j];L=$u(W,P,!0,p)&&L}if(W=p.g=u,L=$u(W,P,!0,p)&&L,L=$u(W,P,!1,p)&&L,x)for(j=0;j<x.length;j++)W=p.g=x[j],L=$u(W,P,!1,p)&&L}Tt.prototype.N=function(){if(Tt.aa.N.call(this),this.i){var u=this.i,p;for(p in u.g){for(var x=u.g[p],P=0;P<x.length;P++)We(x[P]);delete u.g[p],u.h--}}this.F=null},Tt.prototype.K=function(u,p,x,P){return this.i.add(String(u),p,!1,x,P)},Tt.prototype.L=function(u,p,x,P){return this.i.add(String(u),p,!0,x,P)};function $u(u,p,x,P){if(p=u.i.g[String(p)],!p)return!0;p=p.concat();for(var L=!0,j=0;j<p.length;++j){var W=p[j];if(W&&!W.da&&W.capture==x){var be=W.listener,yt=W.ha||W.src;W.fa&&le(u.i,W),L=be.call(yt,P)!==!1&&L}}return L&&!P.defaultPrevented}function f1(u,p,x){if(typeof u=="function")x&&(u=f(u,x));else if(u&&typeof u.handleEvent=="function")u=f(u.handleEvent,u);else throw Error("Invalid listener argument");return 2147483647<Number(p)?-1:a.setTimeout(u,p||0)}function p1(u){u.g=f1(()=>{u.g=null,u.i&&(u.i=!1,p1(u))},u.l);const p=u.h;u.h=null,u.m.apply(null,p)}class qD extends ie{constructor(p,x){super(),this.m=p,this.l=x,this.h=null,this.i=!1,this.g=null}j(p){this.h=arguments,this.g?this.i=!0:p1(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Ja(u){ie.call(this),this.h=u,this.g={}}v(Ja,ie);var m1=[];function g1(u){M(u.g,function(p,x){this.g.hasOwnProperty(x)&&hn(p)},u),u.g={}}Ja.prototype.N=function(){Ja.aa.N.call(this),g1(this)},Ja.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Yp=a.JSON.stringify,GD=a.JSON.parse,KD=class{stringify(u){return a.JSON.stringify(u,void 0)}parse(u){return a.JSON.parse(u,void 0)}};function Xp(){}Xp.prototype.h=null;function y1(u){return u.h||(u.h=u.i())}function YD(){}var Qa={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Jp(){H.call(this,"d")}v(Jp,H);function Qp(){H.call(this,"c")}v(Qp,H);var wo={},v1=null;function Zp(){return v1=v1||new Tt}wo.La="serverreachability";function w1(u){H.call(this,wo.La,u)}v(w1,H);function Za(u){const p=Zp();$t(p,new w1(p))}wo.STAT_EVENT="statevent";function _1(u,p){H.call(this,wo.STAT_EVENT,u),this.stat=p}v(_1,H);function Vt(u){const p=Zp();$t(p,new _1(p,u))}wo.Ma="timingevent";function x1(u,p){H.call(this,wo.Ma,u),this.size=p}v(x1,H);function el(u,p){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){u()},p)}function tl(){this.g=!0}tl.prototype.xa=function(){this.g=!1};function XD(u,p,x,P,L,j){u.info(function(){if(u.g)if(j)for(var W="",be=j.split("&"),yt=0;yt<be.length;yt++){var ge=be[yt].split("=");if(1<ge.length){var kt=ge[0];ge=ge[1];var It=kt.split("_");W=2<=It.length&&It[1]=="type"?W+(kt+"="+ge+"&"):W+(kt+"=redacted&")}}else W=null;else W=j;return"XMLHTTP REQ ("+P+") [attempt "+L+"]: "+p+`
`+x+`
`+W})}function JD(u,p,x,P,L,j,W){u.info(function(){return"XMLHTTP RESP ("+P+") [ attempt "+L+"]: "+p+`
`+x+`
`+j+" "+W})}function _o(u,p,x,P){u.info(function(){return"XMLHTTP TEXT ("+p+"): "+ZD(u,x)+(P?" "+P:"")})}function QD(u,p){u.info(function(){return"TIMEOUT: "+p})}tl.prototype.info=function(){};function ZD(u,p){if(!u.g)return p;if(!p)return null;try{var x=JSON.parse(p);if(x){for(u=0;u<x.length;u++)if(Array.isArray(x[u])){var P=x[u];if(!(2>P.length)){var L=P[1];if(Array.isArray(L)&&!(1>L.length)){var j=L[0];if(j!="noop"&&j!="stop"&&j!="close")for(var W=1;W<L.length;W++)L[W]=""}}}}return Yp(x)}catch{return p}}var em={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},eO={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},tm;function Vu(){}v(Vu,Xp),Vu.prototype.g=function(){return new XMLHttpRequest},Vu.prototype.i=function(){return{}},tm=new Vu;function _i(u,p,x,P){this.j=u,this.i=p,this.l=x,this.R=P||1,this.U=new Ja(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new E1}function E1(){this.i=null,this.g="",this.h=!1}var b1={},nm={};function rm(u,p,x){u.L=1,u.v=Wu(Fr(p)),u.m=x,u.P=!0,C1(u,null)}function C1(u,p){u.F=Date.now(),Uu(u),u.A=Fr(u.v);var x=u.A,P=u.R;Array.isArray(P)||(P=[String(P)]),F1(x.i,"t",P),u.C=0,x=u.j.J,u.h=new E1,u.g=nx(u.j,x?p:null,!u.m),0<u.O&&(u.M=new qD(f(u.Y,u,u.g),u.O)),p=u.U,x=u.g,P=u.ca;var L="readystatechange";Array.isArray(L)||(L&&(m1[0]=L.toString()),L=m1);for(var j=0;j<L.length;j++){var W=vo(x,L[j],P||p.handleEvent,!1,p.h||p);if(!W)break;p.g[W.key]=W}p=u.H?C(u.H):{},u.m?(u.u||(u.u="POST"),p["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.A,u.u,u.m,p)):(u.u="GET",u.g.ea(u.A,u.u,null,p)),Za(),XD(u.i,u.u,u.A,u.l,u.R,u.m)}_i.prototype.ca=function(u){u=u.target;const p=this.M;p&&$r(u)==3?p.j():this.Y(u)},_i.prototype.Y=function(u){try{if(u==this.g)e:{const It=$r(this.g);var p=this.g.Ba();const bo=this.g.Z();if(!(3>It)&&(It!=3||this.g&&(this.h.h||this.g.oa()||H1(this.g)))){this.J||It!=4||p==7||(p==8||0>=bo?Za(3):Za(2)),im(this);var x=this.g.Z();this.X=x;t:if(S1(this)){var P=H1(this.g);u="";var L=P.length,j=$r(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){gs(this),nl(this);var W="";break t}this.h.i=new a.TextDecoder}for(p=0;p<L;p++)this.h.h=!0,u+=this.h.i.decode(P[p],{stream:!(j&&p==L-1)});P.length=0,this.h.g+=u,this.C=0,W=this.h.g}else W=this.g.oa();if(this.o=x==200,JD(this.i,this.u,this.A,this.l,this.R,It,x),this.o){if(this.T&&!this.K){t:{if(this.g){var be,yt=this.g;if((be=yt.g?yt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!b(be)){var ge=be;break t}}ge=null}if(x=ge)_o(this.i,this.l,x,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,sm(this,x);else{this.o=!1,this.s=3,Vt(12),gs(this),nl(this);break e}}if(this.P){x=!0;let Wn;for(;!this.J&&this.C<W.length;)if(Wn=tO(this,W),Wn==nm){It==4&&(this.s=4,Vt(14),x=!1),_o(this.i,this.l,null,"[Incomplete Response]");break}else if(Wn==b1){this.s=4,Vt(15),_o(this.i,this.l,W,"[Invalid Chunk]"),x=!1;break}else _o(this.i,this.l,Wn,null),sm(this,Wn);if(S1(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),It!=4||W.length!=0||this.h.h||(this.s=1,Vt(16),x=!1),this.o=this.o&&x,!x)_o(this.i,this.l,W,"[Invalid Chunked Response]"),gs(this),nl(this);else if(0<W.length&&!this.W){this.W=!0;var kt=this.j;kt.g==this&&kt.ba&&!kt.M&&(kt.j.info("Great, no buffering proxy detected. Bytes received: "+W.length),dm(kt),kt.M=!0,Vt(11))}}else _o(this.i,this.l,W,null),sm(this,W);It==4&&gs(this),this.o&&!this.J&&(It==4?Q1(this.j,this):(this.o=!1,Uu(this)))}else vO(this.g),x==400&&0<W.indexOf("Unknown SID")?(this.s=3,Vt(12)):(this.s=0,Vt(13)),gs(this),nl(this)}}}catch{}finally{}};function S1(u){return u.g?u.u=="GET"&&u.L!=2&&u.j.Ca:!1}function tO(u,p){var x=u.C,P=p.indexOf(`
`,x);return P==-1?nm:(x=Number(p.substring(x,P)),isNaN(x)?b1:(P+=1,P+x>p.length?nm:(p=p.slice(P,P+x),u.C=P+x,p)))}_i.prototype.cancel=function(){this.J=!0,gs(this)};function Uu(u){u.S=Date.now()+u.I,T1(u,u.I)}function T1(u,p){if(u.B!=null)throw Error("WatchDog timer not null");u.B=el(f(u.ba,u),p)}function im(u){u.B&&(a.clearTimeout(u.B),u.B=null)}_i.prototype.ba=function(){this.B=null;const u=Date.now();0<=u-this.S?(QD(this.i,this.A),this.L!=2&&(Za(),Vt(17)),gs(this),this.s=2,nl(this)):T1(this,this.S-u)};function nl(u){u.j.G==0||u.J||Q1(u.j,u)}function gs(u){im(u);var p=u.M;p&&typeof p.ma=="function"&&p.ma(),u.M=null,g1(u.U),u.g&&(p=u.g,u.g=null,p.abort(),p.ma())}function sm(u,p){try{var x=u.j;if(x.G!=0&&(x.g==u||om(x.h,u))){if(!u.K&&om(x.h,u)&&x.G==3){try{var P=x.Da.g.parse(p)}catch{P=null}if(Array.isArray(P)&&P.length==3){var L=P;if(L[0]==0){e:if(!x.u){if(x.g)if(x.g.F+3e3<u.F)Xu(x),Ku(x);else break e;um(x),Vt(18)}}else x.za=L[1],0<x.za-x.T&&37500>L[2]&&x.F&&x.v==0&&!x.C&&(x.C=el(f(x.Za,x),6e3));if(1>=P1(x.h)&&x.ca){try{x.ca()}catch{}x.ca=void 0}}else vs(x,11)}else if((u.K||x.g==u)&&Xu(x),!b(p))for(L=x.Da.g.parse(p),p=0;p<L.length;p++){let ge=L[p];if(x.T=ge[0],ge=ge[1],x.G==2)if(ge[0]=="c"){x.K=ge[1],x.ia=ge[2];const kt=ge[3];kt!=null&&(x.la=kt,x.j.info("VER="+x.la));const It=ge[4];It!=null&&(x.Aa=It,x.j.info("SVER="+x.Aa));const bo=ge[5];bo!=null&&typeof bo=="number"&&0<bo&&(P=1.5*bo,x.L=P,x.j.info("backChannelRequestTimeoutMs_="+P)),P=x;const Wn=u.g;if(Wn){const Ju=Wn.g?Wn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Ju){var j=P.h;j.g||Ju.indexOf("spdy")==-1&&Ju.indexOf("quic")==-1&&Ju.indexOf("h2")==-1||(j.j=j.l,j.g=new Set,j.h&&(am(j,j.h),j.h=null))}if(P.D){const hm=Wn.g?Wn.g.getResponseHeader("X-HTTP-Session-Id"):null;hm&&(P.ya=hm,Ae(P.I,P.D,hm))}}x.G=3,x.l&&x.l.ua(),x.ba&&(x.R=Date.now()-u.F,x.j.info("Handshake RTT: "+x.R+"ms")),P=x;var W=u;if(P.qa=tx(P,P.J?P.ia:null,P.W),W.K){R1(P.h,W);var be=W,yt=P.L;yt&&(be.I=yt),be.B&&(im(be),Uu(be)),P.g=W}else X1(P);0<x.i.length&&Yu(x)}else ge[0]!="stop"&&ge[0]!="close"||vs(x,7);else x.G==3&&(ge[0]=="stop"||ge[0]=="close"?ge[0]=="stop"?vs(x,7):cm(x):ge[0]!="noop"&&x.l&&x.l.ta(ge),x.v=0)}}Za(4)}catch{}}var nO=class{constructor(u,p){this.g=u,this.map=p}};function k1(u){this.l=u||10,a.PerformanceNavigationTiming?(u=a.performance.getEntriesByType("navigation"),u=0<u.length&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function I1(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function P1(u){return u.h?1:u.g?u.g.size:0}function om(u,p){return u.h?u.h==p:u.g?u.g.has(p):!1}function am(u,p){u.g?u.g.add(p):u.h=p}function R1(u,p){u.h&&u.h==p?u.h=null:u.g&&u.g.has(p)&&u.g.delete(p)}k1.prototype.cancel=function(){if(this.i=A1(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function A1(u){if(u.h!=null)return u.i.concat(u.h.D);if(u.g!=null&&u.g.size!==0){let p=u.i;for(const x of u.g.values())p=p.concat(x.D);return p}return S(u.i)}function rO(u){if(u.V&&typeof u.V=="function")return u.V();if(typeof Map<"u"&&u instanceof Map||typeof Set<"u"&&u instanceof Set)return Array.from(u.values());if(typeof u=="string")return u.split("");if(l(u)){for(var p=[],x=u.length,P=0;P<x;P++)p.push(u[P]);return p}p=[],x=0;for(P in u)p[x++]=u[P];return p}function iO(u){if(u.na&&typeof u.na=="function")return u.na();if(!u.V||typeof u.V!="function"){if(typeof Map<"u"&&u instanceof Map)return Array.from(u.keys());if(!(typeof Set<"u"&&u instanceof Set)){if(l(u)||typeof u=="string"){var p=[];u=u.length;for(var x=0;x<u;x++)p.push(x);return p}p=[],x=0;for(const P in u)p[x++]=P;return p}}}function N1(u,p){if(u.forEach&&typeof u.forEach=="function")u.forEach(p,void 0);else if(l(u)||typeof u=="string")Array.prototype.forEach.call(u,p,void 0);else for(var x=iO(u),P=rO(u),L=P.length,j=0;j<L;j++)p.call(void 0,P[j],x&&x[j],u)}var D1=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function sO(u,p){if(u){u=u.split("&");for(var x=0;x<u.length;x++){var P=u[x].indexOf("="),L=null;if(0<=P){var j=u[x].substring(0,P);L=u[x].substring(P+1)}else j=u[x];p(j,L?decodeURIComponent(L.replace(/\+/g," ")):"")}}}function ys(u){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,u instanceof ys){this.h=u.h,Bu(this,u.j),this.o=u.o,this.g=u.g,zu(this,u.s),this.l=u.l;var p=u.i,x=new sl;x.i=p.i,p.g&&(x.g=new Map(p.g),x.h=p.h),O1(this,x),this.m=u.m}else u&&(p=String(u).match(D1))?(this.h=!1,Bu(this,p[1]||"",!0),this.o=rl(p[2]||""),this.g=rl(p[3]||"",!0),zu(this,p[4]),this.l=rl(p[5]||"",!0),O1(this,p[6]||"",!0),this.m=rl(p[7]||"")):(this.h=!1,this.i=new sl(null,this.h))}ys.prototype.toString=function(){var u=[],p=this.j;p&&u.push(il(p,M1,!0),":");var x=this.g;return(x||p=="file")&&(u.push("//"),(p=this.o)&&u.push(il(p,M1,!0),"@"),u.push(encodeURIComponent(String(x)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),x=this.s,x!=null&&u.push(":",String(x))),(x=this.l)&&(this.g&&x.charAt(0)!="/"&&u.push("/"),u.push(il(x,x.charAt(0)=="/"?lO:aO,!0))),(x=this.i.toString())&&u.push("?",x),(x=this.m)&&u.push("#",il(x,uO)),u.join("")};function Fr(u){return new ys(u)}function Bu(u,p,x){u.j=x?rl(p,!0):p,u.j&&(u.j=u.j.replace(/:$/,""))}function zu(u,p){if(p){if(p=Number(p),isNaN(p)||0>p)throw Error("Bad port number "+p);u.s=p}else u.s=null}function O1(u,p,x){p instanceof sl?(u.i=p,dO(u.i,u.h)):(x||(p=il(p,cO)),u.i=new sl(p,u.h))}function Ae(u,p,x){u.i.set(p,x)}function Wu(u){return Ae(u,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),u}function rl(u,p){return u?p?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function il(u,p,x){return typeof u=="string"?(u=encodeURI(u).replace(p,oO),x&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function oO(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var M1=/[#\/\?@]/g,aO=/[#\?:]/g,lO=/[#\?]/g,cO=/[#\?@]/g,uO=/#/g;function sl(u,p){this.h=this.g=null,this.i=u||null,this.j=!!p}function xi(u){u.g||(u.g=new Map,u.h=0,u.i&&sO(u.i,function(p,x){u.add(decodeURIComponent(p.replace(/\+/g," ")),x)}))}e=sl.prototype,e.add=function(u,p){xi(this),this.i=null,u=xo(this,u);var x=this.g.get(u);return x||this.g.set(u,x=[]),x.push(p),this.h+=1,this};function L1(u,p){xi(u),p=xo(u,p),u.g.has(p)&&(u.i=null,u.h-=u.g.get(p).length,u.g.delete(p))}function j1(u,p){return xi(u),p=xo(u,p),u.g.has(p)}e.forEach=function(u,p){xi(this),this.g.forEach(function(x,P){x.forEach(function(L){u.call(p,L,P,this)},this)},this)},e.na=function(){xi(this);const u=Array.from(this.g.values()),p=Array.from(this.g.keys()),x=[];for(let P=0;P<p.length;P++){const L=u[P];for(let j=0;j<L.length;j++)x.push(p[P])}return x},e.V=function(u){xi(this);let p=[];if(typeof u=="string")j1(this,u)&&(p=p.concat(this.g.get(xo(this,u))));else{u=Array.from(this.g.values());for(let x=0;x<u.length;x++)p=p.concat(u[x])}return p},e.set=function(u,p){return xi(this),this.i=null,u=xo(this,u),j1(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[p]),this.h+=1,this},e.get=function(u,p){return u?(u=this.V(u),0<u.length?String(u[0]):p):p};function F1(u,p,x){L1(u,p),0<x.length&&(u.i=null,u.g.set(xo(u,p),S(x)),u.h+=x.length)}e.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],p=Array.from(this.g.keys());for(var x=0;x<p.length;x++){var P=p[x];const j=encodeURIComponent(String(P)),W=this.V(P);for(P=0;P<W.length;P++){var L=j;W[P]!==""&&(L+="="+encodeURIComponent(String(W[P]))),u.push(L)}}return this.i=u.join("&")};function xo(u,p){return p=String(p),u.j&&(p=p.toLowerCase()),p}function dO(u,p){p&&!u.j&&(xi(u),u.i=null,u.g.forEach(function(x,P){var L=P.toLowerCase();P!=L&&(L1(this,P),F1(this,L,x))},u)),u.j=p}function hO(u,p){const x=new tl;if(a.Image){const P=new Image;P.onload=g(Ei,x,"TestLoadImage: loaded",!0,p,P),P.onerror=g(Ei,x,"TestLoadImage: error",!1,p,P),P.onabort=g(Ei,x,"TestLoadImage: abort",!1,p,P),P.ontimeout=g(Ei,x,"TestLoadImage: timeout",!1,p,P),a.setTimeout(function(){P.ontimeout&&P.ontimeout()},1e4),P.src=u}else p(!1)}function fO(u,p){const x=new tl,P=new AbortController,L=setTimeout(()=>{P.abort(),Ei(x,"TestPingServer: timeout",!1,p)},1e4);fetch(u,{signal:P.signal}).then(j=>{clearTimeout(L),j.ok?Ei(x,"TestPingServer: ok",!0,p):Ei(x,"TestPingServer: server error",!1,p)}).catch(()=>{clearTimeout(L),Ei(x,"TestPingServer: error",!1,p)})}function Ei(u,p,x,P,L){try{L&&(L.onload=null,L.onerror=null,L.onabort=null,L.ontimeout=null),P(x)}catch{}}function pO(){this.g=new KD}function mO(u,p,x){const P=x||"";try{N1(u,function(L,j){let W=L;c(L)&&(W=Yp(L)),p.push(P+j+"="+encodeURIComponent(W))})}catch(L){throw p.push(P+"type="+encodeURIComponent("_badmap")),L}}function Hu(u){this.l=u.Ub||null,this.j=u.eb||!1}v(Hu,Xp),Hu.prototype.g=function(){return new qu(this.l,this.j)},Hu.prototype.i=function(u){return function(){return u}}({});function qu(u,p){Tt.call(this),this.D=u,this.o=p,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}v(qu,Tt),e=qu.prototype,e.open=function(u,p){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=u,this.A=p,this.readyState=1,al(this)},e.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const p={headers:this.u,method:this.B,credentials:this.m,cache:void 0};u&&(p.body=u),(this.D||a).fetch(new Request(this.A,p)).then(this.Sa.bind(this),this.ga.bind(this))},e.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,ol(this)),this.readyState=0},e.Sa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,al(this)),this.g&&(this.readyState=3,al(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;$1(this)}else u.text().then(this.Ra.bind(this),this.ga.bind(this))};function $1(u){u.j.read().then(u.Pa.bind(u)).catch(u.ga.bind(u))}e.Pa=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var p=u.value?u.value:new Uint8Array(0);(p=this.v.decode(p,{stream:!u.done}))&&(this.response=this.responseText+=p)}u.done?ol(this):al(this),this.readyState==3&&$1(this)}},e.Ra=function(u){this.g&&(this.response=this.responseText=u,ol(this))},e.Qa=function(u){this.g&&(this.response=u,ol(this))},e.ga=function(){this.g&&ol(this)};function ol(u){u.readyState=4,u.l=null,u.j=null,u.v=null,al(u)}e.setRequestHeader=function(u,p){this.u.append(u,p)},e.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},e.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],p=this.h.entries();for(var x=p.next();!x.done;)x=x.value,u.push(x[0]+": "+x[1]),x=p.next();return u.join(`\r
`)};function al(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(qu.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function V1(u){let p="";return M(u,function(x,P){p+=P,p+=":",p+=x,p+=`\r
`}),p}function lm(u,p,x){e:{for(P in x){var P=!1;break e}P=!0}P||(x=V1(x),typeof u=="string"?x!=null&&encodeURIComponent(String(x)):Ae(u,p,x))}function Je(u){Tt.call(this),this.headers=new Map,this.o=u||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}v(Je,Tt);var gO=/^https?$/i,yO=["POST","PUT"];e=Je.prototype,e.Ha=function(u){this.J=u},e.ea=function(u,p,x,P){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);p=p?p.toUpperCase():"GET",this.D=u,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():tm.g(),this.v=this.o?y1(this.o):y1(tm),this.g.onreadystatechange=f(this.Ea,this);try{this.B=!0,this.g.open(p,String(u),!0),this.B=!1}catch(j){U1(this,j);return}if(u=x||"",x=new Map(this.headers),P)if(Object.getPrototypeOf(P)===Object.prototype)for(var L in P)x.set(L,P[L]);else if(typeof P.keys=="function"&&typeof P.get=="function")for(const j of P.keys())x.set(j,P.get(j));else throw Error("Unknown input type for opt_headers: "+String(P));P=Array.from(x.keys()).find(j=>j.toLowerCase()=="content-type"),L=a.FormData&&u instanceof a.FormData,!(0<=Array.prototype.indexOf.call(yO,p,void 0))||P||L||x.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[j,W]of x)this.g.setRequestHeader(j,W);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{W1(this),this.u=!0,this.g.send(u),this.u=!1}catch(j){U1(this,j)}};function U1(u,p){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=p,u.m=5,B1(u),Gu(u)}function B1(u){u.A||(u.A=!0,$t(u,"complete"),$t(u,"error"))}e.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=u||7,$t(this,"complete"),$t(this,"abort"),Gu(this))},e.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Gu(this,!0)),Je.aa.N.call(this)},e.Ea=function(){this.s||(this.B||this.u||this.j?z1(this):this.bb())},e.bb=function(){z1(this)};function z1(u){if(u.h&&typeof o<"u"&&(!u.v[1]||$r(u)!=4||u.Z()!=2)){if(u.u&&$r(u)==4)f1(u.Ea,0,u);else if($t(u,"readystatechange"),$r(u)==4){u.h=!1;try{const W=u.Z();e:switch(W){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var p=!0;break e;default:p=!1}var x;if(!(x=p)){var P;if(P=W===0){var L=String(u.D).match(D1)[1]||null;!L&&a.self&&a.self.location&&(L=a.self.location.protocol.slice(0,-1)),P=!gO.test(L?L.toLowerCase():"")}x=P}if(x)$t(u,"complete"),$t(u,"success");else{u.m=6;try{var j=2<$r(u)?u.g.statusText:""}catch{j=""}u.l=j+" ["+u.Z()+"]",B1(u)}}finally{Gu(u)}}}}function Gu(u,p){if(u.g){W1(u);const x=u.g,P=u.v[0]?()=>{}:null;u.g=null,u.v=null,p||$t(u,"ready");try{x.onreadystatechange=P}catch{}}}function W1(u){u.I&&(a.clearTimeout(u.I),u.I=null)}e.isActive=function(){return!!this.g};function $r(u){return u.g?u.g.readyState:0}e.Z=function(){try{return 2<$r(this)?this.g.status:-1}catch{return-1}},e.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},e.Oa=function(u){if(this.g){var p=this.g.responseText;return u&&p.indexOf(u)==0&&(p=p.substring(u.length)),GD(p)}};function H1(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.H){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function vO(u){const p={};u=(u.g&&2<=$r(u)&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let P=0;P<u.length;P++){if(b(u[P]))continue;var x=N(u[P]);const L=x[0];if(x=x[1],typeof x!="string")continue;x=x.trim();const j=p[L]||[];p[L]=j,j.push(x)}T(p,function(P){return P.join(", ")})}e.Ba=function(){return this.m},e.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function ll(u,p,x){return x&&x.internalChannelParams&&x.internalChannelParams[u]||p}function q1(u){this.Aa=0,this.i=[],this.j=new tl,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=ll("failFast",!1,u),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=ll("baseRetryDelayMs",5e3,u),this.cb=ll("retryDelaySeedMs",1e4,u),this.Wa=ll("forwardChannelMaxRetries",2,u),this.wa=ll("forwardChannelRequestTimeoutMs",2e4,u),this.pa=u&&u.xmlHttpFactory||void 0,this.Xa=u&&u.Tb||void 0,this.Ca=u&&u.useFetchStreams||!1,this.L=void 0,this.J=u&&u.supportsCrossDomainXhr||!1,this.K="",this.h=new k1(u&&u.concurrentRequestLimit),this.Da=new pO,this.P=u&&u.fastHandshake||!1,this.O=u&&u.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=u&&u.Rb||!1,u&&u.xa&&this.j.xa(),u&&u.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&u&&u.detectBufferingProxy||!1,this.ja=void 0,u&&u.longPollingTimeout&&0<u.longPollingTimeout&&(this.ja=u.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}e=q1.prototype,e.la=8,e.G=1,e.connect=function(u,p,x,P){Vt(0),this.W=u,this.H=p||{},x&&P!==void 0&&(this.H.OSID=x,this.H.OAID=P),this.F=this.X,this.I=tx(this,null,this.W),Yu(this)};function cm(u){if(G1(u),u.G==3){var p=u.U++,x=Fr(u.I);if(Ae(x,"SID",u.K),Ae(x,"RID",p),Ae(x,"TYPE","terminate"),cl(u,x),p=new _i(u,u.j,p),p.L=2,p.v=Wu(Fr(x)),x=!1,a.navigator&&a.navigator.sendBeacon)try{x=a.navigator.sendBeacon(p.v.toString(),"")}catch{}!x&&a.Image&&(new Image().src=p.v,x=!0),x||(p.g=nx(p.j,null),p.g.ea(p.v)),p.F=Date.now(),Uu(p)}ex(u)}function Ku(u){u.g&&(dm(u),u.g.cancel(),u.g=null)}function G1(u){Ku(u),u.u&&(a.clearTimeout(u.u),u.u=null),Xu(u),u.h.cancel(),u.s&&(typeof u.s=="number"&&a.clearTimeout(u.s),u.s=null)}function Yu(u){if(!I1(u.h)&&!u.s){u.s=!0;var p=u.Ga;G||X(),F||(G(),F=!0),K.add(p,u),u.B=0}}function wO(u,p){return P1(u.h)>=u.h.j-(u.s?1:0)?!1:u.s?(u.i=p.D.concat(u.i),!0):u.G==1||u.G==2||u.B>=(u.Va?0:u.Wa)?!1:(u.s=el(f(u.Ga,u,p),Z1(u,u.B)),u.B++,!0)}e.Ga=function(u){if(this.s)if(this.s=null,this.G==1){if(!u){this.U=Math.floor(1e5*Math.random()),u=this.U++;const L=new _i(this,this.j,u);let j=this.o;if(this.S&&(j?(j=C(j),y(j,this.S)):j=this.S),this.m!==null||this.O||(L.H=j,j=null),this.P)e:{for(var p=0,x=0;x<this.i.length;x++){t:{var P=this.i[x];if("__data__"in P.map&&(P=P.map.__data__,typeof P=="string")){P=P.length;break t}P=void 0}if(P===void 0)break;if(p+=P,4096<p){p=x;break e}if(p===4096||x===this.i.length-1){p=x+1;break e}}p=1e3}else p=1e3;p=Y1(this,L,p),x=Fr(this.I),Ae(x,"RID",u),Ae(x,"CVER",22),this.D&&Ae(x,"X-HTTP-Session-Id",this.D),cl(this,x),j&&(this.O?p="headers="+encodeURIComponent(String(V1(j)))+"&"+p:this.m&&lm(x,this.m,j)),am(this.h,L),this.Ua&&Ae(x,"TYPE","init"),this.P?(Ae(x,"$req",p),Ae(x,"SID","null"),L.T=!0,rm(L,x,null)):rm(L,x,p),this.G=2}}else this.G==3&&(u?K1(this,u):this.i.length==0||I1(this.h)||K1(this))};function K1(u,p){var x;p?x=p.l:x=u.U++;const P=Fr(u.I);Ae(P,"SID",u.K),Ae(P,"RID",x),Ae(P,"AID",u.T),cl(u,P),u.m&&u.o&&lm(P,u.m,u.o),x=new _i(u,u.j,x,u.B+1),u.m===null&&(x.H=u.o),p&&(u.i=p.D.concat(u.i)),p=Y1(u,x,1e3),x.I=Math.round(.5*u.wa)+Math.round(.5*u.wa*Math.random()),am(u.h,x),rm(x,P,p)}function cl(u,p){u.H&&M(u.H,function(x,P){Ae(p,P,x)}),u.l&&N1({},function(x,P){Ae(p,P,x)})}function Y1(u,p,x){x=Math.min(u.i.length,x);var P=u.l?f(u.l.Na,u.l,u):null;e:{var L=u.i;let j=-1;for(;;){const W=["count="+x];j==-1?0<x?(j=L[0].g,W.push("ofs="+j)):j=0:W.push("ofs="+j);let be=!0;for(let yt=0;yt<x;yt++){let ge=L[yt].g;const kt=L[yt].map;if(ge-=j,0>ge)j=Math.max(0,L[yt].g-100),be=!1;else try{mO(kt,W,"req"+ge+"_")}catch{P&&P(kt)}}if(be){P=W.join("&");break e}}}return u=u.i.splice(0,x),p.D=u,P}function X1(u){if(!u.g&&!u.u){u.Y=1;var p=u.Fa;G||X(),F||(G(),F=!0),K.add(p,u),u.v=0}}function um(u){return u.g||u.u||3<=u.v?!1:(u.Y++,u.u=el(f(u.Fa,u),Z1(u,u.v)),u.v++,!0)}e.Fa=function(){if(this.u=null,J1(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var u=2*this.R;this.j.info("BP detection timer enabled: "+u),this.A=el(f(this.ab,this),u)}},e.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Vt(10),Ku(this),J1(this))};function dm(u){u.A!=null&&(a.clearTimeout(u.A),u.A=null)}function J1(u){u.g=new _i(u,u.j,"rpc",u.Y),u.m===null&&(u.g.H=u.o),u.g.O=0;var p=Fr(u.qa);Ae(p,"RID","rpc"),Ae(p,"SID",u.K),Ae(p,"AID",u.T),Ae(p,"CI",u.F?"0":"1"),!u.F&&u.ja&&Ae(p,"TO",u.ja),Ae(p,"TYPE","xmlhttp"),cl(u,p),u.m&&u.o&&lm(p,u.m,u.o),u.L&&(u.g.I=u.L);var x=u.g;u=u.ia,x.L=1,x.v=Wu(Fr(p)),x.m=null,x.P=!0,C1(x,u)}e.Za=function(){this.C!=null&&(this.C=null,Ku(this),um(this),Vt(19))};function Xu(u){u.C!=null&&(a.clearTimeout(u.C),u.C=null)}function Q1(u,p){var x=null;if(u.g==p){Xu(u),dm(u),u.g=null;var P=2}else if(om(u.h,p))x=p.D,R1(u.h,p),P=1;else return;if(u.G!=0){if(p.o)if(P==1){x=p.m?p.m.length:0,p=Date.now()-p.F;var L=u.B;P=Zp(),$t(P,new x1(P,x)),Yu(u)}else X1(u);else if(L=p.s,L==3||L==0&&0<p.X||!(P==1&&wO(u,p)||P==2&&um(u)))switch(x&&0<x.length&&(p=u.h,p.i=p.i.concat(x)),L){case 1:vs(u,5);break;case 4:vs(u,10);break;case 3:vs(u,6);break;default:vs(u,2)}}}function Z1(u,p){let x=u.Ta+Math.floor(Math.random()*u.cb);return u.isActive()||(x*=2),x*p}function vs(u,p){if(u.j.info("Error code "+p),p==2){var x=f(u.fb,u),P=u.Xa;const L=!P;P=new ys(P||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||Bu(P,"https"),Wu(P),L?hO(P.toString(),x):fO(P.toString(),x)}else Vt(2);u.G=0,u.l&&u.l.sa(p),ex(u),G1(u)}e.fb=function(u){u?(this.j.info("Successfully pinged google.com"),Vt(2)):(this.j.info("Failed to ping google.com"),Vt(1))};function ex(u){if(u.G=0,u.ka=[],u.l){const p=A1(u.h);(p.length!=0||u.i.length!=0)&&(k(u.ka,p),k(u.ka,u.i),u.h.i.length=0,S(u.i),u.i.length=0),u.l.ra()}}function tx(u,p,x){var P=x instanceof ys?Fr(x):new ys(x);if(P.g!="")p&&(P.g=p+"."+P.g),zu(P,P.s);else{var L=a.location;P=L.protocol,p=p?p+"."+L.hostname:L.hostname,L=+L.port;var j=new ys(null);P&&Bu(j,P),p&&(j.g=p),L&&zu(j,L),x&&(j.l=x),P=j}return x=u.D,p=u.ya,x&&p&&Ae(P,x,p),Ae(P,"VER",u.la),cl(u,P),P}function nx(u,p,x){if(p&&!u.J)throw Error("Can't create secondary domain capable XhrIo object.");return p=u.Ca&&!u.pa?new Je(new Hu({eb:x})):new Je(u.pa),p.Ha(u.J),p}e.isActive=function(){return!!this.l&&this.l.isActive(this)};function rx(){}e=rx.prototype,e.ua=function(){},e.ta=function(){},e.sa=function(){},e.ra=function(){},e.isActive=function(){return!0},e.Na=function(){};function Cn(u,p){Tt.call(this),this.g=new q1(p),this.l=u,this.h=p&&p.messageUrlParams||null,u=p&&p.messageHeaders||null,p&&p.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=p&&p.initMessageHeaders||null,p&&p.messageContentType&&(u?u["X-WebChannel-Content-Type"]=p.messageContentType:u={"X-WebChannel-Content-Type":p.messageContentType}),p&&p.va&&(u?u["X-WebChannel-Client-Profile"]=p.va:u={"X-WebChannel-Client-Profile":p.va}),this.g.S=u,(u=p&&p.Sb)&&!b(u)&&(this.g.m=u),this.v=p&&p.supportsCrossDomainXhr||!1,this.u=p&&p.sendRawJson||!1,(p=p&&p.httpSessionIdParam)&&!b(p)&&(this.g.D=p,u=this.h,u!==null&&p in u&&(u=this.h,p in u&&delete u[p])),this.j=new Eo(this)}v(Cn,Tt),Cn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Cn.prototype.close=function(){cm(this.g)},Cn.prototype.o=function(u){var p=this.g;if(typeof u=="string"){var x={};x.__data__=u,u=x}else this.u&&(x={},x.__data__=Yp(u),u=x);p.i.push(new nO(p.Ya++,u)),p.G==3&&Yu(p)},Cn.prototype.N=function(){this.g.l=null,delete this.j,cm(this.g),delete this.g,Cn.aa.N.call(this)};function ix(u){Jp.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var p=u.__sm__;if(p){e:{for(const x in p){u=x;break e}u=void 0}(this.i=u)&&(u=this.i,p=p!==null&&u in p?p[u]:void 0),this.data=p}else this.data=u}v(ix,Jp);function sx(){Qp.call(this),this.status=1}v(sx,Qp);function Eo(u){this.g=u}v(Eo,rx),Eo.prototype.ua=function(){$t(this.g,"a")},Eo.prototype.ta=function(u){$t(this.g,new ix(u))},Eo.prototype.sa=function(u){$t(this.g,new sx)},Eo.prototype.ra=function(){$t(this.g,"b")},Cn.prototype.send=Cn.prototype.o,Cn.prototype.open=Cn.prototype.m,Cn.prototype.close=Cn.prototype.close,em.NO_ERROR=0,em.TIMEOUT=8,em.HTTP_ERROR=6,eO.COMPLETE="complete",YD.EventType=Qa,Qa.OPEN="a",Qa.CLOSE="b",Qa.ERROR="c",Qa.MESSAGE="d",Tt.prototype.listen=Tt.prototype.K,Je.prototype.listenOnce=Je.prototype.L,Je.prototype.getLastError=Je.prototype.Ka,Je.prototype.getLastErrorCode=Je.prototype.Ba,Je.prototype.getStatus=Je.prototype.Z,Je.prototype.getResponseJson=Je.prototype.Oa,Je.prototype.getResponseText=Je.prototype.oa,Je.prototype.send=Je.prototype.ea,Je.prototype.setWithCredentials=Je.prototype.Ha}).apply(typeof xd<"u"?xd:typeof self<"u"?self:typeof window<"u"?window:{});const Hb="@firebase/firestore",qb="4.7.14";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zt{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}zt.UNAUTHENTICATED=new zt(null),zt.GOOGLE_CREDENTIALS=new zt("google-credentials-uid"),zt.FIRST_PARTY=new zt("first-party-uid"),zt.MOCK_USER=new zt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Tu="11.7.3";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ta=new Gf("@firebase/firestore");function tr(e,...t){if(Ta.logLevel<=_e.DEBUG){const n=t.map(n_);Ta.debug(`Firestore (${Tu}): ${e}`,...n)}}function MR(e,...t){if(Ta.logLevel<=_e.ERROR){const n=t.map(n_);Ta.error(`Firestore (${Tu}): ${e}`,...n)}}function MB(e,...t){if(Ta.logLevel<=_e.WARN){const n=t.map(n_);Ta.warn(`Firestore (${Tu}): ${e}`,...n)}}function n_(e){if(typeof e=="string")return e;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(e)}catch{return e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LR(e,t,n){let r="Unexpected state";typeof t=="string"?r=t:n=t,jR(e,r,n)}function jR(e,t,n){let r=`FIRESTORE (${Tu}) INTERNAL ASSERTION FAILED: ${t} (ID: ${e.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw MR(r),new Error(r)}function nc(e,t,n,r){let i="Unexpected state";typeof n=="string"?i=n:r=n,e||jR(t,i,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const en={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class tn extends pr{constructor(t,n){super(t,n),this.code=t,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rc{constructor(){this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FR{constructor(t,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class LB{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,n){t.enqueueRetryable(()=>n(zt.UNAUTHENTICATED))}shutdown(){}}class jB{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,n){this.changeListener=n,t.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class FB{constructor(t){this.t=t,this.currentUser=zt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,n){nc(this.o===void 0,42304);let r=this.i;const i=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let s=new rc;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new rc,t.enqueueRetryable(()=>i(this.currentUser))};const o=()=>{const l=s;t.enqueueRetryable(async()=>{await l.promise,await i(this.currentUser)})},a=l=>{tr("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?a(l):(tr("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new rc)}},0),o()}getToken(){const t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==t?(tr("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(nc(typeof r.accessToken=="string",31837,{l:r}),new FR(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return nc(t===null||typeof t=="string",2055,{h:t}),new zt(t)}}class $B{constructor(t,n,r){this.P=t,this.T=n,this.I=r,this.type="FirstParty",this.user=zt.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const t=this.R();return t&&this.A.set("Authorization",t),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class VB{constructor(t,n,r){this.P=t,this.T=n,this.I=r}getToken(){return Promise.resolve(new $B(this.P,this.T,this.I))}start(t,n){t.enqueueRetryable(()=>n(zt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Gb{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class UB{constructor(t,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Ot(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,n){nc(this.o===void 0,3512);const r=s=>{s.error!=null&&tr("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.m;return this.m=s.token,tr("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{t.enqueueRetryable(()=>r(s))};const i=s=>{tr("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.V.getImmediate({optional:!0});s?i(s):tr("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new Gb(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then(n=>n?(nc(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new Gb(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function BB(e){return e.name==="IndexedDbTransactionError"}const n0="(default)";class df{constructor(t,n){this.projectId=t,this.database=n||n0}static empty(){return new df("","")}get isDefaultDatabase(){return this.database===n0}isEqual(t){return t instanceof df&&t.projectId===this.projectId&&t.database===this.database}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Kb,pe;(pe=Kb||(Kb={}))[pe.OK=0]="OK",pe[pe.CANCELLED=1]="CANCELLED",pe[pe.UNKNOWN=2]="UNKNOWN",pe[pe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",pe[pe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",pe[pe.NOT_FOUND=5]="NOT_FOUND",pe[pe.ALREADY_EXISTS=6]="ALREADY_EXISTS",pe[pe.PERMISSION_DENIED=7]="PERMISSION_DENIED",pe[pe.UNAUTHENTICATED=16]="UNAUTHENTICATED",pe[pe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",pe[pe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",pe[pe.ABORTED=10]="ABORTED",pe[pe.OUT_OF_RANGE=11]="OUT_OF_RANGE",pe[pe.UNIMPLEMENTED=12]="UNIMPLEMENTED",pe[pe.INTERNAL=13]="INTERNAL",pe[pe.UNAVAILABLE=14]="UNAVAILABLE",pe[pe.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */new OR([4294967295,4294967295],0);/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zB=41943040;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WB=1048576;function lg(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HB{constructor(t,n,r=1e3,i=1.5,s=6e4){this.bi=t,this.timerId=n,this.u_=r,this.c_=i,this.l_=s,this.h_=0,this.P_=null,this.T_=Date.now(),this.reset()}reset(){this.h_=0}I_(){this.h_=this.l_}E_(t){this.cancel();const n=Math.floor(this.h_+this.d_()),r=Math.max(0,Date.now()-this.T_),i=Math.max(0,n-r);i>0&&tr("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.h_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.P_=this.bi.enqueueAfterDelay(this.timerId,i,()=>(this.T_=Date.now(),t())),this.h_*=this.c_,this.h_<this.u_&&(this.h_=this.u_),this.h_>this.l_&&(this.h_=this.l_)}A_(){this.P_!==null&&(this.P_.skipDelay(),this.P_=null)}cancel(){this.P_!==null&&(this.P_.cancel(),this.P_=null)}d_(){return(Math.random()-.5)*this.h_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r_{constructor(t,n,r,i,s){this.asyncQueue=t,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new rc,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(t,n,r,i,s){const o=Date.now()+r,a=new r_(t,n,o,i,s);return a.start(r),a}start(t){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new tn(en.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(t=>this.deferred.resolve(t))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}var Yb,Xb;(Xb=Yb||(Yb={})).ya="default",Xb.Cache="cache";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qB(e){const t={};return e.timeoutSeconds!==void 0&&(t.timeoutSeconds=e.timeoutSeconds),t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jb=new Map;function GB(e,t,n,r){if(t===!0&&r===!0)throw new tn(en.INVALID_ARGUMENT,`${e} and ${n} cannot be used together.`)}function KB(e){if(e===void 0)return"undefined";if(e===null)return"null";if(typeof e=="string")return e.length>20&&(e=`${e.substring(0,20)}...`),JSON.stringify(e);if(typeof e=="number"||typeof e=="boolean")return""+e;if(typeof e=="object"){if(e instanceof Array)return"an array";{const t=function(r){return r.constructor?r.constructor.name:null}(e);return t?`a custom ${t} object`:"an object"}}return typeof e=="function"?"a function":LR(12329,{type:typeof e})}function YB(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new tn(en.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=KB(e);throw new tn(en.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${n}`)}}return e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $R="firestore.googleapis.com",Qb=!0;class Zb{constructor(t){var n,r;if(t.host===void 0){if(t.ssl!==void 0)throw new tn(en.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=$R,this.ssl=Qb}else this.host=t.host,this.ssl=(n=t.ssl)!==null&&n!==void 0?n:Qb;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=zB;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<WB)throw new tn(en.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}GB("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=qB((r=t.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new tn(en.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new tn(en.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new tn(en.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class VR{constructor(t,n,r,i){this._authCredentials=t,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Zb({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new tn(en.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new tn(en.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Zb(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new LB;switch(r.type){case"firstParty":return new VB(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new tn(en.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,ds("Firestore",this._settings.isUsingEmulator),this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=Jb.get(n);r&&(tr("ComponentProvider","Removing Datastore"),Jb.delete(n),r.terminate())}(this),Promise.resolve()}}function UR(e,t,n,r={}){var i;e=YB(e,VR);const s=uo(t),o=e._getSettings(),a=Object.assign(Object.assign({},o),{emulatorOptions:e._getEmulatorOptions()}),l=`${t}:${n}`;o.host!==$R&&o.host!==l&&MB("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const c=Object.assign(Object.assign({},o),{host:l,ssl:s,emulatorOptions:r});if(!ts(c,a)&&(e._setSettings(c),s&&(Wf(`https://${l}`),ds("Firestore",!0)),r.mockUserToken)){let d,h;if(typeof r.mockUserToken=="string")d=r.mockUserToken,h=zt.MOCK_USER;else{d=tw(r.mockUserToken,(i=e._app)===null||i===void 0?void 0:i.options.projectId);const f=r.mockUserToken.sub||r.mockUserToken.user_id;if(!f)throw new tn(en.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");h=new zt(f)}e._authCredentials=new jB(new FR(d,h))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eC="AsyncQueue";class tC{constructor(t=Promise.resolve()){this.Qu=[],this.$u=!1,this.Uu=[],this.Ku=null,this.Wu=!1,this.Gu=!1,this.zu=[],this.y_=new HB(this,"async_queue_retry"),this.ju=()=>{const r=lg();r&&tr(eC,"Visibility state changed to "+r.visibilityState),this.y_.A_()},this.Hu=t;const n=lg();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.ju)}get isShuttingDown(){return this.$u}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.Ju(),this.Yu(t)}enterRestrictedMode(t){if(!this.$u){this.$u=!0,this.Gu=t||!1;const n=lg();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.ju)}}enqueue(t){if(this.Ju(),this.$u)return new Promise(()=>{});const n=new rc;return this.Yu(()=>this.$u&&this.Gu?Promise.resolve():(t().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(t){this.enqueueAndForget(()=>(this.Qu.push(t),this.Zu()))}async Zu(){if(this.Qu.length!==0){try{await this.Qu[0](),this.Qu.shift(),this.y_.reset()}catch(t){if(!BB(t))throw t;tr(eC,"Operation failed with retryable error: "+t)}this.Qu.length>0&&this.y_.E_(()=>this.Zu())}}Yu(t){const n=this.Hu.then(()=>(this.Wu=!0,t().catch(r=>{throw this.Ku=r,this.Wu=!1,MR("INTERNAL UNHANDLED ERROR: ",nC(r)),r}).then(r=>(this.Wu=!1,r))));return this.Hu=n,n}enqueueAfterDelay(t,n,r){this.Ju(),this.zu.indexOf(t)>-1&&(n=0);const i=r_.createAndSchedule(this,t,n,r,s=>this.Xu(s));return this.Uu.push(i),i}Ju(){this.Ku&&LR(47125,{ec:nC(this.Ku)})}verifyOperationInProgress(){}async tc(){let t;do t=this.Hu,await t;while(t!==this.Hu)}nc(t){for(const n of this.Uu)if(n.timerId===t)return!0;return!1}rc(t){return this.tc().then(()=>{this.Uu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.Uu)if(n.skipDelay(),t!=="all"&&n.timerId===t)break;return this.tc()})}sc(t){this.zu.push(t)}Xu(t){const n=this.Uu.indexOf(t);this.Uu.splice(n,1)}}function nC(e){let t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+`
`+e.stack),t}class XB extends VR{constructor(t,n,r,i){super(t,n,r,i),this.type="firestore",this._queue=new tC,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new tC(t),this._firestoreClient=void 0,await t}}}function JB(e,t){const n=typeof e=="object"?e:pu(),r=typeof e=="string"?e:t||n0,i=hs(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const s=ew("firestore");s&&UR(i,...s)}return i}(function(t,n=!0){(function(i){Tu=i})(fs),xn(new cn("firestore",(r,{instanceIdentifier:i,options:s})=>{const o=r.getProvider("app").getImmediate(),a=new XB(new FB(r.getProvider("auth-internal")),new UB(o,r.getProvider("app-check-internal")),function(c,d){if(!Object.prototype.hasOwnProperty.apply(c.options,["projectId"]))throw new tn(en.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new df(c.options.projectId,d)}(o,i),o);return s=Object.assign({useFetchStreams:n},s),a._setSettings(s),a},"PUBLIC").setMultipleInstances(!0)),mt(Hb,qb,t),mt(Hb,qb,"esm2017")})();const QB={apiKey:"AIzaSyD9cpSfGG212h80iXofJetw-B-arEEcOvI",authDomain:"emprochampions2025.firebaseapp.com",databaseURL:"https://emprochampions2025-default-rtdb.firebaseio.com",projectId:"emprochampions2025",storageBucket:"emprochampions2025.appspot.com",messagingSenderId:"683206087538",appId:"1:683206087538:web:8a1473aec968bd6ab543eb",measurementId:"G-3TX5J3NDT5"},Ha=i2(QB),Oi=Z$(Ha),te=IR(Ha),ZB=NB(Ha),e8=JB(Ha);R2(Ha);new Er;window.location.hostname==="localhost"&&(Y2(Oi,"http://localhost:9099"),PR(te,"localhost",9e3),DR(ZB,"localhost",9199),UR(e8,"localhost",8080),console.log("Conectado a emuladores de Firebase"));const BR=w.createContext(),mo=()=>{const e=w.useContext(BR);if(!e)throw new Error("useAuth must be used within an AuthProvider");return e};function t8({children:e}){const[t,n]=w.useState(null),[r,i]=w.useState(null),[s,o]=w.useState(!0),a=(h,f)=>eP(Oi,h,f),l=(h,f)=>F6(Oi,h,f),c=()=>tP(Oi),d=()=>{const h=new Er;return h.setCustomParameters({prompt:"select_account"}),l$(Oi,h)};return w.useEffect(()=>{const h=B6(Oi,async f=>{var g,v;if(f){const k=["yayirobe2305@gmail.com","gersonespino@gmail.com","andiescobar8@gmail.com","rodriguezmerary42@gmail.com"].includes(f.email)?"admin":"usuario";i(k),n(f);const _=ee(te,`usuarios/${f.uid}`),b=await ar(_);if(b.exists())b.val().rol!==k&&await Gc(_,{rol:k});else{const E={correo:f.email,rol:k,nombre:((g=f.displayName)==null?void 0:g.split(" ")[0])||"",apellido:((v=f.displayName)==null?void 0:v.split(" ")[1])||""};await Ze(_,E)}}else n(null),i(null);o(!1)});return()=>h()},[]),m.jsx(BR.Provider,{value:{user:t,rol:r,loading:s,signup:a,login:l,logout:c,loginWithGoogle:d},children:e})}const hf={calendario:{femenino:{asignaciones:{A:"Equipo A",B:"Equipo B",C:"Equipo C",D:"Equipo D",E:"Equipo E"},partidos:{jornada1:[{cancha:"1",equipo1:"A",equipo2:"B",fecha:"Sbado 28 Jun - 08:00 AM"},{cancha:"2",equipo1:"C",equipo2:"D",fecha:"Sbado 28 Jun - 08:00 AM"}],jornada2:[{cancha:"1",equipo1:"A",equipo2:"C",fecha:"Sbado 28 Jun - 09:00 AM"},{cancha:"2",equipo1:"B",equipo2:"E",fecha:"Sbado 28 Jun - 09:00 AM"}],jornada3:[{cancha:"1",equipo1:"A",equipo2:"D",fecha:"Sbado 28 Jun - 10:00 AM"},{cancha:"2",equipo1:"C",equipo2:"E",fecha:"Sbado 28 Jun - 10:00 AM"}],jornada4:[{cancha:"1",equipo1:"A",equipo2:"E",fecha:"Sbado 28 Jun - 11:00 AM"},{cancha:"2",equipo1:"B",equipo2:"D",fecha:"Sbado 28 Jun - 11:00 AM"}],jornada5:[{cancha:"1",equipo1:"B",equipo2:"C",fecha:"Sbado 28 Jun - 12:00 PM"},{cancha:"2",equipo1:"D",equipo2:"E",fecha:"Sbado 28 Jun - 12:00 PM"}],semifinales:[{cancha:"1",equipo1:"1er Lugar",equipo2:"4to Lugar",fecha:"Domingo 29 Jun - 09:00 AM"},{cancha:"2",equipo1:"2do Lugar",equipo2:"3er Lugar",fecha:"Domingo 29 Jun - 09:00 AM"}],finales:[{cancha:"2",equipo1:"Perdedor Semi 1",equipo2:"Perdedor Semi 2",fecha:"Domingo 29 Jun - 11:00 AM",nombre:"Tercer Lugar"},{cancha:"1",equipo1:"Ganador Semi 1",equipo2:"Ganador Semi 2",fecha:"Domingo 29 Jun - 12:00 PM",nombre:"Gran Final"}]}},masculino:{asignaciones:{A:"Equipo A",B:"Equipo B",C:"Equipo C",D:"Equipo D",E:"Equipo E",F:"Equipo F"},partidos:{jornada1:[{cancha:"1",equipo1:"A",equipo2:"F",fecha:"Sbado 28 Jun - 02:00 PM"},{cancha:"2",equipo1:"B",equipo2:"E",fecha:"Sbado 28 Jun - 02:00 PM"},{cancha:"1",equipo1:"C",equipo2:"D",fecha:"Sbado 28 Jun - 03:00 PM"}],jornada2:[{cancha:"2",equipo1:"A",equipo2:"E",fecha:"Sbado 28 Jun - 03:00 PM"},{cancha:"1",equipo1:"B",equipo2:"D",fecha:"Sbado 28 Jun - 04:00 PM"},{cancha:"2",equipo1:"C",equipo2:"F",fecha:"Sbado 28 Jun - 04:00 PM"}],jornada3:[{cancha:"1",equipo1:"A",equipo2:"D",fecha:"Domingo 29 Jun - 08:00 AM"},{cancha:"2",equipo1:"B",equipo2:"C",fecha:"Domingo 29 Jun - 08:00 AM"},{cancha:"1",equipo1:"E",equipo2:"F",fecha:"Domingo 29 Jun - 10:00 AM"}],jornada4:[{cancha:"2",equipo1:"A",equipo2:"C",fecha:"Domingo 29 Jun - 10:00 AM"},{cancha:"1",equipo1:"B",equipo2:"F",fecha:"Domingo 29 Jun - 11:00 AM"},{cancha:"2",equipo1:"D",equipo2:"E",fecha:"Domingo 29 Jun - 11:00 AM"}],jornada5:[{cancha:"1",equipo1:"A",equipo2:"B",fecha:"Domingo 29 Jun - 01:00 PM"},{cancha:"2",equipo1:"C",equipo2:"E",fecha:"Domingo 29 Jun - 01:00 PM"},{cancha:"1",equipo1:"D",equipo2:"F",fecha:"Domingo 29 Jun - 02:00 PM"}],semifinales:[{cancha:"1",equipo1:"1er Lugar",equipo2:"4to Lugar",fecha:"Domingo 29 Jun - 03:00 PM"},{cancha:"2",equipo1:"2do Lugar",equipo2:"3er Lugar",fecha:"Domingo 29 Jun - 03:00 PM"}],finales:[{cancha:"2",equipo1:"Perdedor Semi 1",equipo2:"Perdedor Semi 2",fecha:"Domingo 29 Jun - 04:00 PM",nombre:"Tercer Lugar"},{cancha:"1",equipo1:"Ganador Semi 1",equipo2:"Ganador Semi 2",fecha:"Domingo 29 Jun - 05:00 PM",nombre:"Gran Final"}]}}},plantillas:{femenino:{"Don Bosco":{logo:"bosco.png",jugadores:[]},"Atrapados en su Red":{logo:"atrapados.png",jugadores:[]},"Luz en mi Camino":{logo:"luz.png",jugadores:[]},"Mensajeros de Paz":{logo:"mensajeros.png",jugadores:[]},"Huellas de Jesus":{logo:"huellas.png",jugadores:[]}},masculino:{"Don Bosco":{logo:"bosco.png",jugadores:[]},"Atrapados en su Red":{logo:"atrapados.png",jugadores:[]},"Luz en mi Camino":{logo:"luz.png",jugadores:[]},"Mensajeros de Paz":{logo:"mensajeros.png",jugadores:[]},"Huellas de Jesus":{logo:"huellas.png",jugadores:[]},Emprosaurios:{logo:"emprosaurios.png",jugadores:[]}}}},n8=()=>{const e=IR();ee(e,"calendario")};function r8(){const[e,t]=w.useState(""),[n,r]=w.useState(""),[i,s]=w.useState(""),o=$n(),{login:a,loginWithGoogle:l}=mo(),c=async h=>{h.preventDefault(),s("");try{await a(e,n),o("/")}catch(f){s("Credenciales incorrectas. Verifica tu correo y contrasea."),console.error("Error en login:",f.message)}},d=async()=>{s("");try{await l(),o("/")}catch(h){s("Error al iniciar sesin con Google."),console.error("Error en login con Google:",h.message)}};return m.jsx("div",{className:"min-h-screen bg-cover bg-center flex items-center justify-center",style:{backgroundImage:"url('/EmproChampions-2025/img/fondoempro-horizontal.png')"},children:m.jsxs("div",{className:"bg-white/90 rounded-2xl shadow-lg p-8 w-full max-w-md text-center",children:[m.jsx("img",{src:"/EmproChampions-2025/img/logo-empro.png",alt:"Logo Empro",className:"w-32 md:w-40 mx-auto mb-4"}),m.jsx("h1",{className:"text-3xl font-bold text-[#7a0026] mb-6",children:"Empro Champions 2025"}),i&&m.jsx("p",{className:"bg-red-500 text-white p-2 rounded-md mb-4",children:i}),m.jsxs("form",{onSubmit:c,className:"space-y-4",children:[m.jsx("h2",{className:"text-lg text-[#7a0026] font-bold",children:"HOLA, INICIA SESIN!"}),m.jsx("input",{type:"email",placeholder:"CORREO",value:e,onChange:h=>t(h.target.value),required:!0,className:"w-full px-4 py-2 border border-[#7a0026] rounded-md focus:outline-none focus:ring-2 focus:ring-[#FFD700]",autoComplete:"email"}),m.jsx("input",{type:"password",placeholder:"CONTRASEA",value:n,onChange:h=>r(h.target.value),required:!0,className:"w-full px-4 py-2 border border-[#7a0026] rounded-md focus:outline-none focus:ring-2 focus:ring-[#FFD700]",autoComplete:"current-password"}),m.jsx("button",{type:"submit",className:"w-full bg-[#FFD700] text-[#7a0026] font-bold py-2 rounded-md hover:bg-yellow-400 transition",children:"INICIAR SESIN"})]}),m.jsx("div",{className:"my-4 text-[#7a0026] font-semibold",children:"o"}),m.jsx("button",{onClick:d,className:"w-full bg-blue-600 text-white font-bold py-2 rounded-md hover:bg-blue-700 transition",children:"INGRESA CON GOOGLE"}),m.jsxs("p",{className:"mt-4 text-sm text-[#7a0026]",children:["No tienes cuenta?"," ",m.jsx(Yn,{to:"/registro",className:"font-bold underline",children:"Crea una"})]})]})})}function i8(){const[e,t]=w.useState(""),[n,r]=w.useState(""),[i,s]=w.useState(""),[o,a]=w.useState(""),l=$n(),c=(h,f)=>{const g=(h==null?void 0:h.charAt(0).toUpperCase())||"",v=(f==null?void 0:f.charAt(0).toUpperCase())||"";return`${g}${v}`},d=async h=>{h.preventDefault();try{const f=await eP(Oi,i,o),g=f.user.uid,v={nombre:e,apellido:n,correo:i,rol:"usuario",iniciales:c(e,n),foto:null};await Ze(ee(te,`usuarios/${g}`),v),await $6(f.user),alert("Cuenta creada exitosamente! Se ha enviado un correo de verificacin a tu direccin de email. Por favor, verifica tu correo para activar tu cuenta."),l("/login")}catch(f){console.error("Error al crear la cuenta:",f),f.code==="auth/email-already-in-use"?alert("Este correo electrnico ya est registrado. Por favor, intenta con otro o inicia sesin."):f.code==="auth/weak-password"?alert("La contrasea es demasiado dbil. Debe tener al menos 6 caracteres."):alert("Error al crear la cuenta. Por favor, intntalo de nuevo. Detalles: "+f.message)}};return m.jsx("div",{className:"min-h-screen bg-cover bg-center flex items-center justify-center",style:{backgroundImage:"url('/EmproChampions-2025/img/fondoempro-horizontal.png')"},children:m.jsxs("div",{className:"bg-white/90 rounded-2xl shadow-lg p-8 w-full max-w-md text-center",children:[m.jsx("img",{src:"/EmproChampions-2025/img/logo-empro.png",alt:"Logo Empro",className:"w-24 mx-auto mb-4"}),m.jsx("h1",{className:"text-3xl font-bold text-[#7a0026] mb-6",children:"Crear Cuenta"}),m.jsxs("form",{onSubmit:d,className:"space-y-4",children:[m.jsx("input",{type:"text",placeholder:"Nombre",value:e,onChange:h=>t(h.target.value),required:!0,className:"w-full px-4 py-2 border border-[#7a0026] rounded-md focus:outline-none focus:ring-2 focus:ring-[#FFD700]"}),m.jsx("input",{type:"text",placeholder:"Apellido",value:n,onChange:h=>r(h.target.value),required:!0,className:"w-full px-4 py-2 border border-[#7a0026] rounded-md focus:outline-none focus:ring-2 focus:ring-[#FFD700]"}),m.jsx("input",{type:"email",placeholder:"Correo",value:i,onChange:h=>s(h.target.value),required:!0,className:"w-full px-4 py-2 border border-[#7a0026] rounded-md focus:outline-none focus:ring-2 focus:ring-[#FFD700]"}),m.jsx("input",{type:"password",placeholder:"Contrasea (mn. 6 caracteres)",value:o,onChange:h=>a(h.target.value),required:!0,className:"w-full px-4 py-2 border border-[#7a0026] rounded-md focus:outline-none focus:ring-2 focus:ring-[#FFD700]"}),m.jsx("button",{type:"submit",className:"w-full bg-[#FFD700] text-[#7a0026] font-bold py-2 rounded-md hover:bg-yellow-400 transition",children:"Registrarme"})]}),m.jsxs("p",{className:"mt-4 text-sm text-[#7a0026]",children:["Ya tienes cuenta?"," ",m.jsx(Yn,{to:"/login",className:"font-bold underline",children:"Inicia sesin"})]})]})})}function ur(){const[e,t]=w.useState(!1),{user:n,rol:r,loading:i}=mo(),s=Nr();if(i||s.pathname==="/login"||s.pathname==="/registro")return null;const o=r==="admin"||r==="superadmin";return m.jsx("nav",{className:"bg-[#7a0026] text-white px-4 py-3 shadow-md sticky top-0 z-50",children:m.jsxs("div",{className:"max-w-6xl mx-auto flex justify-between items-center",children:[m.jsx(Yn,{to:"/",className:"text-2xl font-bold font-qatar",children:" Empro"}),m.jsx("button",{className:"md:hidden transition-transform",onClick:()=>t(!e),children:m.jsx("svg",{className:`w-7 h-7 transition-transform duration-300 ${e?"rotate-90":""}`,fill:"none",stroke:"currentColor",strokeWidth:2,viewBox:"0 0 24 24",children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:e?"M6 18L18 6M6 6l12 12":"M4 6h16M4 12h16M4 18h16"})})}),m.jsxs("ul",{className:`md:flex gap-6 text-lg font-bold absolute md:static top-16 left-0 w-full md:w-auto bg-[#7a0026] md:bg-transparent transition-all duration-300 ease-in-out ${e?"block":"hidden"}`,children:[m.jsx("li",{className:"p-3 md:p-0 text-center",children:m.jsx(Yn,{to:"/",className:"hover:text-yellow-400",onClick:()=>t(!1),children:"Tabla"})}),m.jsx("li",{className:"p-3 md:p-0 text-center",children:m.jsx(Yn,{to:"/goleadores",className:"hover:text-yellow-400",onClick:()=>t(!1),children:"Goleadores"})}),m.jsx("li",{className:"p-3 md:p-0 text-center",children:m.jsx(Yn,{to:"/historial",className:"hover:text-yellow-400",onClick:()=>t(!1),children:"Historial"})}),m.jsx("li",{className:"p-3 md:p-0 text-center",children:m.jsx(Yn,{to:"/calendario",className:"hover:text-yellow-400",onClick:()=>t(!1),children:"Calendario"})}),m.jsx("li",{className:"p-3 md:p-0 text-center",children:m.jsx(Yn,{to:"/configuracion",className:"hover:text-yellow-400",onClick:()=>t(!1),children:"Cuenta"})}),o&&m.jsx("li",{className:"p-3 md:p-0 text-center",children:m.jsx(Yn,{to:"/partido/configurar",className:"hover:text-yellow-400",onClick:()=>t(!1),children:" Nuevo Partido"})})]})]})})}const rC=["pillarh.png","municipalidad.png","mercaditoladespensa.png","Multibox.png","celtec.png","asopilar.png","mrecords.png","Pepsi_2023.svg","pipos.png"],s8=[...rC,...rC];function o8(){return m.jsx("div",{className:"w-full bg-gray-100 py-4 mt-8 overflow-hidden backdrop-blur-sm border-y border-yellow-400/20",children:m.jsx("div",{className:"animate-scroll flex items-center",children:s8.map((e,t)=>m.jsx("div",{className:"flex-shrink-0 mx-10",children:m.jsx("img",{src:`/EmproChampions-2025/img/sponsors/${e}`,alt:`Patrocinador ${t+1}`,className:"h-10 md:h-12 max-w-none"})},t))})})}function dr(){const e=new Date().getFullYear(),t="https://www.facebook.com/elmer.hernandez.516479",n="https://www.instagram.com/hernandezsuarez_27/";return m.jsx("footer",{className:"bg-black/50 text-white font-qatar backdrop-blur-sm mt-auto border-t border-yellow-400/20",children:m.jsxs("div",{className:"mx-auto max-w-5xl px-4 pt-16 pb-8 sm:px-6 lg:px-8",children:[m.jsxs("div",{className:"mx-auto max-w-3xl text-center",children:[m.jsx("p",{className:"leading-relaxed text-gray-300",children:"Evento deportivo de las Comunidades del Centro Guia Santa Rosa de Lima con el objetivo de unir los lazos de amistad y fomentar los buenos valores inculcados en el movimiento."}),m.jsx("p",{className:"mt-6 text-lg italic text-yellow-400",children:'"Porque un verdadero Emproista es aquel que ve el trabajo no como una carga, sino como un privilegio"'})]}),m.jsxs("ul",{className:"mt-12 flex justify-center gap-6 md:gap-8",children:[m.jsx("li",{children:m.jsxs("a",{href:t,rel:"noreferrer",target:"_blank",className:"text-gray-400 transition hover:text-yellow-400","aria-label":"Facebook de Elmer Hernandez",children:[m.jsx("span",{className:"sr-only",children:"Facebook"}),m.jsx("svg",{className:"h-7 w-7",fill:"currentColor",viewBox:"0 0 24 24","aria-hidden":"true",children:m.jsx("path",{fillRule:"evenodd",d:"M22 12c0-5.523-4.477-10-10-10S2 6.477 2 12c0 4.991 3.657 9.128 8.438 9.878v-6.987h-2.54V12h2.54V9.797c0-2.506 1.492-3.89 3.777-3.89 1.094 0 2.238.195 2.238.195v2.46h-1.26c-1.243 0-1.63.771-1.63 1.562V12h2.773l-.443 2.89h-2.33v6.988C18.343 21.128 22 16.991 22 12z",clipRule:"evenodd"})})]})}),m.jsx("li",{children:m.jsxs("a",{href:n,rel:"noreferrer",target:"_blank",className:"text-gray-400 transition hover:text-yellow-400","aria-label":"Instagram de Elmer Hernandez",children:[m.jsx("span",{className:"sr-only",children:"Instagram"}),m.jsx("svg",{className:"h-7 w-7",fill:"currentColor",viewBox:"0 0 24 24","aria-hidden":"true",children:m.jsx("path",{fillRule:"evenodd",d:"M12.315 2c2.43 0 2.784.013 3.808.06 1.064.049 1.791.218 2.427.465a4.902 4.902 0 011.772 1.153 4.902 4.902 0 011.153 1.772c.247.636.416 1.363.465 2.427.048 1.067.06 1.407.06 4.123v.08c0 2.643-.012 2.987-.06 4.043-.049 1.064-.218 1.791-.465 2.427a4.902 4.902 0 01-1.153 1.772 4.902 4.902 0 01-1.772 1.153c-.636.247-1.363.416-2.427.465-1.067.048-1.407.06-4.123.06h-.08c-2.643 0-2.987-.012-4.043-.06-1.064-.049-1.791-.218-2.427-.465a4.902 4.902 0 01-1.772-1.153 4.902 4.902 0 01-1.153-1.772c-.247-.636-.416-1.363-.465-2.427-.047-1.024-.06-1.379-.06-3.808v-.63c0-2.43.013-2.784.06-3.808.049-1.064.218-1.791.465-2.427a4.902 4.902 0 011.153-1.772A4.902 4.902 0 015.45 2.525c.636-.247 1.363-.416 2.427-.465C8.901 2.013 9.256 2 11.685 2h.63zm-.081 1.802h-.468c-2.456 0-2.784.011-3.807.058-.975.045-1.504.207-1.857.344-.467.182-.8.398-1.15.748-.35.35-.566.683-.748 1.15-.137.353-.3.882-.344 1.857-.047 1.023-.058 1.351-.058 3.807v.468c0 2.456.011 2.784.058 3.807.045.975.207 1.504.344 1.857.182.466.399.8.748 1.15.35.35.683.566 1.15.748.353.137.882.3 1.857.344 1.054.048 1.37.058 4.041.058h.08c2.597 0 2.917-.01 3.96-.058.976-.045 1.505-.207 1.858-.344.466-.182.8-.398 1.15-.748.35-.35.566-.683.748-1.15.137-.353.3-.882.344-1.857.048-1.055.058-1.37.058-4.041v-.08c0-2.597-.01-2.917-.058-3.96-.045-.976-.207-1.505-.344-1.858a3.097 3.097 0 00-.748-1.15 3.098 3.098 0 00-1.15-.748c-.353-.137-.882-.3-1.857-.344-1.023-.047-1.351-.058-3.807-.058zM12 6.865a5.135 5.135 0 110 10.27 5.135 5.135 0 010-10.27zm0 1.802a3.333 3.333 0 100 6.666 3.333 3.333 0 000-6.666zm5.338-3.205a1.2 1.2 0 110 2.4 1.2 1.2 0 010-2.4z",clipRule:"evenodd"})})]})})]}),m.jsxs("div",{className:"mt-12 border-t border-yellow-400/20 pt-8 text-center",children:[m.jsxs("p",{className:"text-sm text-gray-400",children:["Copyright  ",e,". EmproChampions. Todos los derechos reservados."]}),m.jsxs("p",{className:"text-sm text-gray-400 mt-2",children:["Diseado por ",m.jsx("a",{href:n,target:"_blank",rel:"noopener noreferrer",className:"text-yellow-400 hover:underline",children:"Elmer Hernandez"})]})]})]})})}function a8(){const[e,t]=w.useState([]),[n,r]=w.useState([]),[i,s]=w.useState("masculino"),[o,a]=w.useState(null),l=$n();w.useEffect(()=>{const d=(f,g)=>{const v=ee(te,`tablas/${f}`);Et(v,S=>{const k=S.val();if(k){const _=Object.keys(k).map(b=>({nombre:b,...k[b]})).sort((b,E)=>E.puntos-b.puntos||E.gf-E.gc-(b.gf-b.gc));g(_)}})};d("masculino",t),d("femenino",r);const h=ee(te,"partidoEnCurso");Et(h,f=>{const g=f.val();if(g!=null&&g.partidoId){const v=ee(te,`partidos/${g.partidoId}/estado`);Et(v,S=>{const k=S.val();a(k==="finalizado"?null:g)})}else a(null)})},[]);const c=i==="masculino"?e:n;return m.jsxs("div",{className:"w-full min-h-screen bg-cover bg-center text-white font-qatar bg-main-background",children:[m.jsx(ur,{}),m.jsxs("div",{className:"container mx-auto px-4 py-8",children:[m.jsx("h1",{className:"text-5xl font-bold text-center text-yellow-400 drop-shadow-lg mb-6",children:"Tabla de Posiciones"}),o&&m.jsx("div",{className:"flex justify-center mb-4",children:m.jsxs("button",{onClick:()=>l(`/partido/en-vivo/${o.partidoId}`),className:"bg-red-600 hover:bg-red-700 text-white font-bold py-2 px-6 rounded-full shadow-md transition",children:["Partido en curso: ",o.equipo1," vs ",o.equipo2]})}),m.jsxs("div",{className:"flex justify-center mb-8 bg-black/30 rounded-full p-1 max-w-sm mx-auto",children:[m.jsx("button",{onClick:()=>s("masculino"),className:`w-1/2 py-2 rounded-full font-bold transition-colors ${i==="masculino"?"bg-yellow-400 text-black":"hover:bg-white/10"}`,children:"Masculino"}),m.jsx("button",{onClick:()=>s("femenino"),className:`w-1/2 py-2 rounded-full font-bold transition-colors ${i==="femenino"?"bg-yellow-400 text-black":"hover:bg-white/10"}`,children:"Femenino"})]}),m.jsxs("div",{className:"bg-black/50 backdrop-blur-sm rounded-xl overflow-hidden shadow-2xl",children:[m.jsxs("div",{className:"grid grid-cols-10 md:grid-cols-12 text-center font-bold text-yellow-400 p-4 border-b border-yellow-400/20",children:[m.jsx("div",{className:"col-span-4 md:col-span-5 text-left pl-3",children:"Club"}),m.jsx("div",{className:"hidden md:block",children:"PJ"}),m.jsx("div",{className:"hidden md:block",children:"PG"}),m.jsx("div",{className:"hidden md:block",children:"PE"}),m.jsx("div",{className:"hidden md:block",children:"PP"}),m.jsx("div",{className:"col-span-2 md:col-span-1",children:"GF"}),m.jsx("div",{className:"col-span-2 md:col-span-1",children:"GC"}),m.jsx("div",{className:"col-span-2 md:col-span-1",children:"Pts"})]}),m.jsx("div",{children:c.map((d,h)=>m.jsxs("div",{className:"grid grid-cols-10 md:grid-cols-12 items-center text-center p-3 border-b border-gray-700/50 hover:bg-white/5 transition-colors",children:[m.jsxs("div",{className:"col-span-4 md:col-span-5 flex items-center gap-3 text-left",children:[m.jsx("span",{className:"font-bold text-lg w-6 text-center text-gray-400",children:h+1}),m.jsx("img",{src:`/EmproChampions-2025/img/escudos/${d.logo}`,alt:d.nombre,className:"w-8 h-8 md:w-10 md:h-10 object-contain"}),m.jsx("span",{className:"font-bold text-base md:text-lg",children:d.nombre})]}),m.jsx("div",{className:"hidden md:block",children:d.pj}),m.jsx("div",{className:"hidden md:block",children:d.pg}),m.jsx("div",{className:"hidden md:block",children:d.pe}),m.jsx("div",{className:"hidden md:block",children:d.pp}),m.jsx("div",{className:"col-span-2 md:col-span-1",children:d.gf}),m.jsx("div",{className:"col-span-2 md:col-span-1",children:d.gc}),m.jsx("div",{className:"col-span-2 md:col-span-1 font-extrabold text-lg",children:d.puntos})]},d.nombre))})]})]}),m.jsx(o8,{}),m.jsx(dr,{})]})}function l8({equipo:e,jugadores:t,minuto:n,onSeleccion:r,onClose:i}){const[s,o]=w.useState(""),a=()=>{s&&r({nombre:s,minuto:n})};return m.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-70 flex justify-center items-center z-50",children:m.jsxs("div",{className:"bg-white text-black p-6 rounded-lg w-full max-w-md space-y-4",children:[m.jsx("h2",{className:"text-2xl font-bold text-center",children:"Registrar Gol"}),m.jsxs("div",{children:[m.jsx("label",{className:"block font-semibold mb-1",children:"Quin anot?"}),m.jsxs("select",{value:s,onChange:l=>o(l.target.value),className:"w-full border border-gray-300 rounded px-4 py-2",children:[m.jsx("option",{value:"",children:"Seleccionar jugador"}),t.map((l,c)=>m.jsx("option",{value:l.nombre,children:l.nombre},c))]})]}),m.jsxs("div",{className:"flex justify-end gap-4",children:[m.jsx("button",{onClick:i,className:"bg-gray-300 px-4 py-2 rounded font-bold",children:"Cancelar"}),m.jsx("button",{onClick:a,className:"bg-green-500 text-white px-4 py-2 rounded font-bold",children:"Confirmar"})]})]})})}function c8({equipo:e,jugadores:t,minuto:n,onConfirm:r,onClose:i}){const[s,o]=w.useState(""),[a,l]=w.useState(""),c=()=>{!s||!a||r({jugador:s,tipo:a,minuto:n})};return m.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-70 flex justify-center items-center z-50",children:m.jsxs("div",{className:"bg-white text-black p-6 rounded-lg w-full max-w-md space-y-4",children:[m.jsx("h2",{className:"text-2xl font-bold text-center",children:"Registrar Tarjeta"}),m.jsxs("div",{children:[m.jsx("label",{className:"block font-semibold mb-1",children:"Jugador"}),m.jsxs("select",{value:s,onChange:d=>o(d.target.value),className:"w-full border border-gray-300 rounded px-4 py-2",children:[m.jsx("option",{value:"",children:"Seleccionar jugador"}),t.map((d,h)=>m.jsx("option",{value:d.nombre,children:d.nombre},h))]})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block font-semibold mb-1",children:"Tipo de tarjeta"}),m.jsxs("div",{className:"flex gap-4",children:[m.jsxs("label",{className:"flex items-center",children:[m.jsx("input",{type:"radio",value:"amarilla",checked:a==="amarilla",onChange:()=>l("amarilla")}),m.jsx("span",{className:"ml-2",children:" Amarilla"})]}),m.jsxs("label",{className:"flex items-center",children:[m.jsx("input",{type:"radio",value:"roja",checked:a==="roja",onChange:()=>l("roja")}),m.jsx("span",{className:"ml-2",children:" Roja"})]})]})]}),m.jsxs("div",{className:"flex justify-end gap-4",children:[m.jsx("button",{onClick:i,className:"bg-gray-300 px-4 py-2 rounded font-bold",children:"Cancelar"}),m.jsx("button",{onClick:c,className:"bg-yellow-500 px-4 py-2 rounded font-bold",children:"Confirmar"})]})]})})}function u8({equipo:e,jugadores:t,minuto:n,onConfirm:r,onClose:i}){const[s,o]=w.useState(""),[a,l]=w.useState(""),c=()=>{!s||!a.trim()||r(s,a.trim(),n)};return m.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-70 flex justify-center items-center z-50",children:m.jsxs("div",{className:"bg-white text-black p-6 rounded-lg w-full max-w-md space-y-4",children:[m.jsx("h2",{className:"text-2xl font-bold text-center",children:"Realizar Cambio"}),m.jsxs("div",{children:[m.jsx("label",{className:"block font-semibold mb-1",children:"Titular que sale"}),m.jsxs("select",{value:s,onChange:d=>o(d.target.value),className:"w-full border border-gray-300 rounded px-4 py-2",children:[m.jsx("option",{value:"",children:"Seleccionar"}),t.map((d,h)=>m.jsx("option",{value:d.nombre,children:d.nombre},h))]})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block font-semibold mb-1",children:"Suplente que entra"}),m.jsx("input",{type:"text",placeholder:"Escrib el nombre",value:a,onChange:d=>l(d.target.value),className:"w-full border border-gray-300 rounded px-4 py-2"})]}),m.jsxs("div",{className:"flex justify-end gap-4",children:[m.jsx("button",{onClick:i,className:"bg-gray-300 px-4 py-2 rounded font-bold",children:"Cancelar"}),m.jsx("button",{onClick:c,className:"bg-blue-500 text-white px-4 py-2 rounded font-bold",children:"Confirmar Cambio"})]})]})})}function d8({equipoGanador:e,equipo1:t,equipo2:n,onClose:r}){const[i,s]=w.useState(null),o=((t==null?void 0:t.jugadores)||[]).filter(h=>h.haJugado),a=((n==null?void 0:n.jugadores)||[]).filter(h=>h.haJugado),l=h=>{s(h)},c=()=>{r(i||null)},d=({jugador:h})=>m.jsxs("div",{onClick:()=>l(h),className:`p-3 rounded-lg cursor-pointer transition-all duration-200 text-center ${(i==null?void 0:i.nombre)===h.nombre?"bg-yellow-400 text-black scale-105 ring-2 ring-white":"bg-gray-700 text-white hover:bg-gray-600"}`,children:[m.jsx("span",{className:"font-bold text-base",children:h.nombre}),m.jsxs("span",{className:"block text-sm opacity-80 mt-1",children:["#",h.dorsal]})]},h.nombre);return m.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-70 flex justify-center items-center z-50 p-4 font-qatar",children:m.jsxs("div",{className:"bg-gray-800 rounded-2xl shadow-xl w-full max-w-2xl p-6 border border-yellow-400/30",children:[m.jsxs("div",{className:"text-center",children:[e.nombre!=="Empate"?m.jsx("img",{src:`/EmproChampions-2025/img/escudos/${e.logo}`,alt:e.nombre,className:"w-28 h-28 mx-auto mb-4 object-contain"}):m.jsx("div",{className:"w-28 h-28 mx-auto mb-4 flex items-center justify-center bg-gray-700 rounded-full",children:m.jsx("span",{className:"text-5xl",role:"img","aria-label":"empate",children:""})}),m.jsx("h2",{className:"text-4xl font-extrabold text-yellow-400",children:"Partido Finalizado!"}),m.jsx("p",{className:"text-white mt-2 text-xl",children:e.nombre!=="Empate"?`Ganador: ${e.nombre}`:"El partido termin en empate"}),m.jsx("p",{className:"text-white mt-5 font-bold text-2xl",children:"Selecciona al MVP del partido"})]}),m.jsxs("div",{className:"my-6 flex flex-row gap-4 md:gap-6",children:[m.jsxs("div",{className:"w-1/2",children:[m.jsx("h3",{className:"text-center font-bold text-white mb-4 text-xl",children:t.nombre}),m.jsx("div",{className:"max-h-[35vh] overflow-y-auto grid grid-cols-1 md:grid-cols-2 gap-3 pr-2",children:o.map(h=>m.jsx(d,{jugador:h},h.nombre))})]}),m.jsx("div",{className:"w-px bg-gray-600/50"}),m.jsxs("div",{className:"w-1/2",children:[m.jsx("h3",{className:"text-center font-bold text-white mb-4 text-xl",children:n.nombre}),m.jsx("div",{className:"max-h-[35vh] overflow-y-auto grid grid-cols-1 md:grid-cols-2 gap-3 pr-2",children:a.map(h=>m.jsx(d,{jugador:h},h.nombre))})]})]}),m.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 pt-4 border-t border-gray-600/50",children:[m.jsx("button",{onClick:()=>r(null),className:"w-full bg-gray-600 hover:bg-gray-500 text-white font-bold py-3 px-4 rounded-lg transition-colors text-lg",children:"Cancelar"}),m.jsx("button",{onClick:c,disabled:!i,className:"w-full bg-green-600 hover:bg-green-500 text-white font-bold py-3 px-4 rounded-lg transition-colors disabled:bg-gray-500 disabled:cursor-not-allowed text-lg",children:"Confirmar MVP y Guardar"})]})]})})}function zR({mensaje:e,tipo:t="info"}){const n={info:"bg-blue-600 text-white",gol:"bg-green-500 text-white",tarjeta:"bg-yellow-400 text-black",roja:"bg-red-600 text-white",success:"bg-emerald-500 text-white"};return m.jsx("div",{className:"fixed bottom-6 left-1/2 -translate-x-1/2 z-[9999]",children:m.jsx("div",{className:`px-6 py-3 rounded-full shadow-lg animate-fade-in-out transition duration-500 ${n[t]||n.info}`,children:m.jsx("p",{className:"text-sm font-bold",children:e})})})}function h8(e=null){const[t,n]=w.useState(0),[r,i]=w.useState(!1),s=w.useRef(null),o=d=>{if(!e)return;const h=String(Math.floor(d/60)).padStart(2,"0"),f=String(d%60).padStart(2,"0");Ze(ee(te,`partidos/${e}/cronometro/tiempo`),`${h}:${f}`)},a=()=>{s.current||(i(!0),s.current=setInterval(()=>{n(d=>{const h=d+1;return o(h),h})},1e3))},l=()=>{i(!1),clearInterval(s.current),s.current=null};return{tiempo:t,enMarcha:r,iniciar:a,pausar:l,reiniciar:()=>{l(),n(0),o(0)}}}const f8=({equipo1:e,equipo2:t,goles:n,minuto:r})=>m.jsx("div",{className:"bg-gray-900 bg-opacity-60 backdrop-blur-sm rounded-xl p-4 shadow-lg text-white font-qatar",children:m.jsxs("div",{className:"flex justify-between items-center",children:[m.jsxs("div",{className:"flex flex-col items-center w-1/3 text-center",children:[m.jsx("img",{src:`/EmproChampions-2025/img/escudos/${e.logo}`,alt:e.nombre,className:"h-16 w-16 md:h-24 md:w-24 object-contain"}),m.jsx("span",{className:"mt-2 text-sm md:text-lg font-bold",children:e.nombre})]}),m.jsxs("div",{className:"flex flex-col items-center w-1/3 text-center",children:[m.jsxs("div",{className:"text-4xl md:text-6xl font-black tracking-wider",children:[m.jsx("span",{children:n.equipo1}),m.jsx("span",{className:"mx-2 text-yellow-400",children:"-"}),m.jsx("span",{children:n.equipo2})]}),m.jsx("div",{className:"text-lg md:text-2xl mt-2 font-semibold bg-black/50 px-3 py-1 rounded-md",children:r})]}),m.jsxs("div",{className:"flex flex-col items-center w-1/3 text-center",children:[m.jsx("img",{src:`/EmproChampions-2025/img/escudos/${t.logo}`,alt:t.nombre,className:"h-16 w-16 md:h-24 md:w-24 object-contain"}),m.jsx("span",{className:"mt-2 text-sm md:text-lg font-bold",children:t.nombre})]})]})}),p8=e=>{const t="/EmproChampions-2025/";let n="";return e.tipo.includes("gol")?n="pelota.svg":e.tipo.includes("amarilla")?n="amarilla.svg":e.tipo.includes("roja")?n="roja.svg":e.tipo.includes("cambio")&&(n="cambio.svg"),n?`${t}img/${n}`:null},m8=({eventos:e})=>!e||e.length===0?m.jsx("div",{className:"text-center text-white text-opacity-70 mt-8 py-10",children:"El partido est por comenzar."}):m.jsxs("div",{className:"relative mt-8 py-5 font-barcelona",children:[m.jsx("div",{className:"absolute top-0 left-1/2 w-0.5 h-full bg-gray-500/30"}),e.map((t,n)=>{const r=t.equipo==="equipo1",i=p8(t),s=()=>m.jsxs("div",{className:`flex items-center gap-3 w-full ${r?"flex-row-reverse":"flex-row"}`,children:[m.jsx("span",{className:"font-bold text-sm text-white truncate max-w-[150px] md:max-w-xs",children:t.jugador||`${t.titular}  ${t.suplente}`}),i&&m.jsx("img",{src:i,alt:t.tipo,className:"w-5 h-5"})]});return m.jsxs("div",{className:"relative flex items-center justify-center my-6 h-6",children:[m.jsx("div",{className:"w-1/2 pr-8 flex justify-end",children:r&&m.jsx(s,{})}),m.jsx("div",{className:"absolute z-10 bg-[#1a1d23] px-1.5 py-0.5 rounded-full border border-gray-600/50",children:m.jsxs("span",{className:"text-yellow-400 font-bold text-xs",children:[t.minuto,"'"]})}),m.jsx("div",{className:"w-1/2 pl-8 flex justify-start",children:!r&&m.jsx(s,{})})]},t.id||n)})]});function g8(){const{partidoId:e}=Gv(),t=$n(),[n,r]=w.useState(null),[i,s]=w.useState(null),[o,a]=w.useState({equipo1:0,equipo2:0}),[l,c]=w.useState([]),[d,h]=w.useState([]),[f,g]=w.useState([]),[v,S]=w.useState([]),[k,_]=w.useState(null),[b,E]=w.useState(null),[R,D]=w.useState(null),[M,T]=w.useState(!1),[C,I]=w.useState(null),[y,N]=w.useState(!1),O=h8(e);w.useEffect(()=>{if(!e)return;const J={alineacion:ee(te,`partidos/${e}/alineacion`),marcador:ee(te,`partidos/${e}/marcador`),eventos:ee(te,`partidos/${e}/eventos`)},se=[Et(J.alineacion,ce=>{ce.exists()&&(r(ce.val().equipo1),s(ce.val().equipo2))}),Et(J.marcador,ce=>{ce.exists()&&a(ce.val())}),Et(J.eventos,ce=>{if(!ce.exists()){S([]);return}const oe=ce.val(),je=[],Fe=[],We=[],gt=[];for(const le in oe.goles)Fe.push({...oe.goles[le],id:le}),je.push({...oe.goles[le],id:le});for(const le in oe.tarjetas)We.push({...oe.tarjetas[le],id:le}),je.push({...oe.tarjetas[le],id:le});for(const le in oe.cambios)gt.push({...oe.cambios[le],id:le}),je.push({...oe.cambios[le],id:le});c(Fe),h(We),g(gt),je.sort((le,jr)=>{if(!le.minuto||!jr.minuto)return 0;const[yo,zn]=le.minuto.split(":").map(Number),[vo,ct]=jr.minuto.split(":").map(Number);return yo*60+zn-(vo*60+ct)}),S(je)})];return()=>{Object.keys(J).forEach((ce,oe)=>{se[oe]&&Kc(J[ce],"value",se[oe])})}},[e]);const A=(J,se="info")=>{I({mensaje:J,tipo:se}),setTimeout(()=>I(null),4e3)},V=()=>{const J=String(Math.floor(O.tiempo/60)).padStart(2,"0"),se=String(O.tiempo%60).padStart(2,"0");return`${J}:${se}`},U=J=>{if(!O.enMarcha){A("El cronmetro debe estar en marcha","error");return}O.pausar(),_(J)},q=J=>E(J),G=J=>D(J),F=async J=>{const se=k,ce=ee(te,`partidos/${e}/marcador`),oe={...o,[se]:(o[se]||0)+1};await Ze(ce,oe);const je=ee(te,`partidos/${e}/eventos/goles`);await Zd(je,{tipo:"gol",equipo:se,jugador:J.nombre,minuto:V()}),_(null),O.iniciar(),A("Gol registrado!","success")},K=async({jugador:J,tipo:se,minuto:ce})=>{const oe=b,je=ee(te,`partidos/${e}/eventos/tarjetas`);await Zd(je,{tipo:se,equipo:oe,jugador:J,minuto:ce}),E(null),A(`Tarjeta ${se} a ${J} (${ce})`,se==="roja"?"roja":"tarjeta")},X=async(J,se,ce)=>{const oe=R;let je=oe==="equipo1"?n:i,Fe=je.jugadores.map(le=>le.nombre===J?{...le,enJuego:!1,haJugado:!0}:le),We=je.todosJugadores.find(le=>le.nombre===se)||{nombre:se,dorsal:"?",enJuego:!0,haJugado:!0};We={...We,enJuego:!0,haJugado:!0},Fe.some(le=>le.nombre===We.nombre)?Fe=Fe.map(le=>le.nombre===We.nombre?{...le,enJuego:!0,haJugado:!0}:le):Fe.push(We),await Ze(ee(te,`partidos/${e}/alineacion/${oe}/jugadores`),Fe),oe==="equipo1"?r({...n,jugadores:Fe}):s({...i,jugadores:Fe});const gt=ee(te,`partidos/${e}/eventos/cambios`);await Zd(gt,{tipo:"cambio",equipo:oe,titular:J,suplente:se,minuto:ce}),D(null),A(`Cambio: sale ${J}, entra ${se} (${ce})`,"info")},ae=()=>{O.pausar(),T(!0),A("Partido finalizado. Selecciona el MVP","success")},ie=async J=>{var se;if(y){console.log("Guardado ya en progreso. Evitando doble ejecucin.");return}if(N(!0),!J){console.log("Guardado cancelado porque no se seleccion MVP."),T(!1),N(!1);return}console.log("Iniciando guardado final del partido...");try{const oe=((se=(await ar(ee(te,`partidos/${e}/alineacion`))).val())==null?void 0:se.genero)||"masculino",je={marcador:o,mvp:J,terminado:!0,timestamp:Date.now()};await Ze(ee(te,`partidos/${e}/resultado`),je),await Ze(ee(te,`partidos/${e}/estado`),"finalizado"),console.log("Paso 1/4: Resultado del partido guardado.");const Fe=ee(te,`tablas/${oe}`),gt=(await ar(Fe)).val()||{},le=(ct,wi,Xa,Jt)=>{if(!ct||!ct.nombre)return;const hn=gt[ct.nombre]||{pj:0,pg:0,pe:0,pp:0,gf:0,gc:0,puntos:0,logo:ct.logo};hn.pj++,hn.gf+=wi,hn.gc+=Xa,Jt==="victoria"?(hn.pg++,hn.puntos+=3):Jt==="empate"?(hn.pe++,hn.puntos+=1):hn.pp++,gt[ct.nombre]=hn};o.equipo1>o.equipo2?(le(n,o.equipo1,o.equipo2,"victoria"),le(i,o.equipo2,o.equipo1,"derrota")):o.equipo2>o.equipo1?(le(n,o.equipo1,o.equipo2,"derrota"),le(i,o.equipo2,o.equipo1,"victoria")):(le(n,o.equipo1,o.equipo2,"empate"),le(i,o.equipo2,o.equipo1,"empate")),await Ze(Fe,gt),console.log("Paso 2/4: Tabla de posiciones actualizada.");const jr=ee(te,`goleadoresDetalles/${oe}`),zn=(await ar(jr)).val()||{};for(const ct of l){if(!ct.jugador)continue;const wi=ct.jugador.replace(/[.#$[\]]/g,"_");if(zn[wi]||(zn[wi]=[]),!zn[wi].some(Jt=>Jt.idDelGol===ct.id)){const Jt=ct.equipo==="equipo1"?n:i;zn[wi].push({idDelGol:ct.id,minuto:ct.minuto,partidoId:e,partidoNombre:`${(n==null?void 0:n.nombre)||"Equipo 1"} vs ${(i==null?void 0:i.nombre)||"Equipo 2"}`,fecha:new Date().toLocaleDateString("es-HN"),equipo:(Jt==null?void 0:Jt.nombre)||"",logo:(Jt==null?void 0:Jt.logo)||"",jugador:ct.jugador})}}await Ze(jr,zn),console.log("Paso 3/4: Detalles de goleadores actualizados.");const vo=ee(te,`historial/${oe}/${e}`);await Ze(vo,{fecha:new Date().toLocaleDateString("es-HN"),equipo1:(n==null?void 0:n.nombre)||"Equipo 1",equipo2:(i==null?void 0:i.nombre)||"Equipo 2",logo1:(n==null?void 0:n.logo)||"",logo2:(i==null?void 0:i.logo)||"",goles1:o.equipo1,goles2:o.equipo2,mvp:(J==null?void 0:J.nombre)||"No definido"}),console.log("Paso 4/4: Historial de partidos actualizado."),T(!1),A("Partido guardado correctamente","success"),console.log("xito! Redirigiendo..."),setTimeout(()=>t("/"),1500)}catch(ce){console.error("ERROR AL GUARDAR EL PARTIDO:",ce),A("Error al guardar. Revisa la consola.","error"),N(!1)}},H=()=>o.equipo1>o.equipo2?n:o.equipo2>o.equipo1?i:{nombre:"Empate",logo:"logo-empro.png"};return!n||!i?m.jsxs("div",{className:"w-full min-h-screen bg-cover bg-center text-white flex flex-col bg-main-background",children:[m.jsx(ur,{}),m.jsx("div",{className:"flex-grow flex items-center justify-center text-center p-4",children:m.jsx("div",{children:m.jsx("h2",{className:"text-3xl font-bold",children:"Cargando datos del partido..."})})}),m.jsx(dr,{})]}):m.jsxs("div",{className:"w-full min-h-screen bg-cover bg-center text-white font-qatar px-2 md:px-8 py-4 bg-main-background flex flex-col",children:[m.jsx(ur,{}),m.jsxs("div",{className:"container mx-auto flex-grow",children:[m.jsx(f8,{equipo1:n,equipo2:i,goles:o,minuto:V()}),m.jsxs("div",{className:"flex justify-center gap-4 my-6",children:[m.jsx("button",{onClick:O.iniciar,disabled:O.enMarcha,className:"bg-green-500 hover:bg-green-600 text-white font-bold py-2 px-4 rounded disabled:bg-gray-500",children:" Iniciar"}),m.jsx("button",{onClick:O.pausar,disabled:!O.enMarcha,className:"bg-yellow-500 hover:bg-yellow-600 text-white font-bold py-2 px-4 rounded disabled:bg-gray-500",children:" Pausar"}),m.jsx("button",{onClick:O.reiniciar,className:"bg-red-500 hover:bg-red-600 text-white font-bold py-2 px-4 rounded",children:" Reiniciar"})]}),m.jsxs("div",{className:"bg-black/40 backdrop-blur-sm p-4 rounded-lg flex flex-wrap justify-center gap-x-6 gap-y-3 shadow-lg",children:[m.jsxs("button",{onClick:()=>U("equipo1"),className:"text-white font-semibold hover:text-green-400 transition-colors",children:["Gol ",n.nombre]}),m.jsxs("button",{onClick:()=>q("equipo1"),className:"text-white font-semibold hover:text-yellow-400 transition-colors",children:["Tarjeta ",n.nombre]}),m.jsxs("button",{onClick:()=>G("equipo1"),className:"text-white font-semibold hover:text-blue-400 transition-colors",children:["Cambio ",n.nombre]}),m.jsx("div",{className:"w-full md:w-auto h-px md:h-auto md:w-px bg-white/20"}),m.jsxs("button",{onClick:()=>U("equipo2"),className:"text-white font-semibold hover:text-green-400 transition-colors",children:["Gol ",i.nombre]}),m.jsxs("button",{onClick:()=>q("equipo2"),className:"text-white font-semibold hover:text-yellow-400 transition-colors",children:["Tarjeta ",i.nombre]}),m.jsxs("button",{onClick:()=>G("equipo2"),className:"text-white font-semibold hover:text-blue-400 transition-colors",children:["Cambio ",i.nombre]})]}),m.jsx(m8,{eventos:v}),m.jsx("div",{className:"text-center mt-12",children:m.jsx("button",{onClick:ae,className:"bg-yellow-500 hover:bg-yellow-600 text-black font-extrabold text-2xl px-12 py-4 rounded-full shadow-xl",children:"Finalizar Partido"})})]}),k&&m.jsx(l8,{equipo:k,jugadores:(k==="equipo1"?n.jugadores:i.jugadores).filter(J=>J.enJuego!==!1),minuto:V(),onSeleccion:F,onClose:()=>{_(null),O.iniciar()}}),b&&m.jsx(c8,{equipo:b,jugadores:(b==="equipo1"?n.jugadores:i.jugadores).filter(J=>J.enJuego!==!1),minuto:V(),onConfirm:K,onClose:()=>E(null)}),R&&m.jsx(u8,{equipo:R,jugadores:R==="equipo1"?n.todosJugadores:i.todosJugadores,minuto:V(),onConfirm:X,onClose:()=>D(null)}),M&&m.jsx(d8,{equipoGanador:H(),equipo1:n,equipo2:i,onClose:ie}),C&&m.jsx(zR,{mensaje:C.mensaje,tipo:C.tipo}),m.jsx(dr,{})]})}function y8(){const[e,t]=w.useState([]),[n,r]=w.useState("masculino"),[i,s]=w.useState(null);w.useEffect(()=>{const a=ee(te,`goleadores/${n}`);Et(a,l=>{const c=l.val();if(c){const d=Object.values(c).sort((h,f)=>f.goles-h.goles);t(d)}else t([])})},[n]);const o=a=>{s(i===a?null:a)};return m.jsxs("div",{className:"w-full min-h-screen bg-cover bg-center text-white font-qatar bg-main-background flex flex-col",children:[m.jsx(ur,{}),m.jsxs("div",{className:"container mx-auto px-4 py-8 flex-grow",children:[m.jsx("h1",{className:"text-5xl font-bold text-center text-yellow-400 drop-shadow-lg mb-6",children:"Tabla de Goleadores"}),m.jsxs("div",{className:"flex justify-center mb-8 bg-black/30 rounded-full p-1 max-w-sm mx-auto",children:[m.jsx("button",{onClick:()=>r("masculino"),className:`w-1/2 py-2 rounded-full font-bold transition-colors ${n==="masculino"?"bg-yellow-400 text-black":"hover:bg-white/10"}`,children:"Masculino"}),m.jsx("button",{onClick:()=>r("femenino"),className:`w-1/2 py-2 rounded-full font-bold transition-colors ${n==="femenino"?"bg-yellow-400 text-black":"hover:bg-white/10"}`,children:"Femenino"})]}),m.jsx("div",{className:"space-y-4 max-w-4xl mx-auto",children:e.map((a,l)=>m.jsxs("div",{className:"bg-black/50 backdrop-blur-sm rounded-xl shadow-lg p-4 transition-all duration-300",children:[m.jsxs("div",{className:"flex items-center gap-4",children:[m.jsx("span",{className:"text-3xl font-bold text-yellow-400 w-8 text-center",children:l+1}),m.jsx("img",{src:`/EmproChampions-2025/img/escudos/${a.logo}`,alt:a.equipo,className:"w-12 h-12 object-contain"}),m.jsxs("div",{className:"flex-grow",children:[m.jsx("h2",{className:"text-2xl font-bold",children:a.nombre}),m.jsx("p",{className:"text-sm opacity-80",children:a.equipo})]}),m.jsxs("div",{className:"text-right flex items-center gap-4",children:[m.jsxs("div",{children:[m.jsx("p",{className:"text-4xl font-extrabold",children:a.goles}),m.jsx("p",{className:"text-sm opacity-80 -mt-1",children:"Goles"})]}),m.jsx("button",{onClick:()=>o(a.nombre),className:"bg-yellow-400 text-black font-bold h-10 px-4 rounded-lg text-sm transition hover:bg-yellow-300",children:"Detalles"})]})]}),i===a.nombre&&m.jsxs("div",{className:"pl-14 mt-4 border-t border-white/10 pt-3",children:[m.jsx("h4",{className:"font-bold text-yellow-300 mb-2 text-sm",children:"DETALLE DE GOLES:"}),a.detalles&&a.detalles.length>0?a.detalles.map((c,d)=>{var h;return m.jsxs("div",{className:"flex items-center gap-2 text-sm opacity-90 mt-1",children:[m.jsx("span",{children:""}),m.jsxs("span",{children:["vs ",(h=c.partidoNombre)==null?void 0:h.replace(a.equipo,"").replace("vs","").trim()]}),m.jsxs("span",{className:"ml-auto font-mono bg-white/10 px-2 rounded",children:[c.minuto,"'"]})]},d)}):m.jsx("p",{className:"text-sm opacity-70",children:"No hay detalles de goles disponibles."})]})]},a.nombre))})]}),m.jsx(dr,{})]})}const v8=({partidoId:e,onClose:t})=>{var s,o,a,l,c,d,h,f,g;const[n,r]=w.useState(null);if(w.useEffect(()=>{const v=ee(te,`partidos/${e}`);ar(v).then(S=>{var k,_,b,E;if(S.exists()){const R=S.val(),D={marcador:(k=R.resultado)==null?void 0:k.marcador,mvp:(_=R.resultado)==null?void 0:_.mvp,equipo1:(b=R.alineacion)==null?void 0:b.equipo1,equipo2:(E=R.alineacion)==null?void 0:E.equipo2,eventos:R.eventos||{}};r(D)}})},[e]),!n)return m.jsx("div",{className:"fixed inset-0 bg-black/70 flex items-center justify-center z-50",children:m.jsx("p",{className:"text-white text-xl",children:"Cargando detalles..."})});const i=[];return n.eventos.goles&&Object.values(n.eventos.goles).forEach(v=>i.push({...v,tipoVisual:" Gol"})),i.sort((v,S)=>(v.minuto||"00:00").localeCompare(S.minuto||"00:00")),m.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-80 flex justify-center items-center z-50 p-4 font-qatar",onClick:t,children:m.jsxs("div",{className:"bg-gray-800 rounded-xl w-full max-w-md p-6",onClick:v=>v.stopPropagation(),children:[m.jsx("h2",{className:"text-2xl font-bold text-yellow-400 text-center mb-4",children:"Detalles del Partido"}),m.jsxs("div",{className:"flex justify-between items-center mb-4",children:[m.jsxs("div",{className:"flex items-center gap-2 text-lg font-bold w-2/5",children:[m.jsx("img",{src:`/EmproChampions-2025/img/escudos/${(s=n.equipo1)==null?void 0:s.logo}`,className:"w-8 h-8 object-contain",alt:(o=n.equipo1)==null?void 0:o.nombre}),m.jsx("span",{children:(a=n.equipo1)==null?void 0:a.nombre})]}),m.jsxs("span",{className:"font-bold text-2xl",children:[(l=n.marcador)==null?void 0:l.equipo1," - ",(c=n.marcador)==null?void 0:c.equipo2]}),m.jsxs("div",{className:"flex items-center justify-end gap-2 text-lg font-bold w-2/5",children:[m.jsx("span",{className:"text-right",children:(d=n.equipo2)==null?void 0:d.nombre}),m.jsx("img",{src:`/EmproChampions-2025/img/escudos/${(h=n.equipo2)==null?void 0:h.logo}`,className:"w-8 h-8 object-contain",alt:(f=n.equipo2)==null?void 0:f.nombre})]})]}),((g=n.mvp)==null?void 0:g.nombre)&&m.jsxs("p",{className:"text-center mb-4 text-sm",children:["MVP: ",m.jsx("span",{className:"font-bold text-yellow-300",children:n.mvp.nombre})]}),m.jsx("div",{className:"max-h-64 overflow-y-auto space-y-2 border-t border-white/10 pt-3",children:i.map((v,S)=>m.jsxs("div",{className:"flex items-center text-sm p-2 bg-white/5 rounded",children:[m.jsxs("span",{className:"font-mono w-12",children:[v.minuto,"'"]}),m.jsx("span",{className:"w-24",children:v.tipoVisual}),m.jsx("span",{className:"font-bold flex-grow",children:v.jugador})]},S))}),m.jsx("button",{onClick:t,className:"w-full mt-6 bg-yellow-400 text-black font-bold py-2 rounded-lg",children:"Cerrar"})]})})};function w8(){const{user:e}=mo(),t=$n(),[n,r]=w.useState([]),[i,s]=w.useState("masculino"),[o,a]=w.useState(null);return w.useEffect(()=>{const l=ee(te,`historial/${i}`),c=Et(l,d=>{if(d.exists()){const h=Object.entries(d.val()).map(([f,g])=>({id:f,...g})).reverse();r(h)}else r([])});return()=>{Kc(l,"value",c)}},[i]),m.jsxs("div",{className:"w-full min-h-screen bg-cover bg-center text-white font-qatar bg-main-background",children:[m.jsx(ur,{}),m.jsxs("div",{className:"container mx-auto px-4 py-8",children:[m.jsx("h1",{className:"text-5xl font-bold text-center text-yellow-400 drop-shadow-lg mb-6",children:"Historial de Partidos"}),m.jsxs("div",{className:"flex justify-center mb-8 bg-black/30 rounded-full p-1 max-w-sm mx-auto",children:[m.jsx("button",{onClick:()=>s("masculino"),className:`w-1/2 py-2 rounded-full font-bold transition-colors ${i==="masculino"?"bg-yellow-400 text-black":"hover:bg-white/10"}`,children:"Masculino"}),m.jsx("button",{onClick:()=>s("femenino"),className:`w-1/2 py-2 rounded-full font-bold transition-colors ${i==="femenino"?"bg-yellow-400 text-black":"hover:bg-white/10"}`,children:"Femenino"})]}),m.jsx("div",{className:"space-y-4 max-w-4xl mx-auto",children:n.map(l=>m.jsx("div",{className:"bg-black/50 backdrop-blur-sm rounded-xl shadow-lg p-4",children:m.jsxs("div",{className:"flex items-center w-full",children:[m.jsxs("div",{className:"flex-grow space-y-2",children:[m.jsxs("div",{className:"flex items-center gap-3",children:[m.jsx("img",{src:`/EmproChampions-2025/img/escudos/${l.logo1}`,className:"w-8 h-8 object-contain",alt:l.equipo1}),m.jsx("span",{children:l.equipo1})]}),m.jsxs("div",{className:"flex items-center gap-3",children:[m.jsx("img",{src:`/EmproChampions-2025/img/escudos/${l.logo2}`,className:"w-8 h-8 object-contain",alt:l.equipo2}),m.jsx("span",{children:l.equipo2})]})]}),m.jsxs("div",{className:"px-6 text-center",children:[m.jsxs("p",{className:"text-4xl font-extrabold",children:[l.goles1," - ",l.goles2]}),m.jsx("p",{className:"text-xs opacity-70",children:l.fecha})]}),m.jsxs("div",{className:"flex items-center gap-2 ml-auto",children:[e&&m.jsx("button",{onClick:()=>t(`/partido/editar/${l.id}`),className:"bg-blue-500 hover:bg-blue-400 text-white font-bold h-10 px-4 rounded-lg text-sm transition",children:"Editar"}),m.jsx("button",{onClick:()=>a(l.id),className:"bg-yellow-400 text-black font-bold h-10 px-4 rounded-lg text-sm transition hover:bg-yellow-300",children:"Detalles"})]})]})},l.id))})]}),o&&m.jsx(v8,{partidoId:o,onClose:()=>a(null)}),m.jsx(dr,{})]})}const _8=[{nombre:"Atrapados",escudo:"/EmproChampions-2025/img/escudos/atrapados.png"},{nombre:"Bosco",escudo:"/EmproChampions-2025/img/escudos/bosco.png"},{nombre:"Emprosaurios",escudo:"/EmproChampions-2025/img/escudos/emprosaurios.png"},{nombre:"Huellas",escudo:"/EmproChampions-2025/img/escudos/huellas.png"},{nombre:"Luz",escudo:"/EmproChampions-2025/img/escudos/luz.png"},{nombre:"Mensajeros",escudo:"/EmproChampions-2025/img/escudos/mensajeros.png"}],x8=[{nombre:"Atrapados",escudo:"/EmproChampions-2025/img/escudos/atrapados.png"},{nombre:"Bosco",escudo:"/EmproChampions-2025/img/escudos/bosco.png"},{nombre:"Huellas",escudo:"/EmproChampions-2025/img/escudos/huellas.png"},{nombre:"Luz",escudo:"/EmproChampions-2025/img/escudos/luz.png"},{nombre:"Mensajeros",escudo:"/EmproChampions-2025/img/escudos/mensajeros.png"}];function iC(){const[e,t]=w.useState("masculino"),n=$n(),r=e==="masculino"?_8:x8,[i,s]=w.useState(0),[o,a]=w.useState(1),[l,c]=w.useState(!0),[d,h]=w.useState(!0),f=(v,S)=>{const k=r.length;v==="local"?(c(!1),setTimeout(()=>{s(_=>(_+S+k)%k),c(!0)},150)):(h(!1),setTimeout(()=>{a(_=>(_+S+k)%k),h(!0)},150))},g=async()=>{const v=r[i],S=r[o];if(v.nombre===S.nombre){alert("El equipo local y visitante no pueden ser el mismo.");return}await Ze(ee(te,"selecciones/equipoLocal"),v),await Ze(ee(te,"selecciones/equipoVisita"),S),await Ze(ee(te,"selecciones/generoPartido"),e),n("/partido/alineacion",{state:{equipoLocal:v,equipoVisita:S,genero:e,fecha:Date.now()}})};return m.jsxs("div",{className:"min-h-screen bg-cover bg-center font-qatar text-white flex flex-col",style:{backgroundImage:"url('/EmproChampions-2025/img/fondoempro-horizontal.png')"},children:[m.jsx(ur,{}),m.jsxs("div",{className:"flex justify-center gap-4 mt-6",children:[m.jsx("button",{onClick:()=>{t("masculino"),s(0),a(1)},className:`px-4 py-2 font-bold rounded-full border-2 ${e==="masculino"?"bg-[#FFD700] text-[#7a0026] border-yellow-400":"bg-transparent border-white text-white"} transition`,children:"Masculino"}),m.jsx("button",{onClick:()=>{t("femenino"),s(0),a(1)},className:`px-4 py-2 font-bold rounded-full border-2 ${e==="femenino"?"bg-[#FFD700] text-[#7a0026] border-yellow-400":"bg-transparent border-white text-white"} transition`,children:"Femenino"})]}),m.jsx("h1",{className:"text-3xl sm:text-4xl font-bold text-center mt-6 text-yellow-400 drop-shadow",children:"Seleccin de Equipos"}),m.jsx("div",{className:"flex flex-col items-center justify-center px-6",children:m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-10 mt-6 mx-auto px-4 max-w-6xl",children:[m.jsxs("div",{className:"flex flex-col bg-white/90 rounded-2xl p-8 w-full max-w-[460px] text-[#7a0026] shadow-xl transition-all duration-300 min-h-[460px] justify-center items-center",children:[m.jsx("h2",{className:"font-bold text-2xl mb-4",children:"Equipo Local"}),m.jsxs("div",{className:`flex flex-col items-center transition-opacity duration-300 ease-in-out ${l?"opacity-100":"opacity-0"}`,children:[m.jsx("img",{src:r[i].escudo,alt:r[i].nombre,className:"w-32 h-32 object-contain mb-4 drop-shadow-md"}),m.jsx("p",{className:"text-3xl font-black",children:r[i].nombre})]}),m.jsxs("div",{className:"flex gap-10 mt-6",children:[m.jsx("button",{onClick:()=>f("local",-1),className:"text-4xl text-[#FFD700] hover:scale-110 transition",children:""}),m.jsx("button",{onClick:()=>f("local",1),className:"text-4xl text-[#FFD700] hover:scale-110 transition",children:""})]})]}),m.jsxs("div",{className:"flex flex-col bg-white/90 rounded-2xl p-8 w-full max-w-[460px] text-[#7a0026] shadow-xl transition-all duration-300 min-h-[460px] justify-center items-center",children:[m.jsx("h2",{className:"font-bold text-2xl mb-4",children:"Equipo Visitante"}),m.jsxs("div",{className:`flex flex-col items-center transition-opacity duration-300 ease-in-out ${d?"opacity-100":"opacity-0"}`,children:[m.jsx("img",{src:r[o].escudo,alt:r[o].nombre,className:"w-32 h-32 object-contain mb-4 drop-shadow-md"}),m.jsx("p",{className:"text-3xl font-black",children:r[o].nombre})]}),m.jsxs("div",{className:"flex gap-10 mt-6",children:[m.jsx("button",{onClick:()=>f("visita",-1),className:"text-4xl text-[#FFD700] hover:scale-110 transition",children:""}),m.jsx("button",{onClick:()=>f("visita",1),className:"text-4xl text-[#FFD700] hover:scale-110 transition",children:""})]})]})]})}),m.jsx("div",{className:"flex justify-center mt-12 mb-20",children:m.jsx("button",{onClick:g,className:"bg-[#FFD700] text-[#7a0026] font-bold px-10 py-4 rounded-full hover:bg-yellow-300 transition text-xl shadow-lg",children:"Siguiente"})}),m.jsx(dr,{})]})}const E8=[{nombre:"Juan Prez",dorsal:7,genero:"masculino"},{nombre:"Carlos Torres",dorsal:10,genero:"masculino"},{nombre:"Luis Lpez",dorsal:5,genero:"masculino"},{nombre:"Mario Paz",dorsal:11,genero:"masculino"},{nombre:"Erick Rodrguez",dorsal:2,genero:"masculino"},{nombre:"Erick 2",dorsal:0,genero:"masculino"},{nombre:"Antonio Daz",dorsal:4,genero:"masculino"},{nombre:"Sofia Garca",dorsal:1,genero:"femenino"},{nombre:"Valeria Castro",dorsal:9,genero:"femenino"}],b8=[{nombre:"Andrs Gutirrez",dorsal:3,genero:"masculino"},{nombre:"David Martnez",dorsal:1,genero:"masculino"},{nombre:"Pedro Ramrez",dorsal:8,genero:"masculino"},{nombre:"Fernando Vargas",dorsal:9,genero:"masculino"},{nombre:"Ral Cruz",dorsal:6,genero:"masculino"},{nombre:"Erick Rodrguez",dorsal:2,genero:"masculino"},{nombre:"Mauricio Salinas",dorsal:14,genero:"masculino"},{nombre:"Ana Lpez",dorsal:2,genero:"femenino"},{nombre:"Mara Prez",dorsal:10,genero:"femenino"}],C8=[{nombre:"Saurio Uno",dorsal:21,genero:"masculino"},{nombre:"Saurio Dos",dorsal:22,genero:"masculino"},{nombre:"Saurio Tres",dorsal:23,genero:"masculino"},{nombre:"Saurio Cuatro",dorsal:24,genero:"masculino"},{nombre:"Saurio Cinco",dorsal:25,genero:"masculino"},{nombre:"Saurio Seis",dorsal:26,genero:"masculino"}],S8=[{nombre:"Diego Muoz",dorsal:2,genero:"masculino"},{nombre:"Bryan Meja",dorsal:5,genero:"masculino"},{nombre:"Samuel Rivera",dorsal:8,genero:"masculino"},{nombre:"Kevin Palacios",dorsal:7,genero:"masculino"},{nombre:"Jos Martnez",dorsal:13,genero:"masculino"},{nombre:"Ricardo Castillo",dorsal:17,genero:"masculino"},{nombre:"Laura Ruiz",dorsal:3,genero:"femenino"},{nombre:"Andrea Soto",dorsal:6,genero:"femenino"}],T8=[{nombre:"Oscar Varela",dorsal:4,genero:"masculino"},{nombre:"David Salgado",dorsal:12,genero:"masculino"},{nombre:"Enrique Orellana",dorsal:9,genero:"masculino"},{nombre:"Manuel Molina",dorsal:3,genero:"masculino"},{nombre:"Javier Castro",dorsal:16,genero:"masculino"},{nombre:"Julio Soto",dorsal:18,genero:"masculino"},{nombre:"Daniela Paz",dorsal:4,genero:"femenino"},{nombre:"Camila Vargas",dorsal:11,genero:"femenino"}],k8=[{nombre:"Cristian Ayala",dorsal:19,genero:"masculino"},{nombre:"Luis Mndez",dorsal:6,genero:"masculino"},{nombre:"lvaro Salinas",dorsal:11,genero:"masculino"},{nombre:"Sergio Paz",dorsal:8,genero:"masculino"},{nombre:"Oscar Aguilar",dorsal:20,genero:"masculino"},{nombre:"Juan Martnez",dorsal:15,genero:"masculino"},{nombre:"Natalia Daz",dorsal:5,genero:"femenino"},{nombre:"Paula Meja",dorsal:8,genero:"femenino"}],r0={atrapados:E8,bosco:b8,emprosaurios:C8,huellas:S8,luz:T8,mensajeros:k8};function I8({tipo:e,index:t,jugador:n,onSave:r,onClose:i,camiseta:s,dorsalColor:o,jugadoresActuales:a,nombreEquipo:l}){const c=l==null?void 0:l.toLowerCase(),d=r0[c]||[],h=a.filter((_,b)=>b!==t&&_.nombre).map(_=>_.nombre),f=d.filter(_=>!h.includes(_.nombre)),g=n&&n.nombre&&n.dorsal?`${n.nombre}|${n.dorsal}`:"",[v,S]=w.useState(g),k=()=>{if(!v)return;const[_,b]=v.split("|");r(t,e,{nombre:_,dorsal:b})};return m.jsx("div",{className:"fixed inset-0 flex items-center justify-center z-50 bg-black/50",children:m.jsxs("div",{className:"bg-white rounded-xl shadow-xl p-6 text-black relative w-80 md:w-96 mx-auto",children:[m.jsx("button",{onClick:i,className:"absolute top-3 right-3 text-[#7a0026] font-bold text-xl",title:"Cerrar",children:""}),m.jsx("div",{className:"flex flex-col items-center mb-4",children:m.jsx("img",{src:s,alt:"camiseta",className:"w-16 h-16 mb-2"})}),m.jsx("label",{className:"block font-bold mb-1 text-[#7a0026]",children:"Jugador"}),m.jsxs("select",{className:"w-full px-4 py-2 border rounded",value:v,onChange:_=>S(_.target.value),children:[m.jsx("option",{value:"",children:"Selecciona un jugador"}),f.map(_=>m.jsxs("option",{value:`${_.nombre}|${_.dorsal}`,children:[_.nombre," (#",_.dorsal,")"]},_.dorsal+_.nombre))]}),m.jsx("button",{disabled:!v,onClick:k,className:"w-full bg-[#FFD700] text-[#7a0026] font-bold py-2 rounded mt-4 hover:bg-yellow-400 transition disabled:bg-gray-400",children:"Guardar"}),m.jsx("button",{onClick:i,className:"w-full bg-gray-300 text-[#7a0026] font-bold py-2 rounded mt-2 hover:bg-gray-400 transition",children:"Cancelar"})]})})}const i_=w.createContext({});function s_(e){const t=w.useRef(null);return t.current===null&&(t.current=e()),t.current}const o_=typeof window<"u",WR=o_?w.useLayoutEffect:w.useEffect,dp=w.createContext(null);function a_(e,t){e.indexOf(t)===-1&&e.push(t)}function l_(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}const ui=(e,t,n)=>n>t?t:n<e?e:n;let c_=()=>{};const di={},HR=e=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(e);function qR(e){return typeof e=="object"&&e!==null}const GR=e=>/^0[^.\s]+$/u.test(e);function u_(e){let t;return()=>(t===void 0&&(t=e()),t)}const On=e=>e,P8=(e,t)=>n=>t(e(n)),ku=(...e)=>e.reduce(P8),Yc=(e,t,n)=>{const r=t-e;return r===0?1:(n-e)/r};class d_{constructor(){this.subscriptions=[]}add(t){return a_(this.subscriptions,t),()=>l_(this.subscriptions,t)}notify(t,n,r){const i=this.subscriptions.length;if(i)if(i===1)this.subscriptions[0](t,n,r);else for(let s=0;s<i;s++){const o=this.subscriptions[s];o&&o(t,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const kr=e=>e*1e3,Ir=e=>e/1e3;function KR(e,t){return t?e*(1e3/t):0}const YR=(e,t,n)=>(((1-3*n+3*t)*e+(3*n-6*t))*e+3*t)*e,R8=1e-7,A8=12;function N8(e,t,n,r,i){let s,o,a=0;do o=t+(n-t)/2,s=YR(o,r,i)-e,s>0?n=o:t=o;while(Math.abs(s)>R8&&++a<A8);return o}function Iu(e,t,n,r){if(e===t&&n===r)return On;const i=s=>N8(s,0,1,e,n);return s=>s===0||s===1?s:YR(i(s),t,r)}const XR=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,JR=e=>t=>1-e(1-t),QR=Iu(.33,1.53,.69,.99),h_=JR(QR),ZR=XR(h_),eA=e=>(e*=2)<1?.5*h_(e):.5*(2-Math.pow(2,-10*(e-1))),f_=e=>1-Math.sin(Math.acos(e)),tA=JR(f_),nA=XR(f_),D8=Iu(.42,0,1,1),O8=Iu(0,0,.58,1),rA=Iu(.42,0,.58,1),M8=e=>Array.isArray(e)&&typeof e[0]!="number",iA=e=>Array.isArray(e)&&typeof e[0]=="number",L8={linear:On,easeIn:D8,easeInOut:rA,easeOut:O8,circIn:f_,circInOut:nA,circOut:tA,backIn:h_,backInOut:ZR,backOut:QR,anticipate:eA},j8=e=>typeof e=="string",sC=e=>{if(iA(e)){c_(e.length===4);const[t,n,r,i]=e;return Iu(t,n,r,i)}else if(j8(e))return L8[e];return e},Ed=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"],oC={value:null,addProjectionMetrics:null};function F8(e,t){let n=new Set,r=new Set,i=!1,s=!1;const o=new WeakSet;let a={delta:0,timestamp:0,isProcessing:!1},l=0;function c(h){o.has(h)&&(d.schedule(h),e()),l++,h(a)}const d={schedule:(h,f=!1,g=!1)=>{const S=g&&i?n:r;return f&&o.add(h),S.has(h)||S.add(h),h},cancel:h=>{r.delete(h),o.delete(h)},process:h=>{if(a=h,i){s=!0;return}i=!0,[n,r]=[r,n],n.forEach(c),t&&oC.value&&oC.value.frameloop[t].push(l),l=0,n.clear(),i=!1,s&&(s=!1,d.process(h))}};return d}const $8=40;function sA(e,t){let n=!1,r=!0;const i={delta:0,timestamp:0,isProcessing:!1},s=()=>n=!0,o=Ed.reduce((E,R)=>(E[R]=F8(s,t?R:void 0),E),{}),{setup:a,read:l,resolveKeyframes:c,preUpdate:d,update:h,preRender:f,render:g,postRender:v}=o,S=()=>{const E=di.useManualTiming?i.timestamp:performance.now();n=!1,di.useManualTiming||(i.delta=r?1e3/60:Math.max(Math.min(E-i.timestamp,$8),1)),i.timestamp=E,i.isProcessing=!0,a.process(i),l.process(i),c.process(i),d.process(i),h.process(i),f.process(i),g.process(i),v.process(i),i.isProcessing=!1,n&&t&&(r=!1,e(S))},k=()=>{n=!0,r=!0,i.isProcessing||e(S)};return{schedule:Ed.reduce((E,R)=>{const D=o[R];return E[R]=(M,T=!1,C=!1)=>(n||k(),D.schedule(M,T,C)),E},{}),cancel:E=>{for(let R=0;R<Ed.length;R++)o[Ed[R]].cancel(E)},state:i,steps:o}}const{schedule:Be,cancel:ss,state:wt,steps:cg}=sA(typeof requestAnimationFrame<"u"?requestAnimationFrame:On,!0);let eh;function V8(){eh=void 0}const sn={now:()=>(eh===void 0&&sn.set(wt.isProcessing||di.useManualTiming?wt.timestamp:performance.now()),eh),set:e=>{eh=e,queueMicrotask(V8)}},oA=e=>t=>typeof t=="string"&&t.startsWith(e),p_=oA("--"),U8=oA("var(--"),m_=e=>U8(e)?B8.test(e.split("/*")[0].trim()):!1,B8=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,qa={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},Xc={...qa,transform:e=>ui(0,1,e)},bd={...qa,default:1},ic=e=>Math.round(e*1e5)/1e5,g_=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function z8(e){return e==null}const W8=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,y_=(e,t)=>n=>!!(typeof n=="string"&&W8.test(n)&&n.startsWith(e)||t&&!z8(n)&&Object.prototype.hasOwnProperty.call(n,t)),aA=(e,t,n)=>r=>{if(typeof r!="string")return r;const[i,s,o,a]=r.match(g_);return{[e]:parseFloat(i),[t]:parseFloat(s),[n]:parseFloat(o),alpha:a!==void 0?parseFloat(a):1}},H8=e=>ui(0,255,e),ug={...qa,transform:e=>Math.round(H8(e))},Fs={test:y_("rgb","red"),parse:aA("red","green","blue"),transform:({red:e,green:t,blue:n,alpha:r=1})=>"rgba("+ug.transform(e)+", "+ug.transform(t)+", "+ug.transform(n)+", "+ic(Xc.transform(r))+")"};function q8(e){let t="",n="",r="",i="";return e.length>5?(t=e.substring(1,3),n=e.substring(3,5),r=e.substring(5,7),i=e.substring(7,9)):(t=e.substring(1,2),n=e.substring(2,3),r=e.substring(3,4),i=e.substring(4,5),t+=t,n+=n,r+=r,i+=i),{red:parseInt(t,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:i?parseInt(i,16)/255:1}}const i0={test:y_("#"),parse:q8,transform:Fs.transform},Pu=e=>({test:t=>typeof t=="string"&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),Si=Pu("deg"),Pr=Pu("%"),re=Pu("px"),G8=Pu("vh"),K8=Pu("vw"),aC=(()=>({...Pr,parse:e=>Pr.parse(e)/100,transform:e=>Pr.transform(e*100)}))(),qo={test:y_("hsl","hue"),parse:aA("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:n,alpha:r=1})=>"hsla("+Math.round(e)+", "+Pr.transform(ic(t))+", "+Pr.transform(ic(n))+", "+ic(Xc.transform(r))+")"},Nt={test:e=>Fs.test(e)||i0.test(e)||qo.test(e),parse:e=>Fs.test(e)?Fs.parse(e):qo.test(e)?qo.parse(e):i0.parse(e),transform:e=>typeof e=="string"?e:e.hasOwnProperty("red")?Fs.transform(e):qo.transform(e)},Y8=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function X8(e){var t,n;return isNaN(e)&&typeof e=="string"&&(((t=e.match(g_))==null?void 0:t.length)||0)+(((n=e.match(Y8))==null?void 0:n.length)||0)>0}const lA="number",cA="color",J8="var",Q8="var(",lC="${}",Z8=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Jc(e){const t=e.toString(),n=[],r={color:[],number:[],var:[]},i=[];let s=0;const a=t.replace(Z8,l=>(Nt.test(l)?(r.color.push(s),i.push(cA),n.push(Nt.parse(l))):l.startsWith(Q8)?(r.var.push(s),i.push(J8),n.push(l)):(r.number.push(s),i.push(lA),n.push(parseFloat(l))),++s,lC)).split(lC);return{values:n,split:a,indexes:r,types:i}}function uA(e){return Jc(e).values}function dA(e){const{split:t,types:n}=Jc(e),r=t.length;return i=>{let s="";for(let o=0;o<r;o++)if(s+=t[o],i[o]!==void 0){const a=n[o];a===lA?s+=ic(i[o]):a===cA?s+=Nt.transform(i[o]):s+=i[o]}return s}}const e7=e=>typeof e=="number"?0:e;function t7(e){const t=uA(e);return dA(e)(t.map(e7))}const os={test:X8,parse:uA,createTransformer:dA,getAnimatableNone:t7};function dg(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+(t-e)*6*n:n<1/2?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function n7({hue:e,saturation:t,lightness:n,alpha:r}){e/=360,t/=100,n/=100;let i=0,s=0,o=0;if(!t)i=s=o=n;else{const a=n<.5?n*(1+t):n+t-n*t,l=2*n-a;i=dg(l,a,e+1/3),s=dg(l,a,e),o=dg(l,a,e-1/3)}return{red:Math.round(i*255),green:Math.round(s*255),blue:Math.round(o*255),alpha:r}}function ff(e,t){return n=>n>0?t:e}const Ve=(e,t,n)=>e+(t-e)*n,hg=(e,t,n)=>{const r=e*e,i=n*(t*t-r)+r;return i<0?0:Math.sqrt(i)},r7=[i0,Fs,qo],i7=e=>r7.find(t=>t.test(e));function cC(e){const t=i7(e);if(!t)return!1;let n=t.parse(e);return t===qo&&(n=n7(n)),n}const uC=(e,t)=>{const n=cC(e),r=cC(t);if(!n||!r)return ff(e,t);const i={...n};return s=>(i.red=hg(n.red,r.red,s),i.green=hg(n.green,r.green,s),i.blue=hg(n.blue,r.blue,s),i.alpha=Ve(n.alpha,r.alpha,s),Fs.transform(i))},s0=new Set(["none","hidden"]);function s7(e,t){return s0.has(e)?n=>n<=0?e:t:n=>n>=1?t:e}function o7(e,t){return n=>Ve(e,t,n)}function v_(e){return typeof e=="number"?o7:typeof e=="string"?m_(e)?ff:Nt.test(e)?uC:c7:Array.isArray(e)?hA:typeof e=="object"?Nt.test(e)?uC:a7:ff}function hA(e,t){const n=[...e],r=n.length,i=e.map((s,o)=>v_(s)(s,t[o]));return s=>{for(let o=0;o<r;o++)n[o]=i[o](s);return n}}function a7(e,t){const n={...e,...t},r={};for(const i in n)e[i]!==void 0&&t[i]!==void 0&&(r[i]=v_(e[i])(e[i],t[i]));return i=>{for(const s in r)n[s]=r[s](i);return n}}function l7(e,t){const n=[],r={color:0,var:0,number:0};for(let i=0;i<t.values.length;i++){const s=t.types[i],o=e.indexes[s][r[s]],a=e.values[o]??0;n[i]=a,r[s]++}return n}const c7=(e,t)=>{const n=os.createTransformer(t),r=Jc(e),i=Jc(t);return r.indexes.var.length===i.indexes.var.length&&r.indexes.color.length===i.indexes.color.length&&r.indexes.number.length>=i.indexes.number.length?s0.has(e)&&!i.values.length||s0.has(t)&&!r.values.length?s7(e,t):ku(hA(l7(r,i),i.values),n):ff(e,t)};function fA(e,t,n){return typeof e=="number"&&typeof t=="number"&&typeof n=="number"?Ve(e,t,n):v_(e)(e,t)}const u7=e=>{const t=({timestamp:n})=>e(n);return{start:(n=!0)=>Be.update(t,n),stop:()=>ss(t),now:()=>wt.isProcessing?wt.timestamp:sn.now()}},pA=(e,t,n=10)=>{let r="";const i=Math.max(Math.round(t/n),2);for(let s=0;s<i;s++)r+=e(s/(i-1))+", ";return`linear(${r.substring(0,r.length-2)})`},pf=2e4;function w_(e){let t=0;const n=50;let r=e.next(t);for(;!r.done&&t<pf;)t+=n,r=e.next(t);return t>=pf?1/0:t}function d7(e,t=100,n){const r=n({...e,keyframes:[0,t]}),i=Math.min(w_(r),pf);return{type:"keyframes",ease:s=>r.next(i*s).value/t,duration:Ir(i)}}const h7=5;function mA(e,t,n){const r=Math.max(t-h7,0);return KR(n-e(r),t-r)}const Ge={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},fg=.001;function f7({duration:e=Ge.duration,bounce:t=Ge.bounce,velocity:n=Ge.velocity,mass:r=Ge.mass}){let i,s,o=1-t;o=ui(Ge.minDamping,Ge.maxDamping,o),e=ui(Ge.minDuration,Ge.maxDuration,Ir(e)),o<1?(i=c=>{const d=c*o,h=d*e,f=d-n,g=o0(c,o),v=Math.exp(-h);return fg-f/g*v},s=c=>{const h=c*o*e,f=h*n+n,g=Math.pow(o,2)*Math.pow(c,2)*e,v=Math.exp(-h),S=o0(Math.pow(c,2),o);return(-i(c)+fg>0?-1:1)*((f-g)*v)/S}):(i=c=>{const d=Math.exp(-c*e),h=(c-n)*e+1;return-fg+d*h},s=c=>{const d=Math.exp(-c*e),h=(n-c)*(e*e);return d*h});const a=5/e,l=m7(i,s,a);if(e=kr(e),isNaN(l))return{stiffness:Ge.stiffness,damping:Ge.damping,duration:e};{const c=Math.pow(l,2)*r;return{stiffness:c,damping:o*2*Math.sqrt(r*c),duration:e}}}const p7=12;function m7(e,t,n){let r=n;for(let i=1;i<p7;i++)r=r-e(r)/t(r);return r}function o0(e,t){return e*Math.sqrt(1-t*t)}const g7=["duration","bounce"],y7=["stiffness","damping","mass"];function dC(e,t){return t.some(n=>e[n]!==void 0)}function v7(e){let t={velocity:Ge.velocity,stiffness:Ge.stiffness,damping:Ge.damping,mass:Ge.mass,isResolvedFromDuration:!1,...e};if(!dC(e,y7)&&dC(e,g7))if(e.visualDuration){const n=e.visualDuration,r=2*Math.PI/(n*1.2),i=r*r,s=2*ui(.05,1,1-(e.bounce||0))*Math.sqrt(i);t={...t,mass:Ge.mass,stiffness:i,damping:s}}else{const n=f7(e);t={...t,...n,mass:Ge.mass},t.isResolvedFromDuration=!0}return t}function mf(e=Ge.visualDuration,t=Ge.bounce){const n=typeof e!="object"?{visualDuration:e,keyframes:[0,1],bounce:t}:e;let{restSpeed:r,restDelta:i}=n;const s=n.keyframes[0],o=n.keyframes[n.keyframes.length-1],a={done:!1,value:s},{stiffness:l,damping:c,mass:d,duration:h,velocity:f,isResolvedFromDuration:g}=v7({...n,velocity:-Ir(n.velocity||0)}),v=f||0,S=c/(2*Math.sqrt(l*d)),k=o-s,_=Ir(Math.sqrt(l/d)),b=Math.abs(k)<5;r||(r=b?Ge.restSpeed.granular:Ge.restSpeed.default),i||(i=b?Ge.restDelta.granular:Ge.restDelta.default);let E;if(S<1){const D=o0(_,S);E=M=>{const T=Math.exp(-S*_*M);return o-T*((v+S*_*k)/D*Math.sin(D*M)+k*Math.cos(D*M))}}else if(S===1)E=D=>o-Math.exp(-_*D)*(k+(v+_*k)*D);else{const D=_*Math.sqrt(S*S-1);E=M=>{const T=Math.exp(-S*_*M),C=Math.min(D*M,300);return o-T*((v+S*_*k)*Math.sinh(C)+D*k*Math.cosh(C))/D}}const R={calculatedDuration:g&&h||null,next:D=>{const M=E(D);if(g)a.done=D>=h;else{let T=D===0?v:0;S<1&&(T=D===0?kr(v):mA(E,D,M));const C=Math.abs(T)<=r,I=Math.abs(o-M)<=i;a.done=C&&I}return a.value=a.done?o:M,a},toString:()=>{const D=Math.min(w_(R),pf),M=pA(T=>R.next(D*T).value,D,30);return D+"ms "+M},toTransition:()=>{}};return R}mf.applyToOptions=e=>{const t=d7(e,100,mf);return e.ease=t.ease,e.duration=kr(t.duration),e.type="keyframes",e};function a0({keyframes:e,velocity:t=0,power:n=.8,timeConstant:r=325,bounceDamping:i=10,bounceStiffness:s=500,modifyTarget:o,min:a,max:l,restDelta:c=.5,restSpeed:d}){const h=e[0],f={done:!1,value:h},g=C=>a!==void 0&&C<a||l!==void 0&&C>l,v=C=>a===void 0?l:l===void 0||Math.abs(a-C)<Math.abs(l-C)?a:l;let S=n*t;const k=h+S,_=o===void 0?k:o(k);_!==k&&(S=_-h);const b=C=>-S*Math.exp(-C/r),E=C=>_+b(C),R=C=>{const I=b(C),y=E(C);f.done=Math.abs(I)<=c,f.value=f.done?_:y};let D,M;const T=C=>{g(f.value)&&(D=C,M=mf({keyframes:[f.value,v(f.value)],velocity:mA(E,C,f.value),damping:i,stiffness:s,restDelta:c,restSpeed:d}))};return T(0),{calculatedDuration:null,next:C=>{let I=!1;return!M&&D===void 0&&(I=!0,R(C),T(C)),D!==void 0&&C>=D?M.next(C-D):(!I&&R(C),f)}}}function w7(e,t,n){const r=[],i=n||di.mix||fA,s=e.length-1;for(let o=0;o<s;o++){let a=i(e[o],e[o+1]);if(t){const l=Array.isArray(t)?t[o]||On:t;a=ku(l,a)}r.push(a)}return r}function _7(e,t,{clamp:n=!0,ease:r,mixer:i}={}){const s=e.length;if(c_(s===t.length),s===1)return()=>t[0];if(s===2&&t[0]===t[1])return()=>t[1];const o=e[0]===e[1];e[0]>e[s-1]&&(e=[...e].reverse(),t=[...t].reverse());const a=w7(t,r,i),l=a.length,c=d=>{if(o&&d<e[0])return t[0];let h=0;if(l>1)for(;h<e.length-2&&!(d<e[h+1]);h++);const f=Yc(e[h],e[h+1],d);return a[h](f)};return n?d=>c(ui(e[0],e[s-1],d)):c}function x7(e,t){const n=e[e.length-1];for(let r=1;r<=t;r++){const i=Yc(0,t,r);e.push(Ve(n,1,i))}}function E7(e){const t=[0];return x7(t,e.length-1),t}function b7(e,t){return e.map(n=>n*t)}function C7(e,t){return e.map(()=>t||rA).splice(0,e.length-1)}function sc({duration:e=300,keyframes:t,times:n,ease:r="easeInOut"}){const i=M8(r)?r.map(sC):sC(r),s={done:!1,value:t[0]},o=b7(n&&n.length===t.length?n:E7(t),e),a=_7(o,t,{ease:Array.isArray(i)?i:C7(t,i)});return{calculatedDuration:e,next:l=>(s.value=a(l),s.done=l>=e,s)}}const S7=e=>e!==null;function __(e,{repeat:t,repeatType:n="loop"},r,i=1){const s=e.filter(S7),a=i<0||t&&n!=="loop"&&t%2===1?0:s.length-1;return!a||r===void 0?s[a]:r}const T7={decay:a0,inertia:a0,tween:sc,keyframes:sc,spring:mf};function gA(e){typeof e.type=="string"&&(e.type=T7[e.type])}class x_{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(t=>{this.resolve=t})}notifyFinished(){this.resolve()}then(t,n){return this.finished.then(t,n)}}const k7=e=>e/100;class E_ extends x_{constructor(t){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=(n=!0)=>{var r,i;if(n){const{motionValue:s}=this.options;s&&s.updatedAt!==sn.now()&&this.tick(sn.now())}this.isStopped=!0,this.state!=="idle"&&(this.teardown(),(i=(r=this.options).onStop)==null||i.call(r))},this.options=t,this.initAnimation(),this.play(),t.autoplay===!1&&this.pause()}initAnimation(){const{options:t}=this;gA(t);const{type:n=sc,repeat:r=0,repeatDelay:i=0,repeatType:s,velocity:o=0}=t;let{keyframes:a}=t;const l=n||sc;l!==sc&&typeof a[0]!="number"&&(this.mixKeyframes=ku(k7,fA(a[0],a[1])),a=[0,100]);const c=l({...t,keyframes:a});s==="mirror"&&(this.mirroredGenerator=l({...t,keyframes:[...a].reverse(),velocity:-o})),c.calculatedDuration===null&&(c.calculatedDuration=w_(c));const{calculatedDuration:d}=c;this.calculatedDuration=d,this.resolvedDuration=d+i,this.totalDuration=this.resolvedDuration*(r+1)-i,this.generator=c}updateTime(t){const n=Math.round(t-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=n}tick(t,n=!1){const{generator:r,totalDuration:i,mixKeyframes:s,mirroredGenerator:o,resolvedDuration:a,calculatedDuration:l}=this;if(this.startTime===null)return r.next(0);const{delay:c=0,keyframes:d,repeat:h,repeatType:f,repeatDelay:g,type:v,onUpdate:S,finalKeyframe:k}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,t):this.speed<0&&(this.startTime=Math.min(t-i/this.speed,this.startTime)),n?this.currentTime=t:this.updateTime(t);const _=this.currentTime-c*(this.playbackSpeed>=0?1:-1),b=this.playbackSpeed>=0?_<0:_>i;this.currentTime=Math.max(_,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=i);let E=this.currentTime,R=r;if(h){const C=Math.min(this.currentTime,i)/a;let I=Math.floor(C),y=C%1;!y&&C>=1&&(y=1),y===1&&I--,I=Math.min(I,h+1),!!(I%2)&&(f==="reverse"?(y=1-y,g&&(y-=g/a)):f==="mirror"&&(R=o)),E=ui(0,1,y)*a}const D=b?{done:!1,value:d[0]}:R.next(E);s&&(D.value=s(D.value));let{done:M}=D;!b&&l!==null&&(M=this.playbackSpeed>=0?this.currentTime>=i:this.currentTime<=0);const T=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&M);return T&&v!==a0&&(D.value=__(d,this.options,k,this.speed)),S&&S(D.value),T&&this.finish(),D}then(t,n){return this.finished.then(t,n)}get duration(){return Ir(this.calculatedDuration)}get time(){return Ir(this.currentTime)}set time(t){var n;t=kr(t),this.currentTime=t,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=t:this.driver&&(this.startTime=this.driver.now()-t/this.playbackSpeed),(n=this.driver)==null||n.start(!1)}get speed(){return this.playbackSpeed}set speed(t){this.updateTime(sn.now());const n=this.playbackSpeed!==t;this.playbackSpeed=t,n&&(this.time=Ir(this.currentTime))}play(){var i,s;if(this.isStopped)return;const{driver:t=u7,startTime:n}=this.options;this.driver||(this.driver=t(o=>this.tick(o))),(s=(i=this.options).onPlay)==null||s.call(i);const r=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=r):this.holdTime!==null?this.startTime=r-this.holdTime:this.startTime||(this.startTime=n??r),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(sn.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){var t,n;this.notifyFinished(),this.teardown(),this.state="finished",(n=(t=this.options).onComplete)==null||n.call(t)}cancel(){var t,n;this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),(n=(t=this.options).onCancel)==null||n.call(t)}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(t){return this.startTime=0,this.tick(t,!0)}attachTimeline(t){var n;return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),(n=this.driver)==null||n.stop(),t.observe(this)}}function I7(e){for(let t=1;t<e.length;t++)e[t]??(e[t]=e[t-1])}const $s=e=>e*180/Math.PI,l0=e=>{const t=$s(Math.atan2(e[1],e[0]));return c0(t)},P7={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:e=>(Math.abs(e[0])+Math.abs(e[3]))/2,rotate:l0,rotateZ:l0,skewX:e=>$s(Math.atan(e[1])),skewY:e=>$s(Math.atan(e[2])),skew:e=>(Math.abs(e[1])+Math.abs(e[2]))/2},c0=e=>(e=e%360,e<0&&(e+=360),e),hC=l0,fC=e=>Math.sqrt(e[0]*e[0]+e[1]*e[1]),pC=e=>Math.sqrt(e[4]*e[4]+e[5]*e[5]),R7={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:fC,scaleY:pC,scale:e=>(fC(e)+pC(e))/2,rotateX:e=>c0($s(Math.atan2(e[6],e[5]))),rotateY:e=>c0($s(Math.atan2(-e[2],e[0]))),rotateZ:hC,rotate:hC,skewX:e=>$s(Math.atan(e[4])),skewY:e=>$s(Math.atan(e[1])),skew:e=>(Math.abs(e[1])+Math.abs(e[4]))/2};function u0(e){return e.includes("scale")?1:0}function d0(e,t){if(!e||e==="none")return u0(t);const n=e.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let r,i;if(n)r=R7,i=n;else{const a=e.match(/^matrix\(([-\d.e\s,]+)\)$/u);r=P7,i=a}if(!i)return u0(t);const s=r[t],o=i[1].split(",").map(N7);return typeof s=="function"?s(o):o[s]}const A7=(e,t)=>{const{transform:n="none"}=getComputedStyle(e);return d0(n,t)};function N7(e){return parseFloat(e.trim())}const Ga=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Ka=(()=>new Set(Ga))(),mC=e=>e===qa||e===re,D7=new Set(["x","y","z"]),O7=Ga.filter(e=>!D7.has(e));function M7(e){const t=[];return O7.forEach(n=>{const r=e.getValue(n);r!==void 0&&(t.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),t}const Ws={width:({x:e},{paddingLeft:t="0",paddingRight:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),height:({y:e},{paddingTop:t="0",paddingBottom:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:(e,{transform:t})=>d0(t,"x"),y:(e,{transform:t})=>d0(t,"y")};Ws.translateX=Ws.x;Ws.translateY=Ws.y;const Hs=new Set;let h0=!1,f0=!1,p0=!1;function yA(){if(f0){const e=Array.from(Hs).filter(r=>r.needsMeasurement),t=new Set(e.map(r=>r.element)),n=new Map;t.forEach(r=>{const i=M7(r);i.length&&(n.set(r,i),r.render())}),e.forEach(r=>r.measureInitialState()),t.forEach(r=>{r.render();const i=n.get(r);i&&i.forEach(([s,o])=>{var a;(a=r.getValue(s))==null||a.set(o)})}),e.forEach(r=>r.measureEndState()),e.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}f0=!1,h0=!1,Hs.forEach(e=>e.complete(p0)),Hs.clear()}function vA(){Hs.forEach(e=>{e.readKeyframes(),e.needsMeasurement&&(f0=!0)})}function L7(){p0=!0,vA(),yA(),p0=!1}class b_{constructor(t,n,r,i,s,o=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...t],this.onComplete=n,this.name=r,this.motionValue=i,this.element=s,this.isAsync=o}scheduleResolve(){this.state="scheduled",this.isAsync?(Hs.add(this),h0||(h0=!0,Be.read(vA),Be.resolveKeyframes(yA))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:t,name:n,element:r,motionValue:i}=this;if(t[0]===null){const s=i==null?void 0:i.get(),o=t[t.length-1];if(s!==void 0)t[0]=s;else if(r&&n){const a=r.readValue(n,o);a!=null&&(t[0]=a)}t[0]===void 0&&(t[0]=o),i&&s===void 0&&i.set(t[0])}I7(t)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(t=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,t),Hs.delete(this)}cancel(){this.state==="scheduled"&&(Hs.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const j7=e=>e.startsWith("--");function F7(e,t,n){j7(t)?e.style.setProperty(t,n):e.style[t]=n}const $7=u_(()=>window.ScrollTimeline!==void 0),V7={};function U7(e,t){const n=u_(e);return()=>V7[t]??n()}const wA=U7(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),Ol=([e,t,n,r])=>`cubic-bezier(${e}, ${t}, ${n}, ${r})`,gC={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Ol([0,.65,.55,1]),circOut:Ol([.55,0,1,.45]),backIn:Ol([.31,.01,.66,-.59]),backOut:Ol([.33,1.53,.69,.99])};function _A(e,t){if(e)return typeof e=="function"?wA()?pA(e,t):"ease-out":iA(e)?Ol(e):Array.isArray(e)?e.map(n=>_A(n,t)||gC.easeOut):gC[e]}function B7(e,t,n,{delay:r=0,duration:i=300,repeat:s=0,repeatType:o="loop",ease:a="easeOut",times:l}={},c=void 0){const d={[t]:n};l&&(d.offset=l);const h=_A(a,i);Array.isArray(h)&&(d.easing=h);const f={delay:r,duration:i,easing:Array.isArray(h)?"linear":h,fill:"both",iterations:s+1,direction:o==="reverse"?"alternate":"normal"};return c&&(f.pseudoElement=c),e.animate(d,f)}function xA(e){return typeof e=="function"&&"applyToOptions"in e}function z7({type:e,...t}){return xA(e)&&wA()?e.applyToOptions(t):(t.duration??(t.duration=300),t.ease??(t.ease="easeOut"),t)}class W7 extends x_{constructor(t){if(super(),this.finishedTime=null,this.isStopped=!1,!t)return;const{element:n,name:r,keyframes:i,pseudoElement:s,allowFlatten:o=!1,finalKeyframe:a,onComplete:l}=t;this.isPseudoElement=!!s,this.allowFlatten=o,this.options=t,c_(typeof t.type!="string");const c=z7(t);this.animation=B7(n,r,i,c,s),c.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!s){const d=__(i,this.options,a,this.speed);this.updateMotionValue?this.updateMotionValue(d):F7(n,r,d),this.animation.cancel()}l==null||l(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){var t,n;(n=(t=this.animation).finish)==null||n.call(t)}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:t}=this;t==="idle"||t==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){var t,n;this.isPseudoElement||(n=(t=this.animation).commitStyles)==null||n.call(t)}get duration(){var n,r;const t=((r=(n=this.animation.effect)==null?void 0:n.getComputedTiming)==null?void 0:r.call(n).duration)||0;return Ir(Number(t))}get time(){return Ir(Number(this.animation.currentTime)||0)}set time(t){this.finishedTime=null,this.animation.currentTime=kr(t)}get speed(){return this.animation.playbackRate}set speed(t){t<0&&(this.finishedTime=null),this.animation.playbackRate=t}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(t){this.animation.startTime=t}attachTimeline({timeline:t,observe:n}){var r;return this.allowFlatten&&((r=this.animation.effect)==null||r.updateTiming({easing:"linear"})),this.animation.onfinish=null,t&&$7()?(this.animation.timeline=t,On):n(this)}}const EA={anticipate:eA,backInOut:ZR,circInOut:nA};function H7(e){return e in EA}function q7(e){typeof e.ease=="string"&&H7(e.ease)&&(e.ease=EA[e.ease])}const yC=10;class G7 extends W7{constructor(t){q7(t),gA(t),super(t),t.startTime&&(this.startTime=t.startTime),this.options=t}updateMotionValue(t){const{motionValue:n,onUpdate:r,onComplete:i,element:s,...o}=this.options;if(!n)return;if(t!==void 0){n.set(t);return}const a=new E_({...o,autoplay:!1}),l=kr(this.finishedTime??this.time);n.setWithVelocity(a.sample(l-yC).value,a.sample(l).value,yC),a.stop()}}const vC=(e,t)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(os.test(e)||e==="0")&&!e.startsWith("url("));function K7(e){const t=e[0];if(e.length===1)return!0;for(let n=0;n<e.length;n++)if(e[n]!==t)return!0}function Y7(e,t,n,r){const i=e[0];if(i===null)return!1;if(t==="display"||t==="visibility")return!0;const s=e[e.length-1],o=vC(i,t),a=vC(s,t);return!o||!a?!1:K7(e)||(n==="spring"||xA(n))&&r}function C_(e){return qR(e)&&"offsetHeight"in e}const X7=new Set(["opacity","clipPath","filter","transform"]),J7=u_(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function Q7(e){var c;const{motionValue:t,name:n,repeatDelay:r,repeatType:i,damping:s,type:o}=e;if(!C_((c=t==null?void 0:t.owner)==null?void 0:c.current))return!1;const{onUpdate:a,transformTemplate:l}=t.owner.getProps();return J7()&&n&&X7.has(n)&&(n!=="transform"||!l)&&!a&&!r&&i!=="mirror"&&s!==0&&o!=="inertia"}const Z7=40;class ez extends x_{constructor({autoplay:t=!0,delay:n=0,type:r="keyframes",repeat:i=0,repeatDelay:s=0,repeatType:o="loop",keyframes:a,name:l,motionValue:c,element:d,...h}){var v;super(),this.stop=()=>{var S,k;this._animation&&(this._animation.stop(),(S=this.stopTimeline)==null||S.call(this)),(k=this.keyframeResolver)==null||k.cancel()},this.createdAt=sn.now();const f={autoplay:t,delay:n,type:r,repeat:i,repeatDelay:s,repeatType:o,name:l,motionValue:c,element:d,...h},g=(d==null?void 0:d.KeyframeResolver)||b_;this.keyframeResolver=new g(a,(S,k,_)=>this.onKeyframesResolved(S,k,f,!_),l,c,d),(v=this.keyframeResolver)==null||v.scheduleResolve()}onKeyframesResolved(t,n,r,i){this.keyframeResolver=void 0;const{name:s,type:o,velocity:a,delay:l,isHandoff:c,onUpdate:d}=r;this.resolvedAt=sn.now(),Y7(t,s,o,a)||((di.instantAnimations||!l)&&(d==null||d(__(t,r,n))),t[0]=t[t.length-1],r.duration=0,r.repeat=0);const f={startTime:i?this.resolvedAt?this.resolvedAt-this.createdAt>Z7?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:n,...r,keyframes:t},g=!c&&Q7(f)?new G7({...f,element:f.motionValue.owner.current}):new E_(f);g.finished.then(()=>this.notifyFinished()).catch(On),this.pendingTimeline&&(this.stopTimeline=g.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=g}get finished(){return this._animation?this.animation.finished:this._finished}then(t,n){return this.finished.finally(t).then(()=>{})}get animation(){var t;return this._animation||((t=this.keyframeResolver)==null||t.resume(),L7()),this._animation}get duration(){return this.animation.duration}get time(){return this.animation.time}set time(t){this.animation.time=t}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(t){this.animation.speed=t}get startTime(){return this.animation.startTime}attachTimeline(t){return this._animation?this.stopTimeline=this.animation.attachTimeline(t):this.pendingTimeline=t,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){var t;this._animation&&this.animation.cancel(),(t=this.keyframeResolver)==null||t.cancel()}}const tz=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function nz(e){const t=tz.exec(e);if(!t)return[,];const[,n,r,i]=t;return[`--${n??r}`,i]}function bA(e,t,n=1){const[r,i]=nz(e);if(!r)return;const s=window.getComputedStyle(t).getPropertyValue(r);if(s){const o=s.trim();return HR(o)?parseFloat(o):o}return m_(i)?bA(i,t,n+1):i}function S_(e,t){return(e==null?void 0:e[t])??(e==null?void 0:e.default)??e}const CA=new Set(["width","height","top","left","right","bottom",...Ga]),rz={test:e=>e==="auto",parse:e=>e},SA=e=>t=>t.test(e),TA=[qa,re,Pr,Si,K8,G8,rz],wC=e=>TA.find(SA(e));function iz(e){return typeof e=="number"?e===0:e!==null?e==="none"||e==="0"||GR(e):!0}const sz=new Set(["brightness","contrast","saturate","opacity"]);function oz(e){const[t,n]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[r]=n.match(g_)||[];if(!r)return e;const i=n.replace(r,"");let s=sz.has(t)?1:0;return r!==n&&(s*=100),t+"("+s+i+")"}const az=/\b([a-z-]*)\(.*?\)/gu,m0={...os,getAnimatableNone:e=>{const t=e.match(az);return t?t.map(oz).join(" "):e}},_C={...qa,transform:Math.round},lz={rotate:Si,rotateX:Si,rotateY:Si,rotateZ:Si,scale:bd,scaleX:bd,scaleY:bd,scaleZ:bd,skew:Si,skewX:Si,skewY:Si,distance:re,translateX:re,translateY:re,translateZ:re,x:re,y:re,z:re,perspective:re,transformPerspective:re,opacity:Xc,originX:aC,originY:aC,originZ:re},T_={borderWidth:re,borderTopWidth:re,borderRightWidth:re,borderBottomWidth:re,borderLeftWidth:re,borderRadius:re,radius:re,borderTopLeftRadius:re,borderTopRightRadius:re,borderBottomRightRadius:re,borderBottomLeftRadius:re,width:re,maxWidth:re,height:re,maxHeight:re,top:re,right:re,bottom:re,left:re,padding:re,paddingTop:re,paddingRight:re,paddingBottom:re,paddingLeft:re,margin:re,marginTop:re,marginRight:re,marginBottom:re,marginLeft:re,backgroundPositionX:re,backgroundPositionY:re,...lz,zIndex:_C,fillOpacity:Xc,strokeOpacity:Xc,numOctaves:_C},cz={...T_,color:Nt,backgroundColor:Nt,outlineColor:Nt,fill:Nt,stroke:Nt,borderColor:Nt,borderTopColor:Nt,borderRightColor:Nt,borderBottomColor:Nt,borderLeftColor:Nt,filter:m0,WebkitFilter:m0},kA=e=>cz[e];function IA(e,t){let n=kA(e);return n!==m0&&(n=os),n.getAnimatableNone?n.getAnimatableNone(t):void 0}const uz=new Set(["auto","none","0"]);function dz(e,t,n){let r=0,i;for(;r<e.length&&!i;){const s=e[r];typeof s=="string"&&!uz.has(s)&&Jc(s).values.length&&(i=e[r]),r++}if(i&&n)for(const s of t)e[s]=IA(n,i)}class hz extends b_{constructor(t,n,r,i,s){super(t,n,r,i,s,!0)}readKeyframes(){const{unresolvedKeyframes:t,element:n,name:r}=this;if(!n||!n.current)return;super.readKeyframes();for(let l=0;l<t.length;l++){let c=t[l];if(typeof c=="string"&&(c=c.trim(),m_(c))){const d=bA(c,n.current);d!==void 0&&(t[l]=d),l===t.length-1&&(this.finalKeyframe=c)}}if(this.resolveNoneKeyframes(),!CA.has(r)||t.length!==2)return;const[i,s]=t,o=wC(i),a=wC(s);if(o!==a)if(mC(o)&&mC(a))for(let l=0;l<t.length;l++){const c=t[l];typeof c=="string"&&(t[l]=parseFloat(c))}else Ws[r]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:t,name:n}=this,r=[];for(let i=0;i<t.length;i++)(t[i]===null||iz(t[i]))&&r.push(i);r.length&&dz(t,r,n)}measureInitialState(){const{element:t,unresolvedKeyframes:n,name:r}=this;if(!t||!t.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Ws[r](t.measureViewportBox(),window.getComputedStyle(t.current)),n[0]=this.measuredOrigin;const i=n[n.length-1];i!==void 0&&t.getValue(r,i).jump(i,!1)}measureEndState(){var a;const{element:t,name:n,unresolvedKeyframes:r}=this;if(!t||!t.current)return;const i=t.getValue(n);i&&i.jump(this.measuredOrigin,!1);const s=r.length-1,o=r[s];r[s]=Ws[n](t.measureViewportBox(),window.getComputedStyle(t.current)),o!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=o),(a=this.removedTransforms)!=null&&a.length&&this.removedTransforms.forEach(([l,c])=>{t.getValue(l).set(c)}),this.resolveNoneKeyframes()}}function fz(e,t,n){if(e instanceof EventTarget)return[e];if(typeof e=="string"){let r=document;t&&(r=t.current);const i=(n==null?void 0:n[e])??r.querySelectorAll(e);return i?Array.from(i):[]}return Array.from(e)}const xC=30,pz=e=>!isNaN(parseFloat(e));class mz{constructor(t,n={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=(r,i=!0)=>{var o,a;const s=sn.now();if(this.updatedAt!==s&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&((o=this.events.change)==null||o.notify(this.current),this.dependents))for(const l of this.dependents)l.dirty();i&&((a=this.events.renderRequest)==null||a.notify(this.current))},this.hasAnimated=!1,this.setCurrent(t),this.owner=n.owner}setCurrent(t){this.current=t,this.updatedAt=sn.now(),this.canTrackVelocity===null&&t!==void 0&&(this.canTrackVelocity=pz(this.current))}setPrevFrameValue(t=this.current){this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt}onChange(t){return this.on("change",t)}on(t,n){this.events[t]||(this.events[t]=new d_);const r=this.events[t].add(n);return t==="change"?()=>{r(),Be.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,n){this.passiveEffect=t,this.stopPassiveEffect=n}set(t,n=!0){!n||!this.passiveEffect?this.updateAndNotify(t,n):this.passiveEffect(t,this.updateAndNotify)}setWithVelocity(t,n,r){this.set(n),this.prev=void 0,this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt-r}jump(t,n=!0){this.updateAndNotify(t),this.prev=t,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){var t;(t=this.events.change)==null||t.notify(this.current)}addDependent(t){this.dependents||(this.dependents=new Set),this.dependents.add(t)}removeDependent(t){this.dependents&&this.dependents.delete(t)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const t=sn.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||t-this.updatedAt>xC)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,xC);return KR(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(t){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=t(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){var t,n;(t=this.dependents)==null||t.clear(),(n=this.events.destroy)==null||n.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function ka(e,t){return new mz(e,t)}const PA=(e,t)=>t&&typeof e=="number"?t.transform(e):e,{schedule:k_,cancel:nee}=sA(queueMicrotask,!1),qn={x:!1,y:!1};function RA(){return qn.x||qn.y}function gz(e){return e==="x"||e==="y"?qn[e]?null:(qn[e]=!0,()=>{qn[e]=!1}):qn.x||qn.y?null:(qn.x=qn.y=!0,()=>{qn.x=qn.y=!1})}function AA(e,t){const n=fz(e),r=new AbortController,i={passive:!0,...t,signal:r.signal};return[n,i,()=>r.abort()]}function EC(e){return!(e.pointerType==="touch"||RA())}function yz(e,t,n={}){const[r,i,s]=AA(e,n),o=a=>{if(!EC(a))return;const{target:l}=a,c=t(l,a);if(typeof c!="function"||!l)return;const d=h=>{EC(h)&&(c(h),l.removeEventListener("pointerleave",d))};l.addEventListener("pointerleave",d,i)};return r.forEach(a=>{a.addEventListener("pointerenter",o,i)}),s}const NA=(e,t)=>t?e===t?!0:NA(e,t.parentElement):!1,I_=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1,vz=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function wz(e){return vz.has(e.tagName)||e.tabIndex!==-1}const th=new WeakSet;function bC(e){return t=>{t.key==="Enter"&&e(t)}}function pg(e,t){e.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}const _z=(e,t)=>{const n=e.currentTarget;if(!n)return;const r=bC(()=>{if(th.has(n))return;pg(n,"down");const i=bC(()=>{pg(n,"up")}),s=()=>pg(n,"cancel");n.addEventListener("keyup",i,t),n.addEventListener("blur",s,t)});n.addEventListener("keydown",r,t),n.addEventListener("blur",()=>n.removeEventListener("keydown",r),t)};function CC(e){return I_(e)&&!RA()}function xz(e,t,n={}){const[r,i,s]=AA(e,n),o=a=>{const l=a.currentTarget;if(!CC(a))return;th.add(l);const c=t(l,a),d=(g,v)=>{window.removeEventListener("pointerup",h),window.removeEventListener("pointercancel",f),th.has(l)&&th.delete(l),CC(g)&&typeof c=="function"&&c(g,{success:v})},h=g=>{d(g,l===window||l===document||n.useGlobalTarget||NA(l,g.target))},f=g=>{d(g,!1)};window.addEventListener("pointerup",h,i),window.addEventListener("pointercancel",f,i)};return r.forEach(a=>{(n.useGlobalTarget?window:a).addEventListener("pointerdown",o,i),C_(a)&&(a.addEventListener("focus",c=>_z(c,i)),!wz(a)&&!a.hasAttribute("tabindex")&&(a.tabIndex=0))}),s}function DA(e){return qR(e)&&"ownerSVGElement"in e}function Ez(e){return DA(e)&&e.tagName==="svg"}const Mt=e=>!!(e&&e.getVelocity),bz=[...TA,Nt,os],Cz=e=>bz.find(SA(e)),P_=w.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"});class Sz extends w.Component{getSnapshotBeforeUpdate(t){const n=this.props.childRef.current;if(n&&t.isPresent&&!this.props.isPresent){const r=n.offsetParent,i=C_(r)&&r.offsetWidth||0,s=this.props.sizeRef.current;s.height=n.offsetHeight||0,s.width=n.offsetWidth||0,s.top=n.offsetTop,s.left=n.offsetLeft,s.right=i-s.width-s.left}return null}componentDidUpdate(){}render(){return this.props.children}}function Tz({children:e,isPresent:t,anchorX:n}){const r=w.useId(),i=w.useRef(null),s=w.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:o}=w.useContext(P_);return w.useInsertionEffect(()=>{const{width:a,height:l,top:c,left:d,right:h}=s.current;if(t||!i.current||!a||!l)return;const f=n==="left"?`left: ${d}`:`right: ${h}`;i.current.dataset.motionPopId=r;const g=document.createElement("style");return o&&(g.nonce=o),document.head.appendChild(g),g.sheet&&g.sheet.insertRule(`
          [data-motion-pop-id="${r}"] {
            position: absolute !important;
            width: ${a}px !important;
            height: ${l}px !important;
            ${f}px !important;
            top: ${c}px !important;
          }
        `),()=>{document.head.contains(g)&&document.head.removeChild(g)}},[t]),m.jsx(Sz,{isPresent:t,childRef:i,sizeRef:s,children:w.cloneElement(e,{ref:i})})}const kz=({children:e,initial:t,isPresent:n,onExitComplete:r,custom:i,presenceAffectsLayout:s,mode:o,anchorX:a})=>{const l=s_(Iz),c=w.useId();let d=!0,h=w.useMemo(()=>(d=!1,{id:c,initial:t,isPresent:n,custom:i,onExitComplete:f=>{l.set(f,!0);for(const g of l.values())if(!g)return;r&&r()},register:f=>(l.set(f,!1),()=>l.delete(f))}),[n,l,r]);return s&&d&&(h={...h}),w.useMemo(()=>{l.forEach((f,g)=>l.set(g,!1))},[n]),w.useEffect(()=>{!n&&!l.size&&r&&r()},[n]),o==="popLayout"&&(e=m.jsx(Tz,{isPresent:n,anchorX:a,children:e})),m.jsx(dp.Provider,{value:h,children:e})};function Iz(){return new Map}function OA(e=!0){const t=w.useContext(dp);if(t===null)return[!0,null];const{isPresent:n,onExitComplete:r,register:i}=t,s=w.useId();w.useEffect(()=>{if(e)return i(s)},[e]);const o=w.useCallback(()=>e&&r&&r(s),[s,r,e]);return!n&&r?[!1,o]:[!0]}const Cd=e=>e.key||"";function SC(e){const t=[];return w.Children.forEach(e,n=>{w.isValidElement(n)&&t.push(n)}),t}const Pz=({children:e,custom:t,initial:n=!0,onExitComplete:r,presenceAffectsLayout:i=!0,mode:s="sync",propagate:o=!1,anchorX:a="left"})=>{const[l,c]=OA(o),d=w.useMemo(()=>SC(e),[e]),h=o&&!l?[]:d.map(Cd),f=w.useRef(!0),g=w.useRef(d),v=s_(()=>new Map),[S,k]=w.useState(d),[_,b]=w.useState(d);WR(()=>{f.current=!1,g.current=d;for(let D=0;D<_.length;D++){const M=Cd(_[D]);h.includes(M)?v.delete(M):v.get(M)!==!0&&v.set(M,!1)}},[_,h.length,h.join("-")]);const E=[];if(d!==S){let D=[...d];for(let M=0;M<_.length;M++){const T=_[M],C=Cd(T);h.includes(C)||(D.splice(M,0,T),E.push(T))}return s==="wait"&&E.length&&(D=E),b(SC(D)),k(d),null}const{forceRender:R}=w.useContext(i_);return m.jsx(m.Fragment,{children:_.map(D=>{const M=Cd(D),T=o&&!l?!1:d===_||h.includes(M),C=()=>{if(v.has(M))v.set(M,!0);else return;let I=!0;v.forEach(y=>{y||(I=!1)}),I&&(R==null||R(),b(g.current),o&&(c==null||c()),r&&r())};return m.jsx(kz,{isPresent:T,initial:!f.current||n?void 0:!1,custom:t,presenceAffectsLayout:i,mode:s,onExitComplete:T?void 0:C,anchorX:a,children:D},M)})})},MA=w.createContext({strict:!1}),TC={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Ia={};for(const e in TC)Ia[e]={isEnabled:t=>TC[e].some(n=>!!t[n])};function Rz(e){for(const t in e)Ia[t]={...Ia[t],...e[t]}}const Az=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function gf(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||Az.has(e)}let LA=e=>!gf(e);function Nz(e){e&&(LA=t=>t.startsWith("on")?!gf(t):e(t))}try{Nz(require("@emotion/is-prop-valid").default)}catch{}function Dz(e,t,n){const r={};for(const i in e)i==="values"&&typeof e.values=="object"||(LA(i)||n===!0&&gf(i)||!t&&!gf(i)||e.draggable&&i.startsWith("onDrag"))&&(r[i]=e[i]);return r}function Oz(e){if(typeof Proxy>"u")return e;const t=new Map,n=(...r)=>e(...r);return new Proxy(n,{get:(r,i)=>i==="create"?e:(t.has(i)||t.set(i,e(i)),t.get(i))})}const hp=w.createContext({});function fp(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}function Qc(e){return typeof e=="string"||Array.isArray(e)}const R_=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],A_=["initial",...R_];function pp(e){return fp(e.animate)||A_.some(t=>Qc(e[t]))}function jA(e){return!!(pp(e)||e.variants)}function Mz(e,t){if(pp(e)){const{initial:n,animate:r}=e;return{initial:n===!1||Qc(n)?n:void 0,animate:Qc(r)?r:void 0}}return e.inherit!==!1?t:{}}function Lz(e){const{initial:t,animate:n}=Mz(e,w.useContext(hp));return w.useMemo(()=>({initial:t,animate:n}),[kC(t),kC(n)])}function kC(e){return Array.isArray(e)?e.join(" "):e}const jz=Symbol.for("motionComponentSymbol");function Go(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function Fz(e,t,n){return w.useCallback(r=>{r&&e.onMount&&e.onMount(r),t&&(r?t.mount(r):t.unmount()),n&&(typeof n=="function"?n(r):Go(n)&&(n.current=r))},[t])}const N_=e=>e.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),$z="framerAppearId",FA="data-"+N_($z),$A=w.createContext({});function Vz(e,t,n,r,i){var S,k;const{visualElement:s}=w.useContext(hp),o=w.useContext(MA),a=w.useContext(dp),l=w.useContext(P_).reducedMotion,c=w.useRef(null);r=r||o.renderer,!c.current&&r&&(c.current=r(e,{visualState:t,parent:s,props:n,presenceContext:a,blockInitialAnimation:a?a.initial===!1:!1,reducedMotionConfig:l}));const d=c.current,h=w.useContext($A);d&&!d.projection&&i&&(d.type==="html"||d.type==="svg")&&Uz(c.current,n,i,h);const f=w.useRef(!1);w.useInsertionEffect(()=>{d&&f.current&&d.update(n,a)});const g=n[FA],v=w.useRef(!!g&&!((S=window.MotionHandoffIsComplete)!=null&&S.call(window,g))&&((k=window.MotionHasOptimisedAnimation)==null?void 0:k.call(window,g)));return WR(()=>{d&&(f.current=!0,window.MotionIsMounted=!0,d.updateFeatures(),k_.render(d.render),v.current&&d.animationState&&d.animationState.animateChanges())}),w.useEffect(()=>{d&&(!v.current&&d.animationState&&d.animationState.animateChanges(),v.current&&(queueMicrotask(()=>{var _;(_=window.MotionHandoffMarkAsComplete)==null||_.call(window,g)}),v.current=!1))}),d}function Uz(e,t,n,r){const{layoutId:i,layout:s,drag:o,dragConstraints:a,layoutScroll:l,layoutRoot:c,layoutCrossfade:d}=t;e.projection=new n(e.latestValues,t["data-framer-portal-id"]?void 0:VA(e.parent)),e.projection.setOptions({layoutId:i,layout:s,alwaysMeasureLayout:!!o||a&&Go(a),visualElement:e,animationType:typeof s=="string"?s:"both",initialPromotionConfig:r,crossfade:d,layoutScroll:l,layoutRoot:c})}function VA(e){if(e)return e.options.allowProjection!==!1?e.projection:VA(e.parent)}function Bz({preloadedFeatures:e,createVisualElement:t,useRender:n,useVisualState:r,Component:i}){e&&Rz(e);function s(a,l){let c;const d={...w.useContext(P_),...a,layoutId:zz(a)},{isStatic:h}=d,f=Lz(a),g=r(a,h);if(!h&&o_){Wz();const v=Hz(d);c=v.MeasureLayout,f.visualElement=Vz(i,g,d,t,v.ProjectionNode)}return m.jsxs(hp.Provider,{value:f,children:[c&&f.visualElement?m.jsx(c,{visualElement:f.visualElement,...d}):null,n(i,a,Fz(g,f.visualElement,l),g,h,f.visualElement)]})}s.displayName=`motion.${typeof i=="string"?i:`create(${i.displayName??i.name??""})`}`;const o=w.forwardRef(s);return o[jz]=i,o}function zz({layoutId:e}){const t=w.useContext(i_).id;return t&&e!==void 0?t+"-"+e:e}function Wz(e,t){w.useContext(MA).strict}function Hz(e){const{drag:t,layout:n}=Ia;if(!t&&!n)return{};const r={...t,...n};return{MeasureLayout:t!=null&&t.isEnabled(e)||n!=null&&n.isEnabled(e)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}const Zc={};function qz(e){for(const t in e)Zc[t]=e[t],p_(t)&&(Zc[t].isCSSVariable=!0)}function UA(e,{layout:t,layoutId:n}){return Ka.has(e)||e.startsWith("origin")||(t||n!==void 0)&&(!!Zc[e]||e==="opacity")}const Gz={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},Kz=Ga.length;function Yz(e,t,n){let r="",i=!0;for(let s=0;s<Kz;s++){const o=Ga[s],a=e[o];if(a===void 0)continue;let l=!0;if(typeof a=="number"?l=a===(o.startsWith("scale")?1:0):l=parseFloat(a)===0,!l||n){const c=PA(a,T_[o]);if(!l){i=!1;const d=Gz[o]||o;r+=`${d}(${c}) `}n&&(t[o]=c)}}return r=r.trim(),n?r=n(t,i?"":r):i&&(r="none"),r}function D_(e,t,n){const{style:r,vars:i,transformOrigin:s}=e;let o=!1,a=!1;for(const l in t){const c=t[l];if(Ka.has(l)){o=!0;continue}else if(p_(l)){i[l]=c;continue}else{const d=PA(c,T_[l]);l.startsWith("origin")?(a=!0,s[l]=d):r[l]=d}}if(t.transform||(o||n?r.transform=Yz(t,e.transform,n):r.transform&&(r.transform="none")),a){const{originX:l="50%",originY:c="50%",originZ:d=0}=s;r.transformOrigin=`${l} ${c} ${d}`}}const O_=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function BA(e,t,n){for(const r in t)!Mt(t[r])&&!UA(r,n)&&(e[r]=t[r])}function Xz({transformTemplate:e},t){return w.useMemo(()=>{const n=O_();return D_(n,t,e),Object.assign({},n.vars,n.style)},[t])}function Jz(e,t){const n=e.style||{},r={};return BA(r,n,e),Object.assign(r,Xz(e,t)),r}function Qz(e,t){const n={},r=Jz(e,t);return e.drag&&e.dragListener!==!1&&(n.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(n.tabIndex=0),n.style=r,n}const Zz={offset:"stroke-dashoffset",array:"stroke-dasharray"},eW={offset:"strokeDashoffset",array:"strokeDasharray"};function tW(e,t,n=1,r=0,i=!0){e.pathLength=1;const s=i?Zz:eW;e[s.offset]=re.transform(-r);const o=re.transform(t),a=re.transform(n);e[s.array]=`${o} ${a}`}function zA(e,{attrX:t,attrY:n,attrScale:r,pathLength:i,pathSpacing:s=1,pathOffset:o=0,...a},l,c,d){if(D_(e,a,c),l){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:h,style:f}=e;h.transform&&(f.transform=h.transform,delete h.transform),(f.transform||h.transformOrigin)&&(f.transformOrigin=h.transformOrigin??"50% 50%",delete h.transformOrigin),f.transform&&(f.transformBox=(d==null?void 0:d.transformBox)??"fill-box",delete h.transformBox),t!==void 0&&(h.x=t),n!==void 0&&(h.y=n),r!==void 0&&(h.scale=r),i!==void 0&&tW(h,i,s,o,!1)}const WA=()=>({...O_(),attrs:{}}),HA=e=>typeof e=="string"&&e.toLowerCase()==="svg";function nW(e,t,n,r){const i=w.useMemo(()=>{const s=WA();return zA(s,t,HA(r),e.transformTemplate,e.style),{...s.attrs,style:{...s.style}}},[t]);if(e.style){const s={};BA(s,e.style,e),i.style={...s,...i.style}}return i}const rW=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function M_(e){return typeof e!="string"||e.includes("-")?!1:!!(rW.indexOf(e)>-1||/[A-Z]/u.test(e))}function iW(e=!1){return(n,r,i,{latestValues:s},o)=>{const l=(M_(n)?nW:Qz)(r,s,o,n),c=Dz(r,typeof n=="string",e),d=n!==w.Fragment?{...c,...l,ref:i}:{},{children:h}=r,f=w.useMemo(()=>Mt(h)?h.get():h,[h]);return w.createElement(n,{...d,children:f})}}function IC(e){const t=[{},{}];return e==null||e.values.forEach((n,r)=>{t[0][r]=n.get(),t[1][r]=n.getVelocity()}),t}function L_(e,t,n,r){if(typeof t=="function"){const[i,s]=IC(r);t=t(n!==void 0?n:e.custom,i,s)}if(typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"){const[i,s]=IC(r);t=t(n!==void 0?n:e.custom,i,s)}return t}function nh(e){return Mt(e)?e.get():e}function sW({scrapeMotionValuesFromProps:e,createRenderState:t},n,r,i){return{latestValues:oW(n,r,i,e),renderState:t()}}const qA=e=>(t,n)=>{const r=w.useContext(hp),i=w.useContext(dp),s=()=>sW(e,t,r,i);return n?s():s_(s)};function oW(e,t,n,r){const i={},s=r(e,{});for(const f in s)i[f]=nh(s[f]);let{initial:o,animate:a}=e;const l=pp(e),c=jA(e);t&&c&&!l&&e.inherit!==!1&&(o===void 0&&(o=t.initial),a===void 0&&(a=t.animate));let d=n?n.initial===!1:!1;d=d||o===!1;const h=d?a:o;if(h&&typeof h!="boolean"&&!fp(h)){const f=Array.isArray(h)?h:[h];for(let g=0;g<f.length;g++){const v=L_(e,f[g]);if(v){const{transitionEnd:S,transition:k,..._}=v;for(const b in _){let E=_[b];if(Array.isArray(E)){const R=d?E.length-1:0;E=E[R]}E!==null&&(i[b]=E)}for(const b in S)i[b]=S[b]}}}return i}function j_(e,t,n){var s;const{style:r}=e,i={};for(const o in r)(Mt(r[o])||t.style&&Mt(t.style[o])||UA(o,e)||((s=n==null?void 0:n.getValue(o))==null?void 0:s.liveStyle)!==void 0)&&(i[o]=r[o]);return i}const aW={useVisualState:qA({scrapeMotionValuesFromProps:j_,createRenderState:O_})};function GA(e,t,n){const r=j_(e,t,n);for(const i in e)if(Mt(e[i])||Mt(t[i])){const s=Ga.indexOf(i)!==-1?"attr"+i.charAt(0).toUpperCase()+i.substring(1):i;r[s]=e[i]}return r}const lW={useVisualState:qA({scrapeMotionValuesFromProps:GA,createRenderState:WA})};function cW(e,t){return function(r,{forwardMotionProps:i}={forwardMotionProps:!1}){const o={...M_(r)?lW:aW,preloadedFeatures:e,useRender:iW(i),createVisualElement:t,Component:r};return Bz(o)}}function eu(e,t,n){const r=e.getProps();return L_(r,t,n!==void 0?n:r.custom,e)}const g0=e=>Array.isArray(e);function uW(e,t,n){e.hasValue(t)?e.getValue(t).set(n):e.addValue(t,ka(n))}function dW(e){return g0(e)?e[e.length-1]||0:e}function hW(e,t){const n=eu(e,t);let{transitionEnd:r={},transition:i={},...s}=n||{};s={...s,...r};for(const o in s){const a=dW(s[o]);uW(e,o,a)}}function fW(e){return!!(Mt(e)&&e.add)}function y0(e,t){const n=e.getValue("willChange");if(fW(n))return n.add(t);if(!n&&di.WillChange){const r=new di.WillChange("auto");e.addValue("willChange",r),r.add(t)}}function KA(e){return e.props[FA]}const pW=e=>e!==null;function mW(e,{repeat:t,repeatType:n="loop"},r){const i=e.filter(pW),s=t&&n!=="loop"&&t%2===1?0:i.length-1;return!s||r===void 0?i[s]:r}const gW={type:"spring",stiffness:500,damping:25,restSpeed:10},yW=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),vW={type:"keyframes",duration:.8},wW={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},_W=(e,{keyframes:t})=>t.length>2?vW:Ka.has(e)?e.startsWith("scale")?yW(t[1]):gW:wW;function xW({when:e,delay:t,delayChildren:n,staggerChildren:r,staggerDirection:i,repeat:s,repeatType:o,repeatDelay:a,from:l,elapsed:c,...d}){return!!Object.keys(d).length}const F_=(e,t,n,r={},i,s)=>o=>{const a=S_(r,e)||{},l=a.delay||r.delay||0;let{elapsed:c=0}=r;c=c-kr(l);const d={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:t.getVelocity(),...a,delay:-c,onUpdate:f=>{t.set(f),a.onUpdate&&a.onUpdate(f)},onComplete:()=>{o(),a.onComplete&&a.onComplete()},name:e,motionValue:t,element:s?void 0:i};xW(a)||Object.assign(d,_W(e,d)),d.duration&&(d.duration=kr(d.duration)),d.repeatDelay&&(d.repeatDelay=kr(d.repeatDelay)),d.from!==void 0&&(d.keyframes[0]=d.from);let h=!1;if((d.type===!1||d.duration===0&&!d.repeatDelay)&&(d.duration=0,d.delay===0&&(h=!0)),(di.instantAnimations||di.skipAnimations)&&(h=!0,d.duration=0,d.delay=0),d.allowFlatten=!a.type&&!a.ease,h&&!s&&t.get()!==void 0){const f=mW(d.keyframes,a);if(f!==void 0){Be.update(()=>{d.onUpdate(f),d.onComplete()});return}}return a.isSync?new E_(d):new ez(d)};function EW({protectedKeys:e,needsAnimating:t},n){const r=e.hasOwnProperty(n)&&t[n]!==!0;return t[n]=!1,r}function YA(e,t,{delay:n=0,transitionOverride:r,type:i}={}){let{transition:s=e.getDefaultTransition(),transitionEnd:o,...a}=t;r&&(s=r);const l=[],c=i&&e.animationState&&e.animationState.getState()[i];for(const d in a){const h=e.getValue(d,e.latestValues[d]??null),f=a[d];if(f===void 0||c&&EW(c,d))continue;const g={delay:n,...S_(s||{},d)},v=h.get();if(v!==void 0&&!h.isAnimating&&!Array.isArray(f)&&f===v&&!g.velocity)continue;let S=!1;if(window.MotionHandoffAnimation){const _=KA(e);if(_){const b=window.MotionHandoffAnimation(_,d,Be);b!==null&&(g.startTime=b,S=!0)}}y0(e,d),h.start(F_(d,h,f,e.shouldReduceMotion&&CA.has(d)?{type:!1}:g,e,S));const k=h.animation;k&&l.push(k)}return o&&Promise.all(l).then(()=>{Be.update(()=>{o&&hW(e,o)})}),l}function v0(e,t,n={}){var l;const r=eu(e,t,n.type==="exit"?(l=e.presenceContext)==null?void 0:l.custom:void 0);let{transition:i=e.getDefaultTransition()||{}}=r||{};n.transitionOverride&&(i=n.transitionOverride);const s=r?()=>Promise.all(YA(e,r,n)):()=>Promise.resolve(),o=e.variantChildren&&e.variantChildren.size?(c=0)=>{const{delayChildren:d=0,staggerChildren:h,staggerDirection:f}=i;return bW(e,t,d+c,h,f,n)}:()=>Promise.resolve(),{when:a}=i;if(a){const[c,d]=a==="beforeChildren"?[s,o]:[o,s];return c().then(()=>d())}else return Promise.all([s(),o(n.delay)])}function bW(e,t,n=0,r=0,i=1,s){const o=[],a=(e.variantChildren.size-1)*r,l=i===1?(c=0)=>c*r:(c=0)=>a-c*r;return Array.from(e.variantChildren).sort(CW).forEach((c,d)=>{c.notify("AnimationStart",t),o.push(v0(c,t,{...s,delay:n+l(d)}).then(()=>c.notify("AnimationComplete",t)))}),Promise.all(o)}function CW(e,t){return e.sortNodePosition(t)}function SW(e,t,n={}){e.notify("AnimationStart",t);let r;if(Array.isArray(t)){const i=t.map(s=>v0(e,s,n));r=Promise.all(i)}else if(typeof t=="string")r=v0(e,t,n);else{const i=typeof t=="function"?eu(e,t,n.custom):t;r=Promise.all(YA(e,i,n))}return r.then(()=>{e.notify("AnimationComplete",t)})}function XA(e,t){if(!Array.isArray(t))return!1;const n=t.length;if(n!==e.length)return!1;for(let r=0;r<n;r++)if(t[r]!==e[r])return!1;return!0}const TW=A_.length;function JA(e){if(!e)return;if(!e.isControllingVariants){const n=e.parent?JA(e.parent)||{}:{};return e.props.initial!==void 0&&(n.initial=e.props.initial),n}const t={};for(let n=0;n<TW;n++){const r=A_[n],i=e.props[r];(Qc(i)||i===!1)&&(t[r]=i)}return t}const kW=[...R_].reverse(),IW=R_.length;function PW(e){return t=>Promise.all(t.map(({animation:n,options:r})=>SW(e,n,r)))}function RW(e){let t=PW(e),n=PC(),r=!0;const i=l=>(c,d)=>{var f;const h=eu(e,d,l==="exit"?(f=e.presenceContext)==null?void 0:f.custom:void 0);if(h){const{transition:g,transitionEnd:v,...S}=h;c={...c,...S,...v}}return c};function s(l){t=l(e)}function o(l){const{props:c}=e,d=JA(e.parent)||{},h=[],f=new Set;let g={},v=1/0;for(let k=0;k<IW;k++){const _=kW[k],b=n[_],E=c[_]!==void 0?c[_]:d[_],R=Qc(E),D=_===l?b.isActive:null;D===!1&&(v=k);let M=E===d[_]&&E!==c[_]&&R;if(M&&r&&e.manuallyAnimateOnMount&&(M=!1),b.protectedKeys={...g},!b.isActive&&D===null||!E&&!b.prevProp||fp(E)||typeof E=="boolean")continue;const T=AW(b.prevProp,E);let C=T||_===l&&b.isActive&&!M&&R||k>v&&R,I=!1;const y=Array.isArray(E)?E:[E];let N=y.reduce(i(_),{});D===!1&&(N={});const{prevResolvedValues:O={}}=b,A={...O,...N},V=G=>{C=!0,f.has(G)&&(I=!0,f.delete(G)),b.needsAnimating[G]=!0;const F=e.getValue(G);F&&(F.liveStyle=!1)};for(const G in A){const F=N[G],K=O[G];if(g.hasOwnProperty(G))continue;let X=!1;g0(F)&&g0(K)?X=!XA(F,K):X=F!==K,X?F!=null?V(G):f.add(G):F!==void 0&&f.has(G)?V(G):b.protectedKeys[G]=!0}b.prevProp=E,b.prevResolvedValues=N,b.isActive&&(g={...g,...N}),r&&e.blockInitialAnimation&&(C=!1),C&&(!(M&&T)||I)&&h.push(...y.map(G=>({animation:G,options:{type:_}})))}if(f.size){const k={};if(typeof c.initial!="boolean"){const _=eu(e,Array.isArray(c.initial)?c.initial[0]:c.initial);_&&_.transition&&(k.transition=_.transition)}f.forEach(_=>{const b=e.getBaseTarget(_),E=e.getValue(_);E&&(E.liveStyle=!0),k[_]=b??null}),h.push({animation:k})}let S=!!h.length;return r&&(c.initial===!1||c.initial===c.animate)&&!e.manuallyAnimateOnMount&&(S=!1),r=!1,S?t(h):Promise.resolve()}function a(l,c){var h;if(n[l].isActive===c)return Promise.resolve();(h=e.variantChildren)==null||h.forEach(f=>{var g;return(g=f.animationState)==null?void 0:g.setActive(l,c)}),n[l].isActive=c;const d=o(l);for(const f in n)n[f].protectedKeys={};return d}return{animateChanges:o,setActive:a,setAnimateFunction:s,getState:()=>n,reset:()=>{n=PC(),r=!0}}}function AW(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!XA(t,e):!1}function ws(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function PC(){return{animate:ws(!0),whileInView:ws(),whileHover:ws(),whileTap:ws(),whileDrag:ws(),whileFocus:ws(),exit:ws()}}class ms{constructor(t){this.isMounted=!1,this.node=t}update(){}}class NW extends ms{constructor(t){super(t),t.animationState||(t.animationState=RW(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();fp(t)&&(this.unmountControls=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:n}=this.node.prevProps||{};t!==n&&this.updateAnimationControlsSubscription()}unmount(){var t;this.node.animationState.reset(),(t=this.unmountControls)==null||t.call(this)}}let DW=0;class OW extends ms{constructor(){super(...arguments),this.id=DW++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:n}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===r)return;const i=this.node.animationState.setActive("exit",!t);n&&!t&&i.then(()=>{n(this.id)})}mount(){const{register:t,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),t&&(this.unmount=t(this.id))}unmount(){}}const MW={animation:{Feature:NW},exit:{Feature:OW}};function tu(e,t,n,r={passive:!0}){return e.addEventListener(t,n,r),()=>e.removeEventListener(t,n)}function Ru(e){return{point:{x:e.pageX,y:e.pageY}}}const LW=e=>t=>I_(t)&&e(t,Ru(t));function oc(e,t,n,r){return tu(e,t,LW(n),r)}function QA({top:e,left:t,right:n,bottom:r}){return{x:{min:t,max:n},y:{min:e,max:r}}}function jW({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function FW(e,t){if(!t)return e;const n=t({x:e.left,y:e.top}),r=t({x:e.right,y:e.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}const ZA=1e-4,$W=1-ZA,VW=1+ZA,eN=.01,UW=0-eN,BW=0+eN;function Ht(e){return e.max-e.min}function zW(e,t,n){return Math.abs(e-t)<=n}function RC(e,t,n,r=.5){e.origin=r,e.originPoint=Ve(t.min,t.max,e.origin),e.scale=Ht(n)/Ht(t),e.translate=Ve(n.min,n.max,e.origin)-e.originPoint,(e.scale>=$W&&e.scale<=VW||isNaN(e.scale))&&(e.scale=1),(e.translate>=UW&&e.translate<=BW||isNaN(e.translate))&&(e.translate=0)}function ac(e,t,n,r){RC(e.x,t.x,n.x,r?r.originX:void 0),RC(e.y,t.y,n.y,r?r.originY:void 0)}function AC(e,t,n){e.min=n.min+t.min,e.max=e.min+Ht(t)}function WW(e,t,n){AC(e.x,t.x,n.x),AC(e.y,t.y,n.y)}function NC(e,t,n){e.min=t.min-n.min,e.max=e.min+Ht(t)}function lc(e,t,n){NC(e.x,t.x,n.x),NC(e.y,t.y,n.y)}const DC=()=>({translate:0,scale:1,origin:0,originPoint:0}),Ko=()=>({x:DC(),y:DC()}),OC=()=>({min:0,max:0}),Qe=()=>({x:OC(),y:OC()});function kn(e){return[e("x"),e("y")]}function mg(e){return e===void 0||e===1}function w0({scale:e,scaleX:t,scaleY:n}){return!mg(e)||!mg(t)||!mg(n)}function Ts(e){return w0(e)||tN(e)||e.z||e.rotate||e.rotateX||e.rotateY||e.skewX||e.skewY}function tN(e){return MC(e.x)||MC(e.y)}function MC(e){return e&&e!=="0%"}function yf(e,t,n){const r=e-n,i=t*r;return n+i}function LC(e,t,n,r,i){return i!==void 0&&(e=yf(e,i,r)),yf(e,n,r)+t}function _0(e,t=0,n=1,r,i){e.min=LC(e.min,t,n,r,i),e.max=LC(e.max,t,n,r,i)}function nN(e,{x:t,y:n}){_0(e.x,t.translate,t.scale,t.originPoint),_0(e.y,n.translate,n.scale,n.originPoint)}const jC=.999999999999,FC=1.0000000000001;function HW(e,t,n,r=!1){const i=n.length;if(!i)return;t.x=t.y=1;let s,o;for(let a=0;a<i;a++){s=n[a],o=s.projectionDelta;const{visualElement:l}=s.options;l&&l.props.style&&l.props.style.display==="contents"||(r&&s.options.layoutScroll&&s.scroll&&s!==s.root&&Xo(e,{x:-s.scroll.offset.x,y:-s.scroll.offset.y}),o&&(t.x*=o.x.scale,t.y*=o.y.scale,nN(e,o)),r&&Ts(s.latestValues)&&Xo(e,s.latestValues))}t.x<FC&&t.x>jC&&(t.x=1),t.y<FC&&t.y>jC&&(t.y=1)}function Yo(e,t){e.min=e.min+t,e.max=e.max+t}function $C(e,t,n,r,i=.5){const s=Ve(e.min,e.max,i);_0(e,t,n,s,r)}function Xo(e,t){$C(e.x,t.x,t.scaleX,t.scale,t.originX),$C(e.y,t.y,t.scaleY,t.scale,t.originY)}function rN(e,t){return QA(FW(e.getBoundingClientRect(),t))}function qW(e,t,n){const r=rN(e,n),{scroll:i}=t;return i&&(Yo(r.x,i.offset.x),Yo(r.y,i.offset.y)),r}const iN=({current:e})=>e?e.ownerDocument.defaultView:null,VC=(e,t)=>Math.abs(e-t);function GW(e,t){const n=VC(e.x,t.x),r=VC(e.y,t.y);return Math.sqrt(n**2+r**2)}class sN{constructor(t,n,{transformPagePoint:r,contextWindow:i,dragSnapToOrigin:s=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const h=yg(this.lastMoveEventInfo,this.history),f=this.startEvent!==null,g=GW(h.offset,{x:0,y:0})>=3;if(!f&&!g)return;const{point:v}=h,{timestamp:S}=wt;this.history.push({...v,timestamp:S});const{onStart:k,onMove:_}=this.handlers;f||(k&&k(this.lastMoveEvent,h),this.startEvent=this.lastMoveEvent),_&&_(this.lastMoveEvent,h)},this.handlePointerMove=(h,f)=>{this.lastMoveEvent=h,this.lastMoveEventInfo=gg(f,this.transformPagePoint),Be.update(this.updatePoint,!0)},this.handlePointerUp=(h,f)=>{this.end();const{onEnd:g,onSessionEnd:v,resumeAnimation:S}=this.handlers;if(this.dragSnapToOrigin&&S&&S(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const k=yg(h.type==="pointercancel"?this.lastMoveEventInfo:gg(f,this.transformPagePoint),this.history);this.startEvent&&g&&g(h,k),v&&v(h,k)},!I_(t))return;this.dragSnapToOrigin=s,this.handlers=n,this.transformPagePoint=r,this.contextWindow=i||window;const o=Ru(t),a=gg(o,this.transformPagePoint),{point:l}=a,{timestamp:c}=wt;this.history=[{...l,timestamp:c}];const{onSessionStart:d}=n;d&&d(t,yg(a,this.history)),this.removeListeners=ku(oc(this.contextWindow,"pointermove",this.handlePointerMove),oc(this.contextWindow,"pointerup",this.handlePointerUp),oc(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),ss(this.updatePoint)}}function gg(e,t){return t?{point:t(e.point)}:e}function UC(e,t){return{x:e.x-t.x,y:e.y-t.y}}function yg({point:e},t){return{point:e,delta:UC(e,oN(t)),offset:UC(e,KW(t)),velocity:YW(t,.1)}}function KW(e){return e[0]}function oN(e){return e[e.length-1]}function YW(e,t){if(e.length<2)return{x:0,y:0};let n=e.length-1,r=null;const i=oN(e);for(;n>=0&&(r=e[n],!(i.timestamp-r.timestamp>kr(t)));)n--;if(!r)return{x:0,y:0};const s=Ir(i.timestamp-r.timestamp);if(s===0)return{x:0,y:0};const o={x:(i.x-r.x)/s,y:(i.y-r.y)/s};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}function XW(e,{min:t,max:n},r){return t!==void 0&&e<t?e=r?Ve(t,e,r.min):Math.max(e,t):n!==void 0&&e>n&&(e=r?Ve(n,e,r.max):Math.min(e,n)),e}function BC(e,t,n){return{min:t!==void 0?e.min+t:void 0,max:n!==void 0?e.max+n-(e.max-e.min):void 0}}function JW(e,{top:t,left:n,bottom:r,right:i}){return{x:BC(e.x,n,i),y:BC(e.y,t,r)}}function zC(e,t){let n=t.min-e.min,r=t.max-e.max;return t.max-t.min<e.max-e.min&&([n,r]=[r,n]),{min:n,max:r}}function QW(e,t){return{x:zC(e.x,t.x),y:zC(e.y,t.y)}}function ZW(e,t){let n=.5;const r=Ht(e),i=Ht(t);return i>r?n=Yc(t.min,t.max-r,e.min):r>i&&(n=Yc(e.min,e.max-i,t.min)),ui(0,1,n)}function eH(e,t){const n={};return t.min!==void 0&&(n.min=t.min-e.min),t.max!==void 0&&(n.max=t.max-e.min),n}const x0=.35;function tH(e=x0){return e===!1?e=0:e===!0&&(e=x0),{x:WC(e,"left","right"),y:WC(e,"top","bottom")}}function WC(e,t,n){return{min:HC(e,t),max:HC(e,n)}}function HC(e,t){return typeof e=="number"?e:e[t]||0}const nH=new WeakMap;class rH{constructor(t){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Qe(),this.visualElement=t}start(t,{snapToCursor:n=!1}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const i=d=>{const{dragSnapToOrigin:h}=this.getProps();h?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(Ru(d).point)},s=(d,h)=>{const{drag:f,dragPropagation:g,onDragStart:v}=this.getProps();if(f&&!g&&(this.openDragLock&&this.openDragLock(),this.openDragLock=gz(f),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),kn(k=>{let _=this.getAxisMotionValue(k).get()||0;if(Pr.test(_)){const{projection:b}=this.visualElement;if(b&&b.layout){const E=b.layout.layoutBox[k];E&&(_=Ht(E)*(parseFloat(_)/100))}}this.originPoint[k]=_}),v&&Be.postRender(()=>v(d,h)),y0(this.visualElement,"transform");const{animationState:S}=this.visualElement;S&&S.setActive("whileDrag",!0)},o=(d,h)=>{const{dragPropagation:f,dragDirectionLock:g,onDirectionLock:v,onDrag:S}=this.getProps();if(!f&&!this.openDragLock)return;const{offset:k}=h;if(g&&this.currentDirection===null){this.currentDirection=iH(k),this.currentDirection!==null&&v&&v(this.currentDirection);return}this.updateAxis("x",h.point,k),this.updateAxis("y",h.point,k),this.visualElement.render(),S&&S(d,h)},a=(d,h)=>this.stop(d,h),l=()=>kn(d=>{var h;return this.getAnimationState(d)==="paused"&&((h=this.getAxisMotionValue(d).animation)==null?void 0:h.play())}),{dragSnapToOrigin:c}=this.getProps();this.panSession=new sN(t,{onSessionStart:i,onStart:s,onMove:o,onSessionEnd:a,resumeAnimation:l},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:c,contextWindow:iN(this.visualElement)})}stop(t,n){const r=this.isDragging;if(this.cancel(),!r)return;const{velocity:i}=n;this.startAnimation(i);const{onDragEnd:s}=this.getProps();s&&Be.postRender(()=>s(t,n))}cancel(){this.isDragging=!1;const{projection:t,animationState:n}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(t,n,r){const{drag:i}=this.getProps();if(!r||!Sd(t,i,this.currentDirection))return;const s=this.getAxisMotionValue(t);let o=this.originPoint[t]+r[t];this.constraints&&this.constraints[t]&&(o=XW(o,this.constraints[t],this.elastic[t])),s.set(o)}resolveConstraints(){var s;const{dragConstraints:t,dragElastic:n}=this.getProps(),r=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(s=this.visualElement.projection)==null?void 0:s.layout,i=this.constraints;t&&Go(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):t&&r?this.constraints=JW(r.layoutBox,t):this.constraints=!1,this.elastic=tH(n),i!==this.constraints&&r&&this.constraints&&!this.hasMutatedConstraints&&kn(o=>{this.constraints!==!1&&this.getAxisMotionValue(o)&&(this.constraints[o]=eH(r.layoutBox[o],this.constraints[o]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:n}=this.getProps();if(!t||!Go(t))return!1;const r=t.current,{projection:i}=this.visualElement;if(!i||!i.layout)return!1;const s=qW(r,i.root,this.visualElement.getTransformPagePoint());let o=QW(i.layout.layoutBox,s);if(n){const a=n(jW(o));this.hasMutatedConstraints=!!a,a&&(o=QA(a))}return o}startAnimation(t){const{drag:n,dragMomentum:r,dragElastic:i,dragTransition:s,dragSnapToOrigin:o,onDragTransitionEnd:a}=this.getProps(),l=this.constraints||{},c=kn(d=>{if(!Sd(d,n,this.currentDirection))return;let h=l&&l[d]||{};o&&(h={min:0,max:0});const f=i?200:1e6,g=i?40:1e7,v={type:"inertia",velocity:r?t[d]:0,bounceStiffness:f,bounceDamping:g,timeConstant:750,restDelta:1,restSpeed:10,...s,...h};return this.startAxisValueAnimation(d,v)});return Promise.all(c).then(a)}startAxisValueAnimation(t,n){const r=this.getAxisMotionValue(t);return y0(this.visualElement,t),r.start(F_(t,r,0,n,this.visualElement,!1))}stopAnimation(){kn(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){kn(t=>{var n;return(n=this.getAxisMotionValue(t).animation)==null?void 0:n.pause()})}getAnimationState(t){var n;return(n=this.getAxisMotionValue(t).animation)==null?void 0:n.state}getAxisMotionValue(t){const n=`_drag${t.toUpperCase()}`,r=this.visualElement.getProps(),i=r[n];return i||this.visualElement.getValue(t,(r.initial?r.initial[t]:void 0)||0)}snapToCursor(t){kn(n=>{const{drag:r}=this.getProps();if(!Sd(n,r,this.currentDirection))return;const{projection:i}=this.visualElement,s=this.getAxisMotionValue(n);if(i&&i.layout){const{min:o,max:a}=i.layout.layoutBox[n];s.set(t[n]-Ve(o,a,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!Go(n)||!r||!this.constraints)return;this.stopAnimation();const i={x:0,y:0};kn(o=>{const a=this.getAxisMotionValue(o);if(a&&this.constraints!==!1){const l=a.get();i[o]=ZW({min:l,max:l},this.constraints[o])}});const{transformTemplate:s}=this.visualElement.getProps();this.visualElement.current.style.transform=s?s({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),kn(o=>{if(!Sd(o,t,null))return;const a=this.getAxisMotionValue(o),{min:l,max:c}=this.constraints[o];a.set(Ve(l,c,i[o]))})}addListeners(){if(!this.visualElement.current)return;nH.set(this.visualElement,this);const t=this.visualElement.current,n=oc(t,"pointerdown",l=>{const{drag:c,dragListener:d=!0}=this.getProps();c&&d&&this.start(l)}),r=()=>{const{dragConstraints:l}=this.getProps();Go(l)&&l.current&&(this.constraints=this.resolveRefConstraints())},{projection:i}=this.visualElement,s=i.addEventListener("measure",r);i&&!i.layout&&(i.root&&i.root.updateScroll(),i.updateLayout()),Be.read(r);const o=tu(window,"resize",()=>this.scalePositionWithinConstraints()),a=i.addEventListener("didUpdate",({delta:l,hasLayoutChanged:c})=>{this.isDragging&&c&&(kn(d=>{const h=this.getAxisMotionValue(d);h&&(this.originPoint[d]+=l[d].translate,h.set(h.get()+l[d].translate))}),this.visualElement.render())});return()=>{o(),n(),s(),a&&a()}}getProps(){const t=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:i=!1,dragConstraints:s=!1,dragElastic:o=x0,dragMomentum:a=!0}=t;return{...t,drag:n,dragDirectionLock:r,dragPropagation:i,dragConstraints:s,dragElastic:o,dragMomentum:a}}}function Sd(e,t,n){return(t===!0||t===e)&&(n===null||n===e)}function iH(e,t=10){let n=null;return Math.abs(e.y)>t?n="y":Math.abs(e.x)>t&&(n="x"),n}class sH extends ms{constructor(t){super(t),this.removeGroupControls=On,this.removeListeners=On,this.controls=new rH(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||On}unmount(){this.removeGroupControls(),this.removeListeners()}}const qC=e=>(t,n)=>{e&&Be.postRender(()=>e(t,n))};class oH extends ms{constructor(){super(...arguments),this.removePointerDownListener=On}onPointerDown(t){this.session=new sN(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:iN(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:n,onPan:r,onPanEnd:i}=this.node.getProps();return{onSessionStart:qC(t),onStart:qC(n),onMove:r,onEnd:(s,o)=>{delete this.session,i&&Be.postRender(()=>i(s,o))}}}mount(){this.removePointerDownListener=oc(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const rh={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function GC(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const Cl={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if(re.test(e))e=parseFloat(e);else return e;const n=GC(e,t.target.x),r=GC(e,t.target.y);return`${n}% ${r}%`}},aH={correct:(e,{treeScale:t,projectionDelta:n})=>{const r=e,i=os.parse(e);if(i.length>5)return r;const s=os.createTransformer(e),o=typeof i[0]!="number"?1:0,a=n.x.scale*t.x,l=n.y.scale*t.y;i[0+o]/=a,i[1+o]/=l;const c=Ve(a,l,.5);return typeof i[2+o]=="number"&&(i[2+o]/=c),typeof i[3+o]=="number"&&(i[3+o]/=c),s(i)}};class lH extends w.Component{componentDidMount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:r,layoutId:i}=this.props,{projection:s}=t;qz(cH),s&&(n.group&&n.group.add(s),r&&r.register&&i&&r.register(s),s.root.didUpdate(),s.addEventListener("animationComplete",()=>{this.safeToRemove()}),s.setOptions({...s.options,onExitComplete:()=>this.safeToRemove()})),rh.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:n,visualElement:r,drag:i,isPresent:s}=this.props,{projection:o}=r;return o&&(o.isPresent=s,i||t.layoutDependency!==n||n===void 0||t.isPresent!==s?o.willUpdate():this.safeToRemove(),t.isPresent!==s&&(s?o.promote():o.relegate()||Be.postRender(()=>{const a=o.getStack();(!a||!a.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),k_.postRender(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:i}=t;i&&(i.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(i),r&&r.deregister&&r.deregister(i))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function aN(e){const[t,n]=OA(),r=w.useContext(i_);return m.jsx(lH,{...e,layoutGroup:r,switchLayoutGroup:w.useContext($A),isPresent:t,safeToRemove:n})}const cH={borderRadius:{...Cl,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Cl,borderTopRightRadius:Cl,borderBottomLeftRadius:Cl,borderBottomRightRadius:Cl,boxShadow:aH};function uH(e,t,n){const r=Mt(e)?e:ka(e);return r.start(F_("",r,t,n)),r.animation}const dH=(e,t)=>e.depth-t.depth;class hH{constructor(){this.children=[],this.isDirty=!1}add(t){a_(this.children,t),this.isDirty=!0}remove(t){l_(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(dH),this.isDirty=!1,this.children.forEach(t)}}function fH(e,t){const n=sn.now(),r=({timestamp:i})=>{const s=i-n;s>=t&&(ss(r),e(s-t))};return Be.setup(r,!0),()=>ss(r)}const lN=["TopLeft","TopRight","BottomLeft","BottomRight"],pH=lN.length,KC=e=>typeof e=="string"?parseFloat(e):e,YC=e=>typeof e=="number"||re.test(e);function mH(e,t,n,r,i,s){i?(e.opacity=Ve(0,n.opacity??1,gH(r)),e.opacityExit=Ve(t.opacity??1,0,yH(r))):s&&(e.opacity=Ve(t.opacity??1,n.opacity??1,r));for(let o=0;o<pH;o++){const a=`border${lN[o]}Radius`;let l=XC(t,a),c=XC(n,a);if(l===void 0&&c===void 0)continue;l||(l=0),c||(c=0),l===0||c===0||YC(l)===YC(c)?(e[a]=Math.max(Ve(KC(l),KC(c),r),0),(Pr.test(c)||Pr.test(l))&&(e[a]+="%")):e[a]=c}(t.rotate||n.rotate)&&(e.rotate=Ve(t.rotate||0,n.rotate||0,r))}function XC(e,t){return e[t]!==void 0?e[t]:e.borderRadius}const gH=cN(0,.5,tA),yH=cN(.5,.95,On);function cN(e,t,n){return r=>r<e?0:r>t?1:n(Yc(e,t,r))}function JC(e,t){e.min=t.min,e.max=t.max}function Sn(e,t){JC(e.x,t.x),JC(e.y,t.y)}function QC(e,t){e.translate=t.translate,e.scale=t.scale,e.originPoint=t.originPoint,e.origin=t.origin}function ZC(e,t,n,r,i){return e-=t,e=yf(e,1/n,r),i!==void 0&&(e=yf(e,1/i,r)),e}function vH(e,t=0,n=1,r=.5,i,s=e,o=e){if(Pr.test(t)&&(t=parseFloat(t),t=Ve(o.min,o.max,t/100)-o.min),typeof t!="number")return;let a=Ve(s.min,s.max,r);e===s&&(a-=t),e.min=ZC(e.min,t,n,a,i),e.max=ZC(e.max,t,n,a,i)}function eS(e,t,[n,r,i],s,o){vH(e,t[n],t[r],t[i],t.scale,s,o)}const wH=["x","scaleX","originX"],_H=["y","scaleY","originY"];function tS(e,t,n,r){eS(e.x,t,wH,n?n.x:void 0,r?r.x:void 0),eS(e.y,t,_H,n?n.y:void 0,r?r.y:void 0)}function nS(e){return e.translate===0&&e.scale===1}function uN(e){return nS(e.x)&&nS(e.y)}function rS(e,t){return e.min===t.min&&e.max===t.max}function xH(e,t){return rS(e.x,t.x)&&rS(e.y,t.y)}function iS(e,t){return Math.round(e.min)===Math.round(t.min)&&Math.round(e.max)===Math.round(t.max)}function dN(e,t){return iS(e.x,t.x)&&iS(e.y,t.y)}function sS(e){return Ht(e.x)/Ht(e.y)}function oS(e,t){return e.translate===t.translate&&e.scale===t.scale&&e.originPoint===t.originPoint}class EH{constructor(){this.members=[]}add(t){a_(this.members,t),t.scheduleRender()}remove(t){if(l_(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(t){const n=this.members.findIndex(i=>t===i);if(n===0)return!1;let r;for(let i=n;i>=0;i--){const s=this.members[i];if(s.isPresent!==!1){r=s;break}}return r?(this.promote(r),!0):!1}promote(t,n){const r=this.lead;if(t!==r&&(this.prevLead=r,this.lead=t,t.show(),r)){r.instance&&r.scheduleRender(),t.scheduleRender(),t.resumeFrom=r,n&&(t.resumeFrom.preserveOpacity=!0),r.snapshot&&(t.snapshot=r.snapshot,t.snapshot.latestValues=r.animationValues||r.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:i}=t.options;i===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:n,resumingFrom:r}=t;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function bH(e,t,n){let r="";const i=e.x.translate/t.x,s=e.y.translate/t.y,o=(n==null?void 0:n.z)||0;if((i||s||o)&&(r=`translate3d(${i}px, ${s}px, ${o}px) `),(t.x!==1||t.y!==1)&&(r+=`scale(${1/t.x}, ${1/t.y}) `),n){const{transformPerspective:c,rotate:d,rotateX:h,rotateY:f,skewX:g,skewY:v}=n;c&&(r=`perspective(${c}px) ${r}`),d&&(r+=`rotate(${d}deg) `),h&&(r+=`rotateX(${h}deg) `),f&&(r+=`rotateY(${f}deg) `),g&&(r+=`skewX(${g}deg) `),v&&(r+=`skewY(${v}deg) `)}const a=e.x.scale*t.x,l=e.y.scale*t.y;return(a!==1||l!==1)&&(r+=`scale(${a}, ${l})`),r||"none"}const vg=["","X","Y","Z"],CH={visibility:"hidden"},SH=1e3;let TH=0;function wg(e,t,n,r){const{latestValues:i}=t;i[e]&&(n[e]=i[e],t.setStaticValue(e,0),r&&(r[e]=0))}function hN(e){if(e.hasCheckedOptimisedAppear=!0,e.root===e)return;const{visualElement:t}=e.options;if(!t)return;const n=KA(t);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:i,layoutId:s}=e.options;window.MotionCancelOptimisedAnimation(n,"transform",Be,!(i||s))}const{parent:r}=e;r&&!r.hasCheckedOptimisedAppear&&hN(r)}function fN({attachResizeListener:e,defaultParent:t,measureScroll:n,checkIsScrollRoot:r,resetTransform:i}){return class{constructor(o={},a=t==null?void 0:t()){this.id=TH++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(PH),this.nodes.forEach(OH),this.nodes.forEach(MH),this.nodes.forEach(RH)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=o,this.root=a?a.root||a:this,this.path=a?[...a.path,a]:[],this.parent=a,this.depth=a?a.depth+1:0;for(let l=0;l<this.path.length;l++)this.path[l].shouldResetTransform=!0;this.root===this&&(this.nodes=new hH)}addEventListener(o,a){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new d_),this.eventHandlers.get(o).add(a)}notifyListeners(o,...a){const l=this.eventHandlers.get(o);l&&l.notify(...a)}hasListeners(o){return this.eventHandlers.has(o)}mount(o){if(this.instance)return;this.isSVG=DA(o)&&!Ez(o),this.instance=o;const{layoutId:a,layout:l,visualElement:c}=this.options;if(c&&!c.current&&c.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(l||a)&&(this.isLayoutDirty=!0),e){let d;const h=()=>this.root.updateBlockedByResize=!1;e(o,()=>{this.root.updateBlockedByResize=!0,d&&d(),d=fH(h,250),rh.hasAnimatedSinceResize&&(rh.hasAnimatedSinceResize=!1,this.nodes.forEach(lS))})}a&&this.root.registerSharedNode(a,this),this.options.animate!==!1&&c&&(a||l)&&this.addEventListener("didUpdate",({delta:d,hasLayoutChanged:h,hasRelativeLayoutChanged:f,layout:g})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const v=this.options.transition||c.getDefaultTransition()||VH,{onLayoutAnimationStart:S,onLayoutAnimationComplete:k}=c.getProps(),_=!this.targetLayout||!dN(this.targetLayout,g),b=!h&&f;if(this.options.layoutRoot||this.resumeFrom||b||h&&(_||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(d,b);const E={...S_(v,"layout"),onPlay:S,onComplete:k};(c.shouldReduceMotion||this.options.layoutRoot)&&(E.delay=0,E.type=!1),this.startAnimation(E)}else h||lS(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=g})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),ss(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(LH),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&hN(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let d=0;d<this.path.length;d++){const h=this.path[d];h.shouldResetTransform=!0,h.updateScroll("snapshot"),h.options.layoutRoot&&h.willUpdate(!1)}const{layoutId:a,layout:l}=this.options;if(a===void 0&&!l)return;const c=this.getTransformTemplate();this.prevTransformTemplateValue=c?c(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(aS);return}this.isUpdating||this.nodes.forEach(NH),this.isUpdating=!1,this.nodes.forEach(DH),this.nodes.forEach(kH),this.nodes.forEach(IH),this.clearAllSnapshots();const a=sn.now();wt.delta=ui(0,1e3/60,a-wt.timestamp),wt.timestamp=a,wt.isProcessing=!0,cg.update.process(wt),cg.preRender.process(wt),cg.render.process(wt),wt.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,k_.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(AH),this.sharedNodes.forEach(jH)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Be.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Be.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!Ht(this.snapshot.measuredBox.x)&&!Ht(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let l=0;l<this.path.length;l++)this.path[l].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Qe(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:a}=this.options;a&&a.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let a=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(a=!1),a&&this.instance){const l=r(this.instance);this.scroll={animationId:this.root.animationId,phase:o,isRoot:l,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:l}}}resetTransform(){if(!i)return;const o=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,a=this.projectionDelta&&!uN(this.projectionDelta),l=this.getTransformTemplate(),c=l?l(this.latestValues,""):void 0,d=c!==this.prevTransformTemplateValue;o&&this.instance&&(a||Ts(this.latestValues)||d)&&(i(this.instance,c),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const a=this.measurePageBox();let l=this.removeElementScroll(a);return o&&(l=this.removeTransform(l)),UH(l),{animationId:this.root.animationId,measuredBox:a,layoutBox:l,latestValues:{},source:this.id}}measurePageBox(){var c;const{visualElement:o}=this.options;if(!o)return Qe();const a=o.measureViewportBox();if(!(((c=this.scroll)==null?void 0:c.wasRoot)||this.path.some(BH))){const{scroll:d}=this.root;d&&(Yo(a.x,d.offset.x),Yo(a.y,d.offset.y))}return a}removeElementScroll(o){var l;const a=Qe();if(Sn(a,o),(l=this.scroll)!=null&&l.wasRoot)return a;for(let c=0;c<this.path.length;c++){const d=this.path[c],{scroll:h,options:f}=d;d!==this.root&&h&&f.layoutScroll&&(h.wasRoot&&Sn(a,o),Yo(a.x,h.offset.x),Yo(a.y,h.offset.y))}return a}applyTransform(o,a=!1){const l=Qe();Sn(l,o);for(let c=0;c<this.path.length;c++){const d=this.path[c];!a&&d.options.layoutScroll&&d.scroll&&d!==d.root&&Xo(l,{x:-d.scroll.offset.x,y:-d.scroll.offset.y}),Ts(d.latestValues)&&Xo(l,d.latestValues)}return Ts(this.latestValues)&&Xo(l,this.latestValues),l}removeTransform(o){const a=Qe();Sn(a,o);for(let l=0;l<this.path.length;l++){const c=this.path[l];if(!c.instance||!Ts(c.latestValues))continue;w0(c.latestValues)&&c.updateSnapshot();const d=Qe(),h=c.measurePageBox();Sn(d,h),tS(a,c.latestValues,c.snapshot?c.snapshot.layoutBox:void 0,d)}return Ts(this.latestValues)&&tS(a,this.latestValues),a}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==wt.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){var f;const a=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=a.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=a.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=a.isSharedProjectionDirty);const l=!!this.resumingFrom||this!==a;if(!(o||l&&this.isSharedProjectionDirty||this.isProjectionDirty||(f=this.parent)!=null&&f.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:d,layoutId:h}=this.options;if(!(!this.layout||!(d||h))){if(this.resolvedRelativeTargetAt=wt.timestamp,!this.targetDelta&&!this.relativeTarget){const g=this.getClosestProjectingParent();g&&g.layout&&this.animationProgress!==1?(this.relativeParent=g,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Qe(),this.relativeTargetOrigin=Qe(),lc(this.relativeTargetOrigin,this.layout.layoutBox,g.layout.layoutBox),Sn(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=Qe(),this.targetWithTransforms=Qe()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),WW(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Sn(this.target,this.layout.layoutBox),nN(this.target,this.targetDelta)):Sn(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const g=this.getClosestProjectingParent();g&&!!g.resumingFrom==!!this.resumingFrom&&!g.options.layoutScroll&&g.target&&this.animationProgress!==1?(this.relativeParent=g,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Qe(),this.relativeTargetOrigin=Qe(),lc(this.relativeTargetOrigin,this.target,g.target),Sn(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||w0(this.parent.latestValues)||tN(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var v;const o=this.getLead(),a=!!this.resumingFrom||this!==o;let l=!0;if((this.isProjectionDirty||(v=this.parent)!=null&&v.isProjectionDirty)&&(l=!1),a&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(l=!1),this.resolvedRelativeTargetAt===wt.timestamp&&(l=!1),l)return;const{layout:c,layoutId:d}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(c||d))return;Sn(this.layoutCorrected,this.layout.layoutBox);const h=this.treeScale.x,f=this.treeScale.y;HW(this.layoutCorrected,this.treeScale,this.path,a),o.layout&&!o.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(o.target=o.layout.layoutBox,o.targetWithTransforms=Qe());const{target:g}=o;if(!g){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(QC(this.prevProjectionDelta.x,this.projectionDelta.x),QC(this.prevProjectionDelta.y,this.projectionDelta.y)),ac(this.projectionDelta,this.layoutCorrected,g,this.latestValues),(this.treeScale.x!==h||this.treeScale.y!==f||!oS(this.projectionDelta.x,this.prevProjectionDelta.x)||!oS(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",g))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){var a;if((a=this.options.visualElement)==null||a.scheduleRender(),o){const l=this.getStack();l&&l.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Ko(),this.projectionDelta=Ko(),this.projectionDeltaWithTransform=Ko()}setAnimationOrigin(o,a=!1){const l=this.snapshot,c=l?l.latestValues:{},d={...this.latestValues},h=Ko();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!a;const f=Qe(),g=l?l.source:void 0,v=this.layout?this.layout.source:void 0,S=g!==v,k=this.getStack(),_=!k||k.members.length<=1,b=!!(S&&!_&&this.options.crossfade===!0&&!this.path.some($H));this.animationProgress=0;let E;this.mixTargetDelta=R=>{const D=R/1e3;cS(h.x,o.x,D),cS(h.y,o.y,D),this.setTargetDelta(h),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(lc(f,this.layout.layoutBox,this.relativeParent.layout.layoutBox),FH(this.relativeTarget,this.relativeTargetOrigin,f,D),E&&xH(this.relativeTarget,E)&&(this.isProjectionDirty=!1),E||(E=Qe()),Sn(E,this.relativeTarget)),S&&(this.animationValues=d,mH(d,c,this.latestValues,D,b,_)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=D},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){var a,l,c;this.notifyListeners("animationStart"),(a=this.currentAnimation)==null||a.stop(!1),(c=(l=this.resumingFrom)==null?void 0:l.currentAnimation)==null||c.stop(!1),this.pendingAnimation&&(ss(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Be.update(()=>{rh.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=ka(0)),this.currentAnimation=uH(this.motionValue,[0,1e3],{...o,isSync:!0,onUpdate:d=>{this.mixTargetDelta(d),o.onUpdate&&o.onUpdate(d)},onStop:()=>{},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(SH),this.currentAnimation.stop(!1)),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:a,target:l,layout:c,latestValues:d}=o;if(!(!a||!l||!c)){if(this!==o&&this.layout&&c&&pN(this.options.animationType,this.layout.layoutBox,c.layoutBox)){l=this.target||Qe();const h=Ht(this.layout.layoutBox.x);l.x.min=o.target.x.min,l.x.max=l.x.min+h;const f=Ht(this.layout.layoutBox.y);l.y.min=o.target.y.min,l.y.max=l.y.min+f}Sn(a,l),Xo(a,d),ac(this.projectionDeltaWithTransform,this.layoutCorrected,a,d)}}registerSharedNode(o,a){this.sharedNodes.has(o)||this.sharedNodes.set(o,new EH),this.sharedNodes.get(o).add(a);const c=a.options.initialPromotionConfig;a.promote({transition:c?c.transition:void 0,preserveFollowOpacity:c&&c.shouldPreserveFollowOpacity?c.shouldPreserveFollowOpacity(a):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){var a;const{layoutId:o}=this.options;return o?((a=this.getStack())==null?void 0:a.lead)||this:this}getPrevLead(){var a;const{layoutId:o}=this.options;return o?(a=this.getStack())==null?void 0:a.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:a,preserveFollowOpacity:l}={}){const c=this.getStack();c&&c.promote(this,l),o&&(this.projectionDelta=void 0,this.needsReset=!0),a&&this.setOptions({transition:a})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetSkewAndRotation(){const{visualElement:o}=this.options;if(!o)return;let a=!1;const{latestValues:l}=o;if((l.z||l.rotate||l.rotateX||l.rotateY||l.rotateZ||l.skewX||l.skewY)&&(a=!0),!a)return;const c={};l.z&&wg("z",o,c,this.animationValues);for(let d=0;d<vg.length;d++)wg(`rotate${vg[d]}`,o,c,this.animationValues),wg(`skew${vg[d]}`,o,c,this.animationValues);o.render();for(const d in c)o.setStaticValue(d,c[d]),this.animationValues&&(this.animationValues[d]=c[d]);o.scheduleRender()}getProjectionStyles(o){if(!this.instance||this.isSVG)return;if(!this.isVisible)return CH;const a={visibility:""},l=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,a.opacity="",a.pointerEvents=nh(o==null?void 0:o.pointerEvents)||"",a.transform=l?l(this.latestValues,""):"none",a;const c=this.getLead();if(!this.projectionDelta||!this.layout||!c.target){const g={};return this.options.layoutId&&(g.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,g.pointerEvents=nh(o==null?void 0:o.pointerEvents)||""),this.hasProjected&&!Ts(this.latestValues)&&(g.transform=l?l({},""):"none",this.hasProjected=!1),g}const d=c.animationValues||c.latestValues;this.applyTransformsToTarget(),a.transform=bH(this.projectionDeltaWithTransform,this.treeScale,d),l&&(a.transform=l(d,a.transform));const{x:h,y:f}=this.projectionDelta;a.transformOrigin=`${h.origin*100}% ${f.origin*100}% 0`,c.animationValues?a.opacity=c===this?d.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:d.opacityExit:a.opacity=c===this?d.opacity!==void 0?d.opacity:"":d.opacityExit!==void 0?d.opacityExit:0;for(const g in Zc){if(d[g]===void 0)continue;const{correct:v,applyTo:S,isCSSVariable:k}=Zc[g],_=a.transform==="none"?d[g]:v(d[g],c);if(S){const b=S.length;for(let E=0;E<b;E++)a[S[E]]=_}else k?this.options.visualElement.renderState.vars[g]=_:a[g]=_}return this.options.layoutId&&(a.pointerEvents=c===this?nh(o==null?void 0:o.pointerEvents)||"":"none"),a}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>{var a;return(a=o.currentAnimation)==null?void 0:a.stop(!1)}),this.root.nodes.forEach(aS),this.root.sharedNodes.clear()}}}function kH(e){e.updateLayout()}function IH(e){var n;const t=((n=e.resumeFrom)==null?void 0:n.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&t&&e.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:i}=e.layout,{animationType:s}=e.options,o=t.source!==e.layout.source;s==="size"?kn(h=>{const f=o?t.measuredBox[h]:t.layoutBox[h],g=Ht(f);f.min=r[h].min,f.max=f.min+g}):pN(s,t.layoutBox,r)&&kn(h=>{const f=o?t.measuredBox[h]:t.layoutBox[h],g=Ht(r[h]);f.max=f.min+g,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[h].max=e.relativeTarget[h].min+g)});const a=Ko();ac(a,r,t.layoutBox);const l=Ko();o?ac(l,e.applyTransform(i,!0),t.measuredBox):ac(l,r,t.layoutBox);const c=!uN(a);let d=!1;if(!e.resumeFrom){const h=e.getClosestProjectingParent();if(h&&!h.resumeFrom){const{snapshot:f,layout:g}=h;if(f&&g){const v=Qe();lc(v,t.layoutBox,f.layoutBox);const S=Qe();lc(S,r,g.layoutBox),dN(v,S)||(d=!0),h.options.layoutRoot&&(e.relativeTarget=S,e.relativeTargetOrigin=v,e.relativeParent=h)}}}e.notifyListeners("didUpdate",{layout:r,snapshot:t,delta:l,layoutDelta:a,hasLayoutChanged:c,hasRelativeLayoutChanged:d})}else if(e.isLead()){const{onExitComplete:r}=e.options;r&&r()}e.options.transition=void 0}function PH(e){e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function RH(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function AH(e){e.clearSnapshot()}function aS(e){e.clearMeasurements()}function NH(e){e.isLayoutDirty=!1}function DH(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function lS(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function OH(e){e.resolveTargetDelta()}function MH(e){e.calcProjection()}function LH(e){e.resetSkewAndRotation()}function jH(e){e.removeLeadSnapshot()}function cS(e,t,n){e.translate=Ve(t.translate,0,n),e.scale=Ve(t.scale,1,n),e.origin=t.origin,e.originPoint=t.originPoint}function uS(e,t,n,r){e.min=Ve(t.min,n.min,r),e.max=Ve(t.max,n.max,r)}function FH(e,t,n,r){uS(e.x,t.x,n.x,r),uS(e.y,t.y,n.y,r)}function $H(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const VH={duration:.45,ease:[.4,0,.1,1]},dS=e=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(e),hS=dS("applewebkit/")&&!dS("chrome/")?Math.round:On;function fS(e){e.min=hS(e.min),e.max=hS(e.max)}function UH(e){fS(e.x),fS(e.y)}function pN(e,t,n){return e==="position"||e==="preserve-aspect"&&!zW(sS(t),sS(n),.2)}function BH(e){var t;return e!==e.root&&((t=e.scroll)==null?void 0:t.wasRoot)}const zH=fN({attachResizeListener:(e,t)=>tu(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),_g={current:void 0},mN=fN({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!_g.current){const e=new zH({});e.mount(window),e.setOptions({layoutScroll:!0}),_g.current=e}return _g.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),WH={pan:{Feature:oH},drag:{Feature:sH,ProjectionNode:mN,MeasureLayout:aN}};function pS(e,t,n){const{props:r}=e;e.animationState&&r.whileHover&&e.animationState.setActive("whileHover",n==="Start");const i="onHover"+n,s=r[i];s&&Be.postRender(()=>s(t,Ru(t)))}class HH extends ms{mount(){const{current:t}=this.node;t&&(this.unmount=yz(t,(n,r)=>(pS(this.node,r,"Start"),i=>pS(this.node,i,"End"))))}unmount(){}}class qH extends ms{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=ku(tu(this.node.current,"focus",()=>this.onFocus()),tu(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function mS(e,t,n){const{props:r}=e;if(e.current instanceof HTMLButtonElement&&e.current.disabled)return;e.animationState&&r.whileTap&&e.animationState.setActive("whileTap",n==="Start");const i="onTap"+(n==="End"?"":n),s=r[i];s&&Be.postRender(()=>s(t,Ru(t)))}class GH extends ms{mount(){const{current:t}=this.node;t&&(this.unmount=xz(t,(n,r)=>(mS(this.node,r,"Start"),(i,{success:s})=>mS(this.node,i,s?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const E0=new WeakMap,xg=new WeakMap,KH=e=>{const t=E0.get(e.target);t&&t(e)},YH=e=>{e.forEach(KH)};function XH({root:e,...t}){const n=e||document;xg.has(n)||xg.set(n,{});const r=xg.get(n),i=JSON.stringify(t);return r[i]||(r[i]=new IntersectionObserver(YH,{root:e,...t})),r[i]}function JH(e,t,n){const r=XH(t);return E0.set(e,n),r.observe(e),()=>{E0.delete(e),r.unobserve(e)}}const QH={some:0,all:1};class ZH extends ms{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:n,margin:r,amount:i="some",once:s}=t,o={root:n?n.current:void 0,rootMargin:r,threshold:typeof i=="number"?i:QH[i]},a=l=>{const{isIntersecting:c}=l;if(this.isInView===c||(this.isInView=c,s&&!c&&this.hasEnteredView))return;c&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",c);const{onViewportEnter:d,onViewportLeave:h}=this.node.getProps(),f=c?d:h;f&&f(l)};return JH(this.node.current,o,a)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:n}=this.node;["amount","margin","root"].some(eq(t,n))&&this.startObserver()}unmount(){}}function eq({viewport:e={}},{viewport:t={}}={}){return n=>e[n]!==t[n]}const tq={inView:{Feature:ZH},tap:{Feature:GH},focus:{Feature:qH},hover:{Feature:HH}},nq={layout:{ProjectionNode:mN,MeasureLayout:aN}},b0={current:null},gN={current:!1};function rq(){if(gN.current=!0,!!o_)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>b0.current=e.matches;e.addListener(t),t()}else b0.current=!1}const iq=new WeakMap;function sq(e,t,n){for(const r in t){const i=t[r],s=n[r];if(Mt(i))e.addValue(r,i);else if(Mt(s))e.addValue(r,ka(i,{owner:e}));else if(s!==i)if(e.hasValue(r)){const o=e.getValue(r);o.liveStyle===!0?o.jump(i):o.hasAnimated||o.set(i)}else{const o=e.getStaticValue(r);e.addValue(r,ka(o!==void 0?o:i,{owner:e}))}}for(const r in n)t[r]===void 0&&e.removeValue(r);return t}const gS=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class oq{scrapeMotionValuesFromProps(t,n,r){return{}}constructor({parent:t,props:n,presenceContext:r,reducedMotionConfig:i,blockInitialAnimation:s,visualState:o},a={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=b_,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const f=sn.now();this.renderScheduledAt<f&&(this.renderScheduledAt=f,Be.render(this.render,!1,!0))};const{latestValues:l,renderState:c}=o;this.latestValues=l,this.baseTarget={...l},this.initialValues=n.initial?{...l}:{},this.renderState=c,this.parent=t,this.props=n,this.presenceContext=r,this.depth=t?t.depth+1:0,this.reducedMotionConfig=i,this.options=a,this.blockInitialAnimation=!!s,this.isControllingVariants=pp(n),this.isVariantNode=jA(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:d,...h}=this.scrapeMotionValuesFromProps(n,{},this);for(const f in h){const g=h[f];l[f]!==void 0&&Mt(g)&&g.set(l[f],!1)}}mount(t){this.current=t,iq.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,r)=>this.bindToMotionValue(r,n)),gN.current||rq(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:b0.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),ss(this.notifyUpdate),ss(this.render),this.valueSubscriptions.forEach(t=>t()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const t in this.events)this.events[t].clear();for(const t in this.features){const n=this.features[t];n&&(n.unmount(),n.isMounted=!1)}this.current=null}bindToMotionValue(t,n){this.valueSubscriptions.has(t)&&this.valueSubscriptions.get(t)();const r=Ka.has(t);r&&this.onBindTransform&&this.onBindTransform();const i=n.on("change",a=>{this.latestValues[t]=a,this.props.onUpdate&&Be.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0)}),s=n.on("renderRequest",this.scheduleRender);let o;window.MotionCheckAppearSync&&(o=window.MotionCheckAppearSync(this,t,n)),this.valueSubscriptions.set(t,()=>{i(),s(),o&&o(),n.owner&&n.stop()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}updateFeatures(){let t="animation";for(t in Ia){const n=Ia[t];if(!n)continue;const{isEnabled:r,Feature:i}=n;if(!this.features[t]&&i&&r(this.props)&&(this.features[t]=new i(this)),this.features[t]){const s=this.features[t];s.isMounted?s.update():(s.mount(),s.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Qe()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,n){this.latestValues[t]=n}update(t,n){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<gS.length;r++){const i=gS[r];this.propEventSubscriptions[i]&&(this.propEventSubscriptions[i](),delete this.propEventSubscriptions[i]);const s="on"+i,o=t[s];o&&(this.propEventSubscriptions[i]=this.on(i,o))}this.prevMotionValues=sq(this,this.scrapeMotionValuesFromProps(t,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(t){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(t),()=>n.variantChildren.delete(t)}addValue(t,n){const r=this.values.get(t);n!==r&&(r&&this.removeValue(t),this.bindToMotionValue(t,n),this.values.set(t,n),this.latestValues[t]=n.get())}removeValue(t){this.values.delete(t);const n=this.valueSubscriptions.get(t);n&&(n(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,n){if(this.props.values&&this.props.values[t])return this.props.values[t];let r=this.values.get(t);return r===void 0&&n!==void 0&&(r=ka(n===null?void 0:n,{owner:this}),this.addValue(t,r)),r}readValue(t,n){let r=this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:this.getBaseTargetFromProps(this.props,t)??this.readValueFromInstance(this.current,t,this.options);return r!=null&&(typeof r=="string"&&(HR(r)||GR(r))?r=parseFloat(r):!Cz(r)&&os.test(n)&&(r=IA(t,n)),this.setBaseTarget(t,Mt(r)?r.get():r)),Mt(r)?r.get():r}setBaseTarget(t,n){this.baseTarget[t]=n}getBaseTarget(t){var s;const{initial:n}=this.props;let r;if(typeof n=="string"||typeof n=="object"){const o=L_(this.props,n,(s=this.presenceContext)==null?void 0:s.custom);o&&(r=o[t])}if(n&&r!==void 0)return r;const i=this.getBaseTargetFromProps(this.props,t);return i!==void 0&&!Mt(i)?i:this.initialValues[t]!==void 0&&r===void 0?void 0:this.baseTarget[t]}on(t,n){return this.events[t]||(this.events[t]=new d_),this.events[t].add(n)}notify(t,...n){this.events[t]&&this.events[t].notify(...n)}}class yN extends oq{constructor(){super(...arguments),this.KeyframeResolver=hz}sortInstanceNodePosition(t,n){return t.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(t,n){return t.style?t.style[n]:void 0}removeValueFromRenderState(t,{vars:n,style:r}){delete n[t],delete r[t]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;Mt(t)&&(this.childSubscription=t.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function vN(e,{style:t,vars:n},r,i){Object.assign(e.style,t,i&&i.getProjectionStyles(r));for(const s in n)e.style.setProperty(s,n[s])}function aq(e){return window.getComputedStyle(e)}class lq extends yN{constructor(){super(...arguments),this.type="html",this.renderInstance=vN}readValueFromInstance(t,n){var r;if(Ka.has(n))return(r=this.projection)!=null&&r.isProjecting?u0(n):A7(t,n);{const i=aq(t),s=(p_(n)?i.getPropertyValue(n):i[n])||0;return typeof s=="string"?s.trim():s}}measureInstanceViewportBox(t,{transformPagePoint:n}){return rN(t,n)}build(t,n,r){D_(t,n,r.transformTemplate)}scrapeMotionValuesFromProps(t,n,r){return j_(t,n,r)}}const wN=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function cq(e,t,n,r){vN(e,t,void 0,r);for(const i in t.attrs)e.setAttribute(wN.has(i)?i:N_(i),t.attrs[i])}class uq extends yN{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Qe}getBaseTargetFromProps(t,n){return t[n]}readValueFromInstance(t,n){if(Ka.has(n)){const r=kA(n);return r&&r.default||0}return n=wN.has(n)?n:N_(n),t.getAttribute(n)}scrapeMotionValuesFromProps(t,n,r){return GA(t,n,r)}build(t,n,r){zA(t,n,this.isSVGTag,r.transformTemplate,r.style)}renderInstance(t,n,r,i){cq(t,n,r,i)}mount(t){this.isSVGTag=HA(t.tagName),super.mount(t)}}const dq=(e,t)=>M_(e)?new uq(t):new lq(t,{allowProjection:e!==w.Fragment}),hq=cW({...MW,...tq,...WH,...nq},dq),fq=Oz(hq);function pq(){const e=$n(),t=Nr(),[n,r]=w.useState(null),[i,s]=w.useState(null),[o,a]=w.useState(null),[l,c]=w.useState(null),[d,h]=w.useState(Array(6).fill({nombre:"",dorsal:""})),[f,g]=w.useState(Array(6).fill({nombre:"",dorsal:""})),[v,S]=w.useState(null);w.useState(!1),w.useEffect(()=>{var T,C;(T=t.state)!=null&&T.equipoLocal&&((C=t.state)!=null&&C.equipoVisita)?(r(t.state),s(t.state.equipoLocal),a(t.state.equipoVisita),c(t.state.genero)):(console.warn("[Alineacion.jsx] No se recibieron datos de configuracin del partido. Redirigiendo."),e("/partido/configurar"))},[t.state,e]);const k=(T,C)=>{const I=C==="local"?d[T]:f[T],y=C==="local"?d:f,N=C==="local"?i==null?void 0:i.nombre:o==null?void 0:o.nombre;S({tipo:C,index:T,jugador:I,jugadoresActuales:y,nombreEquipo:N,generoPartido:l})},_=(T,C,I)=>{const y=C==="local"?h:g,O=[...C==="local"?d:f];O[T]=I,y(O),S(null)},b=async()=>{let T=null;try{const C=G=>G.every(F=>F.nombre.trim()!==""&&F.dorsal.trim()!=="");if(!C(d)||!C(f)){alert("Todos los jugadores deben tener nombre y dorsal antes de continuar.");return}const I=ee(te,"partidos");T=Zd(I).key;const[N,O]=await Promise.all([ar(ee(te,`plantillas/${l.toLowerCase()}/${i.nombre.toLowerCase()}`)),ar(ee(te,`plantillas/${l.toLowerCase()}/${o.nombre.toLowerCase()}`))]),A=N.exists()?N.val():r0[i.nombre.toLowerCase()]||[],V=O.exists()?O.val():r0[o.nombre.toLowerCase()]||[],U={nombre:i.nombre,logo:i.escudo.split("/").pop(),jugadores:d.map(G=>({...G,enJuego:!0,haJugado:!0})),todosJugadores:A},q={nombre:o.nombre,logo:o.escudo.split("/").pop(),jugadores:f.map(G=>({...G,enJuego:!0,haJugado:!0})),todosJugadores:V};await Ze(ee(te,`partidos/${T}/alineacion`),{equipo1:U,equipo2:q,genero:l}),await Ze(ee(te,`partidos/${T}/marcador`),{equipo1:0,equipo2:0}),await Ze(ee(te,"partidoEnCurso"),{partidoId:T,equipo1:i.nombre,equipo2:o.nombre,timestamp:Date.now()}),e(`/control-partido/${T}`)}catch(C){alert(" ERROR al confirmar alineacin: "+C.message),console.error("Error al confirmar alineacin:",C)}},E=T=>`/EmproChampions-2025/camisas/camisa-${T.toLowerCase().replace(/\s+/g,"-")}.png`,R=T=>["don bosco","luz","emprosaurios"].includes(T.toLowerCase())?"#000":"#fff",D=[{top:"15%",left:"18%"},{top:"15%",left:"62%"},{top:"38%",left:"40%"},{top:"55%",left:"17%"},{top:"55%",left:"63%"},{top:"74%",left:"40%"}],M=(T,C,I,y)=>m.jsx(fq.div,{className:"absolute cursor-pointer",style:{top:D[C].top,left:D[C].left,transform:"translate(-50%, -50%)"},animate:{scale:(v==null?void 0:v.index)===C&&(v==null?void 0:v.tipo)===I?1.5:1},transition:{duration:.3},onClick:()=>k(C,I),children:m.jsxs("div",{className:"relative w-fit flex flex-col items-center",children:[m.jsx("div",{className:"absolute top-[12%] font-barcelona text-[24px] md:text-[30px] z-20 pointer-events-none",style:{color:R((I==="local"?i==null?void 0:i.nombre:o==null?void 0:o.nombre)||""),textShadow:"1px 1px 1px rgba(0,0,0,0.6)"},children:T.dorsal}),m.jsx("img",{src:y,className:"w-16 md:w-20 relative z-10",alt:`jugador-${I}`}),T.nombre&&m.jsx("div",{className:"absolute bottom-[-18px] font-barcelona text-[11px] text-white bg-black/80 px-2 py-[2px] rounded text-center z-20",children:T.nombre})]})},C);return!i||!o?null:m.jsxs("div",{className:"min-h-screen bg-cover bg-center font-qatar text-white",style:{backgroundImage:"url('/EmproChampions-2025/img/fondoempro-horizontal.png')"},children:[m.jsx(ur,{}),m.jsx("h1",{className:"text-3xl sm:text-5xl font-bold text-center mt-6 text-yellow-400 drop-shadow",children:"Alineacin Inicial"}),m.jsxs("div",{className:"flex flex-col lg:flex-row items-center justify-center gap-4 lg:gap-8 p-2 lg:p-6",children:[m.jsxs("div",{className:"relative w-[300px] h-[510px] sm:w-[320px] sm:h-[540px] md:w-[400px] md:h-[640px]",children:[m.jsx("img",{src:"/EmproChampions-2025/img/cancha-vertical.svg",alt:"cancha local",className:"w-full h-full"}),d.map((T,C)=>M(T,C,"local",E(i.nombre)))]}),m.jsxs("div",{className:"flex flex-col items-center gap-4 my-4 lg:my-0",children:[m.jsx("img",{src:"/img/logo-empro.png",alt:"logo empro",className:"w-20 md:w-32"}),m.jsxs("div",{className:"flex items-center gap-4 md:gap-10",children:[m.jsx("img",{src:i.escudo,className:"w-20 h-20 md:w-24 md:h-24 object-contain",alt:"local logo"}),m.jsx("span",{className:"text-white text-3xl md:text-4xl font-black",children:"VS"}),m.jsx("img",{src:o.escudo,className:"w-20 h-20 md:w-24 md:h-24 object-contain",alt:"visita logo"})]}),m.jsx("button",{onClick:()=>e("/partido/configurar"),className:"bg-white/80 text-[#7a0026] font-bold px-6 py-2 rounded-full hover:bg-white transition",children:" Volver"})]}),m.jsxs("div",{className:"relative w-[300px] h-[510px] sm:w-[320px] sm:h-[540px] md:w-[400px] md:h-[640px]",children:[m.jsx("img",{src:"/EmproChampions-2025/img/cancha-vertical.svg",alt:"cancha visita",className:"w-full h-full"}),f.map((T,C)=>M(T,C,"visita",E(o.nombre)))]})]}),m.jsx("div",{className:"flex justify-center mt-6 pb-10",children:m.jsx("button",{onClick:b,className:"bg-[#FFD700] text-[#7a0026] font-bold px-10 py-3 rounded-full hover:bg-yellow-300 transition text-xl shadow-lg",children:"Confirmar Alineacin"})}),m.jsx(Pz,{children:v&&m.jsx(I8,{...v,onSave:_,onClose:()=>S(null),camiseta:E(v.tipo==="local"?i.nombre:o.nombre),dorsalColor:R(v.tipo==="local"?i.nombre:o.nombre)})}),m.jsx(dr,{})]})}function so(e){return e&&e.ownerDocument||document}function vf(e){return so(e).defaultView||window}function mq(e=window){const t=e.document.documentElement.clientWidth;return e.innerWidth-t}function gq(e){const t=so(e);return t.body===e?vf(e).innerWidth>t.documentElement.clientWidth:e.scrollHeight>e.clientHeight}function cc(e,t){t?e.setAttribute("aria-hidden","true"):e.removeAttribute("aria-hidden")}function yS(e){return parseInt(vf(e).getComputedStyle(e).paddingRight,10)||0}function yq(e){const n=["TEMPLATE","SCRIPT","STYLE","LINK","MAP","META","NOSCRIPT","PICTURE","COL","COLGROUP","PARAM","SLOT","SOURCE","TRACK"].includes(e.tagName),r=e.tagName==="INPUT"&&e.getAttribute("type")==="hidden";return n||r}function vS(e,t,n,r,i){const s=[t,n,...r];[].forEach.call(e.children,o=>{const a=!s.includes(o),l=!yq(o);a&&l&&cc(o,i)})}function Eg(e,t){let n=-1;return e.some((r,i)=>t(r)?(n=i,!0):!1),n}function vq(e,t){const n=[],r=e.container;if(!t.disableScrollLock){if(gq(r)){const o=mq(vf(r));n.push({value:r.style.paddingRight,property:"padding-right",el:r}),r.style.paddingRight=`${yS(r)+o}px`;const a=so(r).querySelectorAll(".mui-fixed");[].forEach.call(a,l=>{n.push({value:l.style.paddingRight,property:"padding-right",el:l}),l.style.paddingRight=`${yS(l)+o}px`})}let s;if(r.parentNode instanceof DocumentFragment)s=so(r).body;else{const o=r.parentElement,a=vf(r);s=(o==null?void 0:o.nodeName)==="HTML"&&a.getComputedStyle(o).overflowY==="scroll"?o:r}n.push({value:s.style.overflow,property:"overflow",el:s},{value:s.style.overflowX,property:"overflow-x",el:s},{value:s.style.overflowY,property:"overflow-y",el:s}),s.style.overflow="hidden"}return()=>{n.forEach(({value:s,el:o,property:a})=>{s?o.style.setProperty(a,s):o.style.removeProperty(a)})}}function wq(e){const t=[];return[].forEach.call(e.children,n=>{n.getAttribute("aria-hidden")==="true"&&t.push(n)}),t}class _q{constructor(){this.modals=[],this.containers=[]}add(t,n){let r=this.modals.indexOf(t);if(r!==-1)return r;r=this.modals.length,this.modals.push(t),t.modalRef&&cc(t.modalRef,!1);const i=wq(n);vS(n,t.mount,t.modalRef,i,!0);const s=Eg(this.containers,o=>o.container===n);return s!==-1?(this.containers[s].modals.push(t),r):(this.containers.push({modals:[t],container:n,restore:null,hiddenSiblings:i}),r)}mount(t,n){const r=Eg(this.containers,s=>s.modals.includes(t)),i=this.containers[r];i.restore||(i.restore=vq(i,n))}remove(t,n=!0){const r=this.modals.indexOf(t);if(r===-1)return r;const i=Eg(this.containers,o=>o.modals.includes(t)),s=this.containers[i];if(s.modals.splice(s.modals.indexOf(t),1),this.modals.splice(r,1),s.modals.length===0)s.restore&&s.restore(),t.modalRef&&cc(t.modalRef,n),vS(s.container,t.mount,t.modalRef,s.hiddenSiblings,!1),this.containers.splice(i,1);else{const o=s.modals[s.modals.length-1];o.modalRef&&cc(o.modalRef,!1)}return r}isTopModal(t){return this.modals.length>0&&this.modals[this.modals.length-1]===t}}function _N(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var i=e.length;for(t=0;t<i;t++)e[t]&&(n=_N(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function Pa(){for(var e,t,n=0,r="",i=arguments.length;n<i;n++)(e=arguments[n])&&(t=_N(e))&&(r&&(r+=" "),r+=t);return r}function xN(e,t,n=void 0){const r={};for(const i in e){const s=e[i];let o="",a=!0;for(let l=0;l<s.length;l+=1){const c=s[l];c&&(o+=(a===!0?"":" ")+t(c),a=!1,n&&n[c]&&(o+=" "+n[c]))}r[i]=o}return r}function Au(...e){const t=w.useRef(void 0),n=w.useCallback(r=>{const i=e.map(s=>{if(s==null)return null;if(typeof s=="function"){const o=s,a=o(r);return typeof a=="function"?a:()=>{o(null)}}return s.current=r,()=>{s.current=null}});return()=>{i.forEach(s=>s==null?void 0:s())}},e);return w.useMemo(()=>e.every(r=>r==null)?null:r=>{t.current&&(t.current(),t.current=void 0),r!=null&&(t.current=n(r))},e)}function $_(e){var t;return parseInt(w.version,10)>=19?((t=e==null?void 0:e.props)==null?void 0:t.ref)||null:(e==null?void 0:e.ref)||null}const xq=["input","select","textarea","a[href]","button","[tabindex]","audio[controls]","video[controls]",'[contenteditable]:not([contenteditable="false"])'].join(",");function Eq(e){const t=parseInt(e.getAttribute("tabindex")||"",10);return Number.isNaN(t)?e.contentEditable==="true"||(e.nodeName==="AUDIO"||e.nodeName==="VIDEO"||e.nodeName==="DETAILS")&&e.getAttribute("tabindex")===null?0:e.tabIndex:t}function bq(e){if(e.tagName!=="INPUT"||e.type!=="radio"||!e.name)return!1;const t=r=>e.ownerDocument.querySelector(`input[type="radio"]${r}`);let n=t(`[name="${e.name}"]:checked`);return n||(n=t(`[name="${e.name}"]`)),n!==e}function Cq(e){return!(e.disabled||e.tagName==="INPUT"&&e.type==="hidden"||bq(e))}function Sq(e){const t=[],n=[];return Array.from(e.querySelectorAll(xq)).forEach((r,i)=>{const s=Eq(r);s===-1||!Cq(r)||(s===0?t.push(r):n.push({documentOrder:i,tabIndex:s,node:r}))}),n.sort((r,i)=>r.tabIndex===i.tabIndex?r.documentOrder-i.documentOrder:r.tabIndex-i.tabIndex).map(r=>r.node).concat(t)}function Tq(){return!0}function kq(e){const{children:t,disableAutoFocus:n=!1,disableEnforceFocus:r=!1,disableRestoreFocus:i=!1,getTabbable:s=Sq,isEnabled:o=Tq,open:a}=e,l=w.useRef(!1),c=w.useRef(null),d=w.useRef(null),h=w.useRef(null),f=w.useRef(null),g=w.useRef(!1),v=w.useRef(null),S=Au($_(t),v),k=w.useRef(null);w.useEffect(()=>{!a||!v.current||(g.current=!n)},[n,a]),w.useEffect(()=>{if(!a||!v.current)return;const E=so(v.current);return v.current.contains(E.activeElement)||(v.current.hasAttribute("tabIndex")||v.current.setAttribute("tabIndex","-1"),g.current&&v.current.focus()),()=>{i||(h.current&&h.current.focus&&(l.current=!0,h.current.focus()),h.current=null)}},[a]),w.useEffect(()=>{if(!a||!v.current)return;const E=so(v.current),R=T=>{k.current=T,!(r||!o()||T.key!=="Tab")&&E.activeElement===v.current&&T.shiftKey&&(l.current=!0,d.current&&d.current.focus())},D=()=>{var I,y;const T=v.current;if(T===null)return;if(!E.hasFocus()||!o()||l.current){l.current=!1;return}if(T.contains(E.activeElement)||r&&E.activeElement!==c.current&&E.activeElement!==d.current)return;if(E.activeElement!==f.current)f.current=null;else if(f.current!==null)return;if(!g.current)return;let C=[];if((E.activeElement===c.current||E.activeElement===d.current)&&(C=s(v.current)),C.length>0){const N=!!((I=k.current)!=null&&I.shiftKey&&((y=k.current)==null?void 0:y.key)==="Tab"),O=C[0],A=C[C.length-1];typeof O!="string"&&typeof A!="string"&&(N?A.focus():O.focus())}else T.focus()};E.addEventListener("focusin",D),E.addEventListener("keydown",R,!0);const M=setInterval(()=>{E.activeElement&&E.activeElement.tagName==="BODY"&&D()},50);return()=>{clearInterval(M),E.removeEventListener("focusin",D),E.removeEventListener("keydown",R,!0)}},[n,r,i,o,a,s]);const _=E=>{h.current===null&&(h.current=E.relatedTarget),g.current=!0,f.current=E.target;const R=t.props.onFocus;R&&R(E)},b=E=>{h.current===null&&(h.current=E.relatedTarget),g.current=!0};return m.jsxs(w.Fragment,{children:[m.jsx("div",{tabIndex:a?0:-1,onFocus:b,ref:c,"data-testid":"sentinelStart"}),w.cloneElement(t,{ref:S,onFocus:_}),m.jsx("div",{tabIndex:a?0:-1,onFocus:b,ref:d,"data-testid":"sentinelEnd"})]})}const Iq=typeof window<"u"?w.useLayoutEffect:w.useEffect,C0=Iq;function wS(e,t){typeof e=="function"?e(t):e&&(e.current=t)}function Pq(e){return typeof e=="function"?e():e}const Rq=w.forwardRef(function(t,n){const{children:r,container:i,disablePortal:s=!1}=t,[o,a]=w.useState(null),l=Au(w.isValidElement(r)?$_(r):null,n);if(C0(()=>{s||a(Pq(i)||document.body)},[i,s]),C0(()=>{if(o&&!s)return wS(n,o),()=>{wS(n,null)}},[n,o,s]),s){if(w.isValidElement(r)){const c={ref:l};return w.cloneElement(r,c)}return r}return o&&Uf.createPortal(r,o)}),Aq=Rq;function oo(e,...t){const n=new URL(`https://mui.com/production-error/?code=${e}`);return t.forEach(r=>n.searchParams.append("args[]",r)),`Minified MUI error #${e}; visit ${n} for the full message.`}function EN(e){if(typeof e!="string")throw new Error(oo(7));return e.charAt(0).toUpperCase()+e.slice(1)}var bN={exports:{}},ke={};/**
 * @license React
 * react-is.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var V_=Symbol.for("react.transitional.element"),U_=Symbol.for("react.portal"),mp=Symbol.for("react.fragment"),gp=Symbol.for("react.strict_mode"),yp=Symbol.for("react.profiler"),vp=Symbol.for("react.consumer"),wp=Symbol.for("react.context"),_p=Symbol.for("react.forward_ref"),xp=Symbol.for("react.suspense"),Ep=Symbol.for("react.suspense_list"),bp=Symbol.for("react.memo"),Cp=Symbol.for("react.lazy"),Nq=Symbol.for("react.view_transition"),Dq=Symbol.for("react.client.reference");function Vn(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case V_:switch(e=e.type,e){case mp:case yp:case gp:case xp:case Ep:case Nq:return e;default:switch(e=e&&e.$$typeof,e){case wp:case _p:case Cp:case bp:return e;case vp:return e;default:return t}}case U_:return t}}}ke.ContextConsumer=vp;ke.ContextProvider=wp;ke.Element=V_;ke.ForwardRef=_p;ke.Fragment=mp;ke.Lazy=Cp;ke.Memo=bp;ke.Portal=U_;ke.Profiler=yp;ke.StrictMode=gp;ke.Suspense=xp;ke.SuspenseList=Ep;ke.isContextConsumer=function(e){return Vn(e)===vp};ke.isContextProvider=function(e){return Vn(e)===wp};ke.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===V_};ke.isForwardRef=function(e){return Vn(e)===_p};ke.isFragment=function(e){return Vn(e)===mp};ke.isLazy=function(e){return Vn(e)===Cp};ke.isMemo=function(e){return Vn(e)===bp};ke.isPortal=function(e){return Vn(e)===U_};ke.isProfiler=function(e){return Vn(e)===yp};ke.isStrictMode=function(e){return Vn(e)===gp};ke.isSuspense=function(e){return Vn(e)===xp};ke.isSuspenseList=function(e){return Vn(e)===Ep};ke.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===mp||e===yp||e===gp||e===xp||e===Ep||typeof e=="object"&&e!==null&&(e.$$typeof===Cp||e.$$typeof===bp||e.$$typeof===wp||e.$$typeof===vp||e.$$typeof===_p||e.$$typeof===Dq||e.getModuleId!==void 0)};ke.typeOf=Vn;bN.exports=ke;var CN=bN.exports;function br(e){if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)}function SN(e){if(w.isValidElement(e)||CN.isValidElementType(e)||!br(e))return e;const t={};return Object.keys(e).forEach(n=>{t[n]=SN(e[n])}),t}function vn(e,t,n={clone:!0}){const r=n.clone?{...e}:e;return br(e)&&br(t)&&Object.keys(t).forEach(i=>{w.isValidElement(t[i])||CN.isValidElementType(t[i])?r[i]=t[i]:br(t[i])&&Object.prototype.hasOwnProperty.call(e,i)&&br(e[i])?r[i]=vn(e[i],t[i],n):n.clone?r[i]=br(t[i])?SN(t[i]):t[i]:r[i]=t[i]}),r}function uc(e,t){return t?vn(e,t,{clone:!1}):e}function Oq(e,t){if(!e.containerQueries)return t;const n=Object.keys(t).filter(r=>r.startsWith("@container")).sort((r,i)=>{var o,a;const s=/min-width:\s*([0-9.]+)/;return+(((o=r.match(s))==null?void 0:o[1])||0)-+(((a=i.match(s))==null?void 0:a[1])||0)});return n.length?n.reduce((r,i)=>{const s=t[i];return delete r[i],r[i]=s,r},{...t}):t}function Mq(e,t){return t==="@"||t.startsWith("@")&&(e.some(n=>t.startsWith(`@${n}`))||!!t.match(/^@\d/))}function Lq(e,t){const n=t.match(/^@([^/]+)?\/?(.+)?$/);if(!n)return null;const[,r,i]=n,s=Number.isNaN(+r)?r||0:+r;return e.containerQueries(i).up(s)}function jq(e){const t=(s,o)=>s.replace("@media",o?`@container ${o}`:"@container");function n(s,o){s.up=(...a)=>t(e.breakpoints.up(...a),o),s.down=(...a)=>t(e.breakpoints.down(...a),o),s.between=(...a)=>t(e.breakpoints.between(...a),o),s.only=(...a)=>t(e.breakpoints.only(...a),o),s.not=(...a)=>{const l=t(e.breakpoints.not(...a),o);return l.includes("not all and")?l.replace("not all and ","").replace("min-width:","width<").replace("max-width:","width>").replace("and","or"):l}}const r={},i=s=>(n(r,s),r);return n(i),{...e,containerQueries:i}}const Sp={xs:0,sm:600,md:900,lg:1200,xl:1536},_S={keys:["xs","sm","md","lg","xl"],up:e=>`@media (min-width:${Sp[e]}px)`},Fq={containerQueries:e=>({up:t=>{let n=typeof t=="number"?t:Sp[t]||t;return typeof n=="number"&&(n=`${n}px`),e?`@container ${e} (min-width:${n})`:`@container (min-width:${n})`}})};function hi(e,t,n){const r=e.theme||{};if(Array.isArray(t)){const s=r.breakpoints||_S;return t.reduce((o,a,l)=>(o[s.up(s.keys[l])]=n(t[l]),o),{})}if(typeof t=="object"){const s=r.breakpoints||_S;return Object.keys(t).reduce((o,a)=>{if(Mq(s.keys,a)){const l=Lq(r.containerQueries?r:Fq,a);l&&(o[l]=n(t[a],a))}else if(Object.keys(s.values||Sp).includes(a)){const l=s.up(a);o[l]=n(t[a],a)}else{const l=a;o[l]=t[l]}return o},{})}return n(t)}function $q(e={}){var n;return((n=e.keys)==null?void 0:n.reduce((r,i)=>{const s=e.up(i);return r[s]={},r},{}))||{}}function Vq(e,t){return e.reduce((n,r)=>{const i=n[r];return(!i||Object.keys(i).length===0)&&delete n[r],n},t)}function Tp(e,t,n=!0){if(!t||typeof t!="string")return null;if(e&&e.vars&&n){const r=`vars.${t}`.split(".").reduce((i,s)=>i&&i[s]?i[s]:null,e);if(r!=null)return r}return t.split(".").reduce((r,i)=>r&&r[i]!=null?r[i]:null,e)}function wf(e,t,n,r=n){let i;return typeof e=="function"?i=e(n):Array.isArray(e)?i=e[n]||r:i=Tp(e,n)||r,t&&(i=t(i,r,e)),i}function tt(e){const{prop:t,cssProperty:n=e.prop,themeKey:r,transform:i}=e,s=o=>{if(o[t]==null)return null;const a=o[t],l=o.theme,c=Tp(l,r)||{};return hi(o,a,h=>{let f=wf(c,i,h);return h===f&&typeof h=="string"&&(f=wf(c,i,`${t}${h==="default"?"":EN(h)}`,h)),n===!1?f:{[n]:f}})};return s.propTypes={},s.filterProps=[t],s}function Uq(e){const t={};return n=>(t[n]===void 0&&(t[n]=e(n)),t[n])}const Bq={m:"margin",p:"padding"},zq={t:"Top",r:"Right",b:"Bottom",l:"Left",x:["Left","Right"],y:["Top","Bottom"]},xS={marginX:"mx",marginY:"my",paddingX:"px",paddingY:"py"},Wq=Uq(e=>{if(e.length>2)if(xS[e])e=xS[e];else return[e];const[t,n]=e.split(""),r=Bq[t],i=zq[n]||"";return Array.isArray(i)?i.map(s=>r+s):[r+i]}),B_=["m","mt","mr","mb","ml","mx","my","margin","marginTop","marginRight","marginBottom","marginLeft","marginX","marginY","marginInline","marginInlineStart","marginInlineEnd","marginBlock","marginBlockStart","marginBlockEnd"],z_=["p","pt","pr","pb","pl","px","py","padding","paddingTop","paddingRight","paddingBottom","paddingLeft","paddingX","paddingY","paddingInline","paddingInlineStart","paddingInlineEnd","paddingBlock","paddingBlockStart","paddingBlockEnd"];[...B_,...z_];function Nu(e,t,n,r){const i=Tp(e,t,!0)??n;return typeof i=="number"||typeof i=="string"?s=>typeof s=="string"?s:typeof i=="string"?i.startsWith("var(")&&s===0?0:i.startsWith("var(")&&s===1?i:`calc(${s} * ${i})`:i*s:Array.isArray(i)?s=>{if(typeof s=="string")return s;const o=Math.abs(s),a=i[o];return s>=0?a:typeof a=="number"?-a:typeof a=="string"&&a.startsWith("var(")?`calc(-1 * ${a})`:`-${a}`}:typeof i=="function"?i:()=>{}}function W_(e){return Nu(e,"spacing",8)}function Du(e,t){return typeof t=="string"||t==null?t:e(t)}function Hq(e,t){return n=>e.reduce((r,i)=>(r[i]=Du(t,n),r),{})}function qq(e,t,n,r){if(!t.includes(n))return null;const i=Wq(n),s=Hq(i,r),o=e[n];return hi(e,o,s)}function TN(e,t){const n=W_(e.theme);return Object.keys(e).map(r=>qq(e,t,r,n)).reduce(uc,{})}function He(e){return TN(e,B_)}He.propTypes={};He.filterProps=B_;function qe(e){return TN(e,z_)}qe.propTypes={};qe.filterProps=z_;function kp(...e){const t=e.reduce((r,i)=>(i.filterProps.forEach(s=>{r[s]=i}),r),{}),n=r=>Object.keys(r).reduce((i,s)=>t[s]?uc(i,t[s](r)):i,{});return n.propTypes={},n.filterProps=e.reduce((r,i)=>r.concat(i.filterProps),[]),n}function Rn(e){return typeof e!="number"?e:`${e}px solid`}function Un(e,t){return tt({prop:e,themeKey:"borders",transform:t})}const Gq=Un("border",Rn),Kq=Un("borderTop",Rn),Yq=Un("borderRight",Rn),Xq=Un("borderBottom",Rn),Jq=Un("borderLeft",Rn),Qq=Un("borderColor"),Zq=Un("borderTopColor"),eG=Un("borderRightColor"),tG=Un("borderBottomColor"),nG=Un("borderLeftColor"),rG=Un("outline",Rn),iG=Un("outlineColor"),Ip=e=>{if(e.borderRadius!==void 0&&e.borderRadius!==null){const t=Nu(e.theme,"shape.borderRadius",4),n=r=>({borderRadius:Du(t,r)});return hi(e,e.borderRadius,n)}return null};Ip.propTypes={};Ip.filterProps=["borderRadius"];kp(Gq,Kq,Yq,Xq,Jq,Qq,Zq,eG,tG,nG,Ip,rG,iG);const Pp=e=>{if(e.gap!==void 0&&e.gap!==null){const t=Nu(e.theme,"spacing",8),n=r=>({gap:Du(t,r)});return hi(e,e.gap,n)}return null};Pp.propTypes={};Pp.filterProps=["gap"];const Rp=e=>{if(e.columnGap!==void 0&&e.columnGap!==null){const t=Nu(e.theme,"spacing",8),n=r=>({columnGap:Du(t,r)});return hi(e,e.columnGap,n)}return null};Rp.propTypes={};Rp.filterProps=["columnGap"];const Ap=e=>{if(e.rowGap!==void 0&&e.rowGap!==null){const t=Nu(e.theme,"spacing",8),n=r=>({rowGap:Du(t,r)});return hi(e,e.rowGap,n)}return null};Ap.propTypes={};Ap.filterProps=["rowGap"];const sG=tt({prop:"gridColumn"}),oG=tt({prop:"gridRow"}),aG=tt({prop:"gridAutoFlow"}),lG=tt({prop:"gridAutoColumns"}),cG=tt({prop:"gridAutoRows"}),uG=tt({prop:"gridTemplateColumns"}),dG=tt({prop:"gridTemplateRows"}),hG=tt({prop:"gridTemplateAreas"}),fG=tt({prop:"gridArea"});kp(Pp,Rp,Ap,sG,oG,aG,lG,cG,uG,dG,hG,fG);function ca(e,t){return t==="grey"?t:e}const pG=tt({prop:"color",themeKey:"palette",transform:ca}),mG=tt({prop:"bgcolor",cssProperty:"backgroundColor",themeKey:"palette",transform:ca}),gG=tt({prop:"backgroundColor",themeKey:"palette",transform:ca});kp(pG,mG,gG);function mn(e){return e<=1&&e!==0?`${e*100}%`:e}const yG=tt({prop:"width",transform:mn}),H_=e=>{if(e.maxWidth!==void 0&&e.maxWidth!==null){const t=n=>{var i,s,o,a,l;const r=((o=(s=(i=e.theme)==null?void 0:i.breakpoints)==null?void 0:s.values)==null?void 0:o[n])||Sp[n];return r?((l=(a=e.theme)==null?void 0:a.breakpoints)==null?void 0:l.unit)!=="px"?{maxWidth:`${r}${e.theme.breakpoints.unit}`}:{maxWidth:r}:{maxWidth:mn(n)}};return hi(e,e.maxWidth,t)}return null};H_.filterProps=["maxWidth"];const vG=tt({prop:"minWidth",transform:mn}),wG=tt({prop:"height",transform:mn}),_G=tt({prop:"maxHeight",transform:mn}),xG=tt({prop:"minHeight",transform:mn});tt({prop:"size",cssProperty:"width",transform:mn});tt({prop:"size",cssProperty:"height",transform:mn});const EG=tt({prop:"boxSizing"});kp(yG,H_,vG,wG,_G,xG,EG);const bG={border:{themeKey:"borders",transform:Rn},borderTop:{themeKey:"borders",transform:Rn},borderRight:{themeKey:"borders",transform:Rn},borderBottom:{themeKey:"borders",transform:Rn},borderLeft:{themeKey:"borders",transform:Rn},borderColor:{themeKey:"palette"},borderTopColor:{themeKey:"palette"},borderRightColor:{themeKey:"palette"},borderBottomColor:{themeKey:"palette"},borderLeftColor:{themeKey:"palette"},outline:{themeKey:"borders",transform:Rn},outlineColor:{themeKey:"palette"},borderRadius:{themeKey:"shape.borderRadius",style:Ip},color:{themeKey:"palette",transform:ca},bgcolor:{themeKey:"palette",cssProperty:"backgroundColor",transform:ca},backgroundColor:{themeKey:"palette",transform:ca},p:{style:qe},pt:{style:qe},pr:{style:qe},pb:{style:qe},pl:{style:qe},px:{style:qe},py:{style:qe},padding:{style:qe},paddingTop:{style:qe},paddingRight:{style:qe},paddingBottom:{style:qe},paddingLeft:{style:qe},paddingX:{style:qe},paddingY:{style:qe},paddingInline:{style:qe},paddingInlineStart:{style:qe},paddingInlineEnd:{style:qe},paddingBlock:{style:qe},paddingBlockStart:{style:qe},paddingBlockEnd:{style:qe},m:{style:He},mt:{style:He},mr:{style:He},mb:{style:He},ml:{style:He},mx:{style:He},my:{style:He},margin:{style:He},marginTop:{style:He},marginRight:{style:He},marginBottom:{style:He},marginLeft:{style:He},marginX:{style:He},marginY:{style:He},marginInline:{style:He},marginInlineStart:{style:He},marginInlineEnd:{style:He},marginBlock:{style:He},marginBlockStart:{style:He},marginBlockEnd:{style:He},displayPrint:{cssProperty:!1,transform:e=>({"@media print":{display:e}})},display:{},overflow:{},textOverflow:{},visibility:{},whiteSpace:{},flexBasis:{},flexDirection:{},flexWrap:{},justifyContent:{},alignItems:{},alignContent:{},order:{},flex:{},flexGrow:{},flexShrink:{},alignSelf:{},justifyItems:{},justifySelf:{},gap:{style:Pp},rowGap:{style:Ap},columnGap:{style:Rp},gridColumn:{},gridRow:{},gridAutoFlow:{},gridAutoColumns:{},gridAutoRows:{},gridTemplateColumns:{},gridTemplateRows:{},gridTemplateAreas:{},gridArea:{},position:{},zIndex:{themeKey:"zIndex"},top:{},right:{},bottom:{},left:{},boxShadow:{themeKey:"shadows"},width:{transform:mn},maxWidth:{style:H_},minWidth:{transform:mn},height:{transform:mn},maxHeight:{transform:mn},minHeight:{transform:mn},boxSizing:{},font:{themeKey:"font"},fontFamily:{themeKey:"typography"},fontSize:{themeKey:"typography"},fontStyle:{themeKey:"typography"},fontWeight:{themeKey:"typography"},letterSpacing:{},textTransform:{},lineHeight:{},textAlign:{},typography:{cssProperty:!1,themeKey:"typography"}},Ou=bG;function CG(...e){const t=e.reduce((r,i)=>r.concat(Object.keys(i)),[]),n=new Set(t);return e.every(r=>n.size===Object.keys(r).length)}function SG(e,t){return typeof e=="function"?e(t):e}function TG(){function e(n,r,i,s){const o={[n]:r,theme:i},a=s[n];if(!a)return{[n]:r};const{cssProperty:l=n,themeKey:c,transform:d,style:h}=a;if(r==null)return null;if(c==="typography"&&r==="inherit")return{[n]:r};const f=Tp(i,c)||{};return h?h(o):hi(o,r,v=>{let S=wf(f,d,v);return v===S&&typeof v=="string"&&(S=wf(f,d,`${n}${v==="default"?"":EN(v)}`,v)),l===!1?S:{[l]:S}})}function t(n){const{sx:r,theme:i={}}=n||{};if(!r)return null;const s=i.unstable_sxConfig??Ou;function o(a){let l=a;if(typeof a=="function")l=a(i);else if(typeof a!="object")return a;if(!l)return null;const c=$q(i.breakpoints),d=Object.keys(c);let h=c;return Object.keys(l).forEach(f=>{const g=SG(l[f],i);if(g!=null)if(typeof g=="object")if(s[f])h=uc(h,e(f,g,i,s));else{const v=hi({theme:i},g,S=>({[f]:S}));CG(v,g)?h[f]=t({sx:g,theme:i}):h=uc(h,v)}else h=uc(h,e(f,g,i,s))}),Oq(i,Vq(d,h))}return Array.isArray(r)?r.map(o):o(r)}return t}const kN=TG();kN.filterProps=["sx"];const Ra=kN,kG=e=>{var r;const t={systemProps:{},otherProps:{}},n=((r=e==null?void 0:e.theme)==null?void 0:r.unstable_sxConfig)??Ou;return Object.keys(e).forEach(i=>{n[i]?t.systemProps[i]=e[i]:t.otherProps[i]=e[i]}),t};function IG(e){const{sx:t,...n}=e,{systemProps:r,otherProps:i}=kG(n);let s;return Array.isArray(t)?s=[r,...t]:typeof t=="function"?s=(...o)=>{const a=t(...o);return br(a)?{...r,...a}:r}:s={...r,...t},{...i,sx:s}}function S0(){return S0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},S0.apply(null,arguments)}var PG=!1;function RG(e){if(e.sheet)return e.sheet;for(var t=0;t<document.styleSheets.length;t++)if(document.styleSheets[t].ownerNode===e)return document.styleSheets[t]}function AG(e){var t=document.createElement("style");return t.setAttribute("data-emotion",e.key),e.nonce!==void 0&&t.setAttribute("nonce",e.nonce),t.appendChild(document.createTextNode("")),t.setAttribute("data-s",""),t}var NG=function(){function e(n){var r=this;this._insertTag=function(i){var s;r.tags.length===0?r.insertionPoint?s=r.insertionPoint.nextSibling:r.prepend?s=r.container.firstChild:s=r.before:s=r.tags[r.tags.length-1].nextSibling,r.container.insertBefore(i,s),r.tags.push(i)},this.isSpeedy=n.speedy===void 0?!PG:n.speedy,this.tags=[],this.ctr=0,this.nonce=n.nonce,this.key=n.key,this.container=n.container,this.prepend=n.prepend,this.insertionPoint=n.insertionPoint,this.before=null}var t=e.prototype;return t.hydrate=function(r){r.forEach(this._insertTag)},t.insert=function(r){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(AG(this));var i=this.tags[this.tags.length-1];if(this.isSpeedy){var s=RG(i);try{s.insertRule(r,s.cssRules.length)}catch{}}else i.appendChild(document.createTextNode(r));this.ctr++},t.flush=function(){this.tags.forEach(function(r){var i;return(i=r.parentNode)==null?void 0:i.removeChild(r)}),this.tags=[],this.ctr=0},e}(),At="-ms-",_f="-moz-",ve="-webkit-",IN="comm",q_="rule",G_="decl",DG="@import",PN="@keyframes",OG="@layer",MG=Math.abs,Np=String.fromCharCode,LG=Object.assign;function jG(e,t){return _t(e,0)^45?(((t<<2^_t(e,0))<<2^_t(e,1))<<2^_t(e,2))<<2^_t(e,3):0}function RN(e){return e.trim()}function FG(e,t){return(e=t.exec(e))?e[0]:e}function we(e,t,n){return e.replace(t,n)}function T0(e,t){return e.indexOf(t)}function _t(e,t){return e.charCodeAt(t)|0}function nu(e,t,n){return e.slice(t,n)}function wr(e){return e.length}function K_(e){return e.length}function Td(e,t){return t.push(e),e}function $G(e,t){return e.map(t).join("")}var Dp=1,Aa=1,AN=0,un=0,nt=0,Ya="";function Op(e,t,n,r,i,s,o){return{value:e,root:t,parent:n,type:r,props:i,children:s,line:Dp,column:Aa,length:o,return:""}}function Sl(e,t){return LG(Op("",null,null,"",null,null,0),e,{length:-e.length},t)}function VG(){return nt}function UG(){return nt=un>0?_t(Ya,--un):0,Aa--,nt===10&&(Aa=1,Dp--),nt}function wn(){return nt=un<AN?_t(Ya,un++):0,Aa++,nt===10&&(Aa=1,Dp++),nt}function Rr(){return _t(Ya,un)}function ih(){return un}function Mu(e,t){return nu(Ya,e,t)}function ru(e){switch(e){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function NN(e){return Dp=Aa=1,AN=wr(Ya=e),un=0,[]}function DN(e){return Ya="",e}function sh(e){return RN(Mu(un-1,k0(e===91?e+2:e===40?e+1:e)))}function BG(e){for(;(nt=Rr())&&nt<33;)wn();return ru(e)>2||ru(nt)>3?"":" "}function zG(e,t){for(;--t&&wn()&&!(nt<48||nt>102||nt>57&&nt<65||nt>70&&nt<97););return Mu(e,ih()+(t<6&&Rr()==32&&wn()==32))}function k0(e){for(;wn();)switch(nt){case e:return un;case 34:case 39:e!==34&&e!==39&&k0(nt);break;case 40:e===41&&k0(e);break;case 92:wn();break}return un}function WG(e,t){for(;wn()&&e+nt!==47+10;)if(e+nt===42+42&&Rr()===47)break;return"/*"+Mu(t,un-1)+"*"+Np(e===47?e:wn())}function HG(e){for(;!ru(Rr());)wn();return Mu(e,un)}function qG(e){return DN(oh("",null,null,null,[""],e=NN(e),0,[0],e))}function oh(e,t,n,r,i,s,o,a,l){for(var c=0,d=0,h=o,f=0,g=0,v=0,S=1,k=1,_=1,b=0,E="",R=i,D=s,M=r,T=E;k;)switch(v=b,b=wn()){case 40:if(v!=108&&_t(T,h-1)==58){T0(T+=we(sh(b),"&","&\f"),"&\f")!=-1&&(_=-1);break}case 34:case 39:case 91:T+=sh(b);break;case 9:case 10:case 13:case 32:T+=BG(v);break;case 92:T+=zG(ih()-1,7);continue;case 47:switch(Rr()){case 42:case 47:Td(GG(WG(wn(),ih()),t,n),l);break;default:T+="/"}break;case 123*S:a[c++]=wr(T)*_;case 125*S:case 59:case 0:switch(b){case 0:case 125:k=0;case 59+d:_==-1&&(T=we(T,/\f/g,"")),g>0&&wr(T)-h&&Td(g>32?bS(T+";",r,n,h-1):bS(we(T," ","")+";",r,n,h-2),l);break;case 59:T+=";";default:if(Td(M=ES(T,t,n,c,d,i,a,E,R=[],D=[],h),s),b===123)if(d===0)oh(T,t,M,M,R,s,h,a,D);else switch(f===99&&_t(T,3)===110?100:f){case 100:case 108:case 109:case 115:oh(e,M,M,r&&Td(ES(e,M,M,0,0,i,a,E,i,R=[],h),D),i,D,h,a,r?R:D);break;default:oh(T,M,M,M,[""],D,0,a,D)}}c=d=g=0,S=_=1,E=T="",h=o;break;case 58:h=1+wr(T),g=v;default:if(S<1){if(b==123)--S;else if(b==125&&S++==0&&UG()==125)continue}switch(T+=Np(b),b*S){case 38:_=d>0?1:(T+="\f",-1);break;case 44:a[c++]=(wr(T)-1)*_,_=1;break;case 64:Rr()===45&&(T+=sh(wn())),f=Rr(),d=h=wr(E=T+=HG(ih())),b++;break;case 45:v===45&&wr(T)==2&&(S=0)}}return s}function ES(e,t,n,r,i,s,o,a,l,c,d){for(var h=i-1,f=i===0?s:[""],g=K_(f),v=0,S=0,k=0;v<r;++v)for(var _=0,b=nu(e,h+1,h=MG(S=o[v])),E=e;_<g;++_)(E=RN(S>0?f[_]+" "+b:we(b,/&\f/g,f[_])))&&(l[k++]=E);return Op(e,t,n,i===0?q_:a,l,c,d)}function GG(e,t,n){return Op(e,t,n,IN,Np(VG()),nu(e,2,-2),0)}function bS(e,t,n,r){return Op(e,t,n,G_,nu(e,0,r),nu(e,r+1,-1),r)}function ua(e,t){for(var n="",r=K_(e),i=0;i<r;i++)n+=t(e[i],i,e,t)||"";return n}function KG(e,t,n,r){switch(e.type){case OG:if(e.children.length)break;case DG:case G_:return e.return=e.return||e.value;case IN:return"";case PN:return e.return=e.value+"{"+ua(e.children,r)+"}";case q_:e.value=e.props.join(",")}return wr(n=ua(e.children,r))?e.return=e.value+"{"+n+"}":""}function YG(e){var t=K_(e);return function(n,r,i,s){for(var o="",a=0;a<t;a++)o+=e[a](n,r,i,s)||"";return o}}function XG(e){return function(t){t.root||(t=t.return)&&e(t)}}function ON(e){var t=Object.create(null);return function(n){return t[n]===void 0&&(t[n]=e(n)),t[n]}}var JG=function(t,n,r){for(var i=0,s=0;i=s,s=Rr(),i===38&&s===12&&(n[r]=1),!ru(s);)wn();return Mu(t,un)},QG=function(t,n){var r=-1,i=44;do switch(ru(i)){case 0:i===38&&Rr()===12&&(n[r]=1),t[r]+=JG(un-1,n,r);break;case 2:t[r]+=sh(i);break;case 4:if(i===44){t[++r]=Rr()===58?"&\f":"",n[r]=t[r].length;break}default:t[r]+=Np(i)}while(i=wn());return t},ZG=function(t,n){return DN(QG(NN(t),n))},CS=new WeakMap,eK=function(t){if(!(t.type!=="rule"||!t.parent||t.length<1)){for(var n=t.value,r=t.parent,i=t.column===r.column&&t.line===r.line;r.type!=="rule";)if(r=r.parent,!r)return;if(!(t.props.length===1&&n.charCodeAt(0)!==58&&!CS.get(r))&&!i){CS.set(t,!0);for(var s=[],o=ZG(n,s),a=r.props,l=0,c=0;l<o.length;l++)for(var d=0;d<a.length;d++,c++)t.props[c]=s[l]?o[l].replace(/&\f/g,a[d]):a[d]+" "+o[l]}}},tK=function(t){if(t.type==="decl"){var n=t.value;n.charCodeAt(0)===108&&n.charCodeAt(2)===98&&(t.return="",t.value="")}};function MN(e,t){switch(jG(e,t)){case 5103:return ve+"print-"+e+e;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return ve+e+e;case 5349:case 4246:case 4810:case 6968:case 2756:return ve+e+_f+e+At+e+e;case 6828:case 4268:return ve+e+At+e+e;case 6165:return ve+e+At+"flex-"+e+e;case 5187:return ve+e+we(e,/(\w+).+(:[^]+)/,ve+"box-$1$2"+At+"flex-$1$2")+e;case 5443:return ve+e+At+"flex-item-"+we(e,/flex-|-self/,"")+e;case 4675:return ve+e+At+"flex-line-pack"+we(e,/align-content|flex-|-self/,"")+e;case 5548:return ve+e+At+we(e,"shrink","negative")+e;case 5292:return ve+e+At+we(e,"basis","preferred-size")+e;case 6060:return ve+"box-"+we(e,"-grow","")+ve+e+At+we(e,"grow","positive")+e;case 4554:return ve+we(e,/([^-])(transform)/g,"$1"+ve+"$2")+e;case 6187:return we(we(we(e,/(zoom-|grab)/,ve+"$1"),/(image-set)/,ve+"$1"),e,"")+e;case 5495:case 3959:return we(e,/(image-set\([^]*)/,ve+"$1$`$1");case 4968:return we(we(e,/(.+:)(flex-)?(.*)/,ve+"box-pack:$3"+At+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+ve+e+e;case 4095:case 3583:case 4068:case 2532:return we(e,/(.+)-inline(.+)/,ve+"$1$2")+e;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(wr(e)-1-t>6)switch(_t(e,t+1)){case 109:if(_t(e,t+4)!==45)break;case 102:return we(e,/(.+:)(.+)-([^]+)/,"$1"+ve+"$2-$3$1"+_f+(_t(e,t+3)==108?"$3":"$2-$3"))+e;case 115:return~T0(e,"stretch")?MN(we(e,"stretch","fill-available"),t)+e:e}break;case 4949:if(_t(e,t+1)!==115)break;case 6444:switch(_t(e,wr(e)-3-(~T0(e,"!important")&&10))){case 107:return we(e,":",":"+ve)+e;case 101:return we(e,/(.+:)([^;!]+)(;|!.+)?/,"$1"+ve+(_t(e,14)===45?"inline-":"")+"box$3$1"+ve+"$2$3$1"+At+"$2box$3")+e}break;case 5936:switch(_t(e,t+11)){case 114:return ve+e+At+we(e,/[svh]\w+-[tblr]{2}/,"tb")+e;case 108:return ve+e+At+we(e,/[svh]\w+-[tblr]{2}/,"tb-rl")+e;case 45:return ve+e+At+we(e,/[svh]\w+-[tblr]{2}/,"lr")+e}return ve+e+At+e+e}return e}var nK=function(t,n,r,i){if(t.length>-1&&!t.return)switch(t.type){case G_:t.return=MN(t.value,t.length);break;case PN:return ua([Sl(t,{value:we(t.value,"@","@"+ve)})],i);case q_:if(t.length)return $G(t.props,function(s){switch(FG(s,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return ua([Sl(t,{props:[we(s,/:(read-\w+)/,":"+_f+"$1")]})],i);case"::placeholder":return ua([Sl(t,{props:[we(s,/:(plac\w+)/,":"+ve+"input-$1")]}),Sl(t,{props:[we(s,/:(plac\w+)/,":"+_f+"$1")]}),Sl(t,{props:[we(s,/:(plac\w+)/,At+"input-$1")]})],i)}return""})}},rK=[nK],iK=function(t){var n=t.key;if(n==="css"){var r=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(r,function(S){var k=S.getAttribute("data-emotion");k.indexOf(" ")!==-1&&(document.head.appendChild(S),S.setAttribute("data-s",""))})}var i=t.stylisPlugins||rK,s={},o,a=[];o=t.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+n+' "]'),function(S){for(var k=S.getAttribute("data-emotion").split(" "),_=1;_<k.length;_++)s[k[_]]=!0;a.push(S)});var l,c=[eK,tK];{var d,h=[KG,XG(function(S){d.insert(S)})],f=YG(c.concat(i,h)),g=function(k){return ua(qG(k),f)};l=function(k,_,b,E){d=b,g(k?k+"{"+_.styles+"}":_.styles),E&&(v.inserted[_.name]=!0)}}var v={key:n,sheet:new NG({key:n,container:o,nonce:t.nonce,speedy:t.speedy,prepend:t.prepend,insertionPoint:t.insertionPoint}),nonce:t.nonce,inserted:s,registered:{},insert:l};return v.sheet.hydrate(a),v},sK=!0;function oK(e,t,n){var r="";return n.split(" ").forEach(function(i){e[i]!==void 0?t.push(e[i]+";"):i&&(r+=i+" ")}),r}var LN=function(t,n,r){var i=t.key+"-"+n.name;(r===!1||sK===!1)&&t.registered[i]===void 0&&(t.registered[i]=n.styles)},aK=function(t,n,r){LN(t,n,r);var i=t.key+"-"+n.name;if(t.inserted[n.name]===void 0){var s=n;do t.insert(n===s?"."+i:"",s,t.sheet,!0),s=s.next;while(s!==void 0)}};function lK(e){for(var t=0,n,r=0,i=e.length;i>=4;++r,i-=4)n=e.charCodeAt(r)&255|(e.charCodeAt(++r)&255)<<8|(e.charCodeAt(++r)&255)<<16|(e.charCodeAt(++r)&255)<<24,n=(n&65535)*1540483477+((n>>>16)*59797<<16),n^=n>>>24,t=(n&65535)*1540483477+((n>>>16)*59797<<16)^(t&65535)*1540483477+((t>>>16)*59797<<16);switch(i){case 3:t^=(e.charCodeAt(r+2)&255)<<16;case 2:t^=(e.charCodeAt(r+1)&255)<<8;case 1:t^=e.charCodeAt(r)&255,t=(t&65535)*1540483477+((t>>>16)*59797<<16)}return t^=t>>>13,t=(t&65535)*1540483477+((t>>>16)*59797<<16),((t^t>>>15)>>>0).toString(36)}var cK={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,scale:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},uK=!1,dK=/[A-Z]|^ms/g,hK=/_EMO_([^_]+?)_([^]*?)_EMO_/g,jN=function(t){return t.charCodeAt(1)===45},SS=function(t){return t!=null&&typeof t!="boolean"},bg=ON(function(e){return jN(e)?e:e.replace(dK,"-$&").toLowerCase()}),TS=function(t,n){switch(t){case"animation":case"animationName":if(typeof n=="string")return n.replace(hK,function(r,i,s){return _r={name:i,styles:s,next:_r},i})}return cK[t]!==1&&!jN(t)&&typeof n=="number"&&n!==0?n+"px":n},fK="Component selectors can only be used in conjunction with @emotion/babel-plugin, the swc Emotion plugin, or another Emotion-aware compiler transform.";function iu(e,t,n){if(n==null)return"";var r=n;if(r.__emotion_styles!==void 0)return r;switch(typeof n){case"boolean":return"";case"object":{var i=n;if(i.anim===1)return _r={name:i.name,styles:i.styles,next:_r},i.name;var s=n;if(s.styles!==void 0){var o=s.next;if(o!==void 0)for(;o!==void 0;)_r={name:o.name,styles:o.styles,next:_r},o=o.next;var a=s.styles+";";return a}return pK(e,t,n)}case"function":{if(e!==void 0){var l=_r,c=n(e);return _r=l,iu(e,t,c)}break}}var d=n;if(t==null)return d;var h=t[d];return h!==void 0?h:d}function pK(e,t,n){var r="";if(Array.isArray(n))for(var i=0;i<n.length;i++)r+=iu(e,t,n[i])+";";else for(var s in n){var o=n[s];if(typeof o!="object"){var a=o;t!=null&&t[a]!==void 0?r+=s+"{"+t[a]+"}":SS(a)&&(r+=bg(s)+":"+TS(s,a)+";")}else{if(s==="NO_COMPONENT_SELECTOR"&&uK)throw new Error(fK);if(Array.isArray(o)&&typeof o[0]=="string"&&(t==null||t[o[0]]===void 0))for(var l=0;l<o.length;l++)SS(o[l])&&(r+=bg(s)+":"+TS(s,o[l])+";");else{var c=iu(e,t,o);switch(s){case"animation":case"animationName":{r+=bg(s)+":"+c+";";break}default:r+=s+"{"+c+"}"}}}}return r}var kS=/label:\s*([^\s;{]+)\s*(;|$)/g,_r;function FN(e,t,n){if(e.length===1&&typeof e[0]=="object"&&e[0]!==null&&e[0].styles!==void 0)return e[0];var r=!0,i="";_r=void 0;var s=e[0];if(s==null||s.raw===void 0)r=!1,i+=iu(n,t,s);else{var o=s;i+=o[0]}for(var a=1;a<e.length;a++)if(i+=iu(n,t,e[a]),r){var l=s;i+=l[a]}kS.lastIndex=0;for(var c="",d;(d=kS.exec(i))!==null;)c+="-"+d[1];var h=lK(i)+c;return{name:h,styles:i,next:_r}}var mK=function(t){return t()},gK=hh["useInsertionEffect"]?hh["useInsertionEffect"]:!1,yK=gK||mK,$N=w.createContext(typeof HTMLElement<"u"?iK({key:"css"}):null);$N.Provider;var vK=function(t){return w.forwardRef(function(n,r){var i=w.useContext($N);return t(n,i,r)})},VN=w.createContext({}),wK=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|disableRemotePlayback|download|draggable|encType|enterKeyHint|fetchpriority|fetchPriority|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,_K=ON(function(e){return wK.test(e)||e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&e.charCodeAt(2)<91}),xK=!1,EK=_K,bK=function(t){return t!=="theme"},IS=function(t){return typeof t=="string"&&t.charCodeAt(0)>96?EK:bK},PS=function(t,n,r){var i;if(n){var s=n.shouldForwardProp;i=t.__emotion_forwardProp&&s?function(o){return t.__emotion_forwardProp(o)&&s(o)}:s}return typeof i!="function"&&r&&(i=t.__emotion_forwardProp),i},CK=function(t){var n=t.cache,r=t.serialized,i=t.isStringTag;return LN(n,r,i),yK(function(){return aK(n,r,i)}),null},SK=function e(t,n){var r=t.__emotion_real===t,i=r&&t.__emotion_base||t,s,o;n!==void 0&&(s=n.label,o=n.target);var a=PS(t,n,r),l=a||IS(i),c=!l("as");return function(){var d=arguments,h=r&&t.__emotion_styles!==void 0?t.__emotion_styles.slice(0):[];if(s!==void 0&&h.push("label:"+s+";"),d[0]==null||d[0].raw===void 0)h.push.apply(h,d);else{var f=d[0];h.push(f[0]);for(var g=d.length,v=1;v<g;v++)h.push(d[v],f[v])}var S=vK(function(k,_,b){var E=c&&k.as||i,R="",D=[],M=k;if(k.theme==null){M={};for(var T in k)M[T]=k[T];M.theme=w.useContext(VN)}typeof k.className=="string"?R=oK(_.registered,D,k.className):k.className!=null&&(R=k.className+" ");var C=FN(h.concat(D),_.registered,M);R+=_.key+"-"+C.name,o!==void 0&&(R+=" "+o);var I=c&&a===void 0?IS(E):l,y={};for(var N in k)c&&N==="as"||I(N)&&(y[N]=k[N]);return y.className=R,b&&(y.ref=b),w.createElement(w.Fragment,null,w.createElement(CK,{cache:_,serialized:C,isStringTag:typeof E=="string"}),w.createElement(E,y))});return S.displayName=s!==void 0?s:"Styled("+(typeof i=="string"?i:i.displayName||i.name||"Component")+")",S.defaultProps=t.defaultProps,S.__emotion_real=S,S.__emotion_base=i,S.__emotion_styles=h,S.__emotion_forwardProp=a,Object.defineProperty(S,"toString",{value:function(){return o===void 0&&xK?"NO_COMPONENT_SELECTOR":"."+o}}),S.withComponent=function(k,_){var b=e(k,S0({},n,_,{shouldForwardProp:PS(S,_,!0)}));return b.apply(void 0,h)},S}},TK=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"],I0=SK.bind(null);TK.forEach(function(e){I0[e]=I0(e)});/**
 * @mui/styled-engine v7.1.0
 *
 * @license MIT
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */function UN(e,t){return I0(e,t)}function kK(e,t){Array.isArray(e.__emotion_styles)&&(e.__emotion_styles=t(e.__emotion_styles))}const RS=[];function AS(e){return RS[0]=e,FN(RS)}const IK=e=>{const t=Object.keys(e).map(n=>({key:n,val:e[n]}))||[];return t.sort((n,r)=>n.val-r.val),t.reduce((n,r)=>({...n,[r.key]:r.val}),{})};function PK(e){const{values:t={xs:0,sm:600,md:900,lg:1200,xl:1536},unit:n="px",step:r=5,...i}=e,s=IK(t),o=Object.keys(s);function a(f){return`@media (min-width:${typeof t[f]=="number"?t[f]:f}${n})`}function l(f){return`@media (max-width:${(typeof t[f]=="number"?t[f]:f)-r/100}${n})`}function c(f,g){const v=o.indexOf(g);return`@media (min-width:${typeof t[f]=="number"?t[f]:f}${n}) and (max-width:${(v!==-1&&typeof t[o[v]]=="number"?t[o[v]]:g)-r/100}${n})`}function d(f){return o.indexOf(f)+1<o.length?c(f,o[o.indexOf(f)+1]):a(f)}function h(f){const g=o.indexOf(f);return g===0?a(o[1]):g===o.length-1?l(o[g]):c(f,o[o.indexOf(f)+1]).replace("@media","@media not all and")}return{keys:o,values:s,up:a,down:l,between:c,only:d,not:h,unit:n,...i}}const RK={borderRadius:4},AK=RK;function BN(e=8,t=W_({spacing:e})){if(e.mui)return e;const n=(...r)=>(r.length===0?[1]:r).map(s=>{const o=t(s);return typeof o=="number"?`${o}px`:o}).join(" ");return n.mui=!0,n}function NK(e,t){var r;const n=this;if(n.vars){if(!((r=n.colorSchemes)!=null&&r[e])||typeof n.getColorSchemeSelector!="function")return{};let i=n.getColorSchemeSelector(e);return i==="&"?t:((i.includes("data-")||i.includes("."))&&(i=`*:where(${i.replace(/\s*&$/,"")}) &`),{[i]:t})}return n.palette.mode===e?t:{}}function Y_(e={},...t){const{breakpoints:n={},palette:r={},spacing:i,shape:s={},...o}=e,a=PK(n),l=BN(i);let c=vn({breakpoints:a,direction:"ltr",components:{},palette:{mode:"light",...r},spacing:l,shape:{...AK,...s}},o);return c=jq(c),c.applyStyles=NK,c=t.reduce((d,h)=>vn(d,h),c),c.unstable_sxConfig={...Ou,...o==null?void 0:o.unstable_sxConfig},c.unstable_sx=function(h){return Ra({sx:h,theme:this})},c}function DK(e){return Object.keys(e).length===0}function OK(e=null){const t=w.useContext(VN);return!t||DK(t)?e:t}const MK=Y_();function zN(e=MK){return OK(e)}const NS=e=>e,LK=()=>{let e=NS;return{configure(t){e=t},generate(t){return e(t)},reset(){e=NS}}},jK=LK(),WN=jK;function FK(e={}){const{themeId:t,defaultTheme:n,defaultClassName:r="MuiBox-root",generateClassName:i}=e,s=UN("div",{shouldForwardProp:a=>a!=="theme"&&a!=="sx"&&a!=="as"})(Ra);return w.forwardRef(function(l,c){const d=zN(n),{className:h,component:f="div",...g}=IG(l);return m.jsx(s,{as:f,ref:c,className:Pa(h,i?i(r):r),theme:t&&d[t]||d,...g})})}const $K={active:"active",checked:"checked",completed:"completed",disabled:"disabled",error:"error",expanded:"expanded",focused:"focused",focusVisible:"focusVisible",open:"open",readOnly:"readOnly",required:"required",selected:"selected"};function X_(e,t,n="Mui"){const r=$K[t];return r?`${n}-${r}`:`${WN.generate(e)}-${t}`}function J_(e,t,n="Mui"){const r={};return t.forEach(i=>{r[i]=X_(e,i,n)}),r}function HN(e){const{variants:t,...n}=e,r={variants:t,style:AS(n),isProcessed:!0};return r.style===n||t&&t.forEach(i=>{typeof i.style!="function"&&(i.style=AS(i.style))}),r}const VK=Y_();function Cg(e){return e!=="ownerState"&&e!=="theme"&&e!=="sx"&&e!=="as"}function UK(e){return e?(t,n)=>n[e]:null}function BK(e,t,n){e.theme=HK(e.theme)?n:e.theme[t]||e.theme}function ah(e,t){const n=typeof t=="function"?t(e):t;if(Array.isArray(n))return n.flatMap(r=>ah(e,r));if(Array.isArray(n==null?void 0:n.variants)){let r;if(n.isProcessed)r=n.style;else{const{variants:i,...s}=n;r=s}return qN(e,n.variants,[r])}return n!=null&&n.isProcessed?n.style:n}function qN(e,t,n=[]){var i;let r;e:for(let s=0;s<t.length;s+=1){const o=t[s];if(typeof o.props=="function"){if(r??(r={...e,...e.ownerState,ownerState:e.ownerState}),!o.props(r))continue}else for(const a in o.props)if(e[a]!==o.props[a]&&((i=e.ownerState)==null?void 0:i[a])!==o.props[a])continue e;typeof o.style=="function"?(r??(r={...e,...e.ownerState,ownerState:e.ownerState}),n.push(o.style(r))):n.push(o.style)}return n}function zK(e={}){const{themeId:t,defaultTheme:n=VK,rootShouldForwardProp:r=Cg,slotShouldForwardProp:i=Cg}=e;function s(a){BK(a,t,n)}return(a,l={})=>{kK(a,D=>D.filter(M=>M!==Ra));const{name:c,slot:d,skipVariantsResolver:h,skipSx:f,overridesResolver:g=UK(GK(d)),...v}=l,S=h!==void 0?h:d&&d!=="Root"&&d!=="root"||!1,k=f||!1;let _=Cg;d==="Root"||d==="root"?_=r:d?_=i:qK(a)&&(_=void 0);const b=UN(a,{shouldForwardProp:_,label:WK(),...v}),E=D=>{if(typeof D=="function"&&D.__emotion_real!==D)return function(T){return ah(T,D)};if(br(D)){const M=HN(D);return M.variants?function(C){return ah(C,M)}:M.style}return D},R=(...D)=>{const M=[],T=D.map(E),C=[];if(M.push(s),c&&g&&C.push(function(O){var q,G;const V=(G=(q=O.theme.components)==null?void 0:q[c])==null?void 0:G.styleOverrides;if(!V)return null;const U={};for(const F in V)U[F]=ah(O,V[F]);return g(O,U)}),c&&!S&&C.push(function(O){var U,q;const A=O.theme,V=(q=(U=A==null?void 0:A.components)==null?void 0:U[c])==null?void 0:q.variants;return V?qN(O,V):null}),k||C.push(Ra),Array.isArray(T[0])){const N=T.shift(),O=new Array(M.length).fill(""),A=new Array(C.length).fill("");let V;V=[...O,...N,...A],V.raw=[...O,...N.raw,...A],M.unshift(V)}const I=[...M,...T,...C],y=b(...I);return a.muiName&&(y.muiName=a.muiName),y};return b.withConfig&&(R.withConfig=b.withConfig),R}}function WK(e,t){let n;return n}function HK(e){for(const t in e)return!1;return!0}function qK(e){return typeof e=="string"&&e.charCodeAt(0)>96}function GK(e){return e&&e.charAt(0).toLowerCase()+e.slice(1)}function P0(e,t){const n={...t};for(const r in e)if(Object.prototype.hasOwnProperty.call(e,r)){const i=r;if(i==="components"||i==="slots")n[i]={...e[i],...n[i]};else if(i==="componentsProps"||i==="slotProps"){const s=e[i],o=t[i];if(!o)n[i]=s||{};else if(!s)n[i]=o;else{n[i]={...o};for(const a in s)if(Object.prototype.hasOwnProperty.call(s,a)){const l=a;n[i][l]=P0(s[l],o[l])}}}else n[i]===void 0&&(n[i]=e[i])}return n}function KK(e,t=Number.MIN_SAFE_INTEGER,n=Number.MAX_SAFE_INTEGER){return Math.max(t,Math.min(e,n))}function Q_(e,t=0,n=1){return KK(e,t,n)}function YK(e){e=e.slice(1);const t=new RegExp(`.{1,${e.length>=6?2:1}}`,"g");let n=e.match(t);return n&&n[0].length===1&&(n=n.map(r=>r+r)),n?`rgb${n.length===4?"a":""}(${n.map((r,i)=>i<3?parseInt(r,16):Math.round(parseInt(r,16)/255*1e3)/1e3).join(", ")})`:""}function as(e){if(e.type)return e;if(e.charAt(0)==="#")return as(YK(e));const t=e.indexOf("("),n=e.substring(0,t);if(!["rgb","rgba","hsl","hsla","color"].includes(n))throw new Error(oo(9,e));let r=e.substring(t+1,e.length-1),i;if(n==="color"){if(r=r.split(" "),i=r.shift(),r.length===4&&r[3].charAt(0)==="/"&&(r[3]=r[3].slice(1)),!["srgb","display-p3","a98-rgb","prophoto-rgb","rec-2020"].includes(i))throw new Error(oo(10,i))}else r=r.split(",");return r=r.map(s=>parseFloat(s)),{type:n,values:r,colorSpace:i}}const XK=e=>{const t=as(e);return t.values.slice(0,3).map((n,r)=>t.type.includes("hsl")&&r!==0?`${n}%`:n).join(" ")},Ml=(e,t)=>{try{return XK(e)}catch{return e}};function Mp(e){const{type:t,colorSpace:n}=e;let{values:r}=e;return t.includes("rgb")?r=r.map((i,s)=>s<3?parseInt(i,10):i):t.includes("hsl")&&(r[1]=`${r[1]}%`,r[2]=`${r[2]}%`),t.includes("color")?r=`${n} ${r.join(" ")}`:r=`${r.join(", ")}`,`${t}(${r})`}function GN(e){e=as(e);const{values:t}=e,n=t[0],r=t[1]/100,i=t[2]/100,s=r*Math.min(i,1-i),o=(c,d=(c+n/30)%12)=>i-s*Math.max(Math.min(d-3,9-d,1),-1);let a="rgb";const l=[Math.round(o(0)*255),Math.round(o(8)*255),Math.round(o(4)*255)];return e.type==="hsla"&&(a+="a",l.push(t[3])),Mp({type:a,values:l})}function R0(e){e=as(e);let t=e.type==="hsl"||e.type==="hsla"?as(GN(e)).values:e.values;return t=t.map(n=>(e.type!=="color"&&(n/=255),n<=.03928?n/12.92:((n+.055)/1.055)**2.4)),Number((.2126*t[0]+.7152*t[1]+.0722*t[2]).toFixed(3))}function JK(e,t){const n=R0(e),r=R0(t);return(Math.max(n,r)+.05)/(Math.min(n,r)+.05)}function QK(e,t){return e=as(e),t=Q_(t),(e.type==="rgb"||e.type==="hsl")&&(e.type+="a"),e.type==="color"?e.values[3]=`/${t}`:e.values[3]=t,Mp(e)}function kd(e,t,n){try{return QK(e,t)}catch{return e}}function Z_(e,t){if(e=as(e),t=Q_(t),e.type.includes("hsl"))e.values[2]*=1-t;else if(e.type.includes("rgb")||e.type.includes("color"))for(let n=0;n<3;n+=1)e.values[n]*=1-t;return Mp(e)}function Ce(e,t,n){try{return Z_(e,t)}catch{return e}}function e1(e,t){if(e=as(e),t=Q_(t),e.type.includes("hsl"))e.values[2]+=(100-e.values[2])*t;else if(e.type.includes("rgb"))for(let n=0;n<3;n+=1)e.values[n]+=(255-e.values[n])*t;else if(e.type.includes("color"))for(let n=0;n<3;n+=1)e.values[n]+=(1-e.values[n])*t;return Mp(e)}function Se(e,t,n){try{return e1(e,t)}catch{return e}}function ZK(e,t=.15){return R0(e)>.5?Z_(e,t):e1(e,t)}function Id(e,t,n){try{return ZK(e,t)}catch{return e}}const eY=w.createContext(void 0);function tY(e){const{theme:t,name:n,props:r}=e;if(!t||!t.components||!t.components[n])return r;const i=t.components[n];return i.defaultProps?P0(i.defaultProps,r):!i.styleOverrides&&!i.variants?P0(i,r):r}function nY({props:e,name:t}){const n=w.useContext(eY);return tY({props:e,name:t,theme:{components:n}})}const DS={theme:void 0};function rY(e){let t,n;return function(i){let s=t;return(s===void 0||i.theme!==n)&&(DS.theme=i.theme,s=HN(e(DS)),t=s,n=i.theme),s}}function iY(e=""){function t(...r){if(!r.length)return"";const i=r[0];return typeof i=="string"&&!i.match(/(#|\(|\)|(-?(\d*\.)?\d+)(px|em|%|ex|ch|rem|vw|vh|vmin|vmax|cm|mm|in|pt|pc))|^(-?(\d*\.)?\d+)$|(\d+ \d+ \d+)/)?`, var(--${e?`${e}-`:""}${i}${t(...r.slice(1))})`:`, ${i}`}return(r,...i)=>`var(--${e?`${e}-`:""}${r}${t(...i)})`}const OS=(e,t,n,r=[])=>{let i=e;t.forEach((s,o)=>{o===t.length-1?Array.isArray(i)?i[Number(s)]=n:i&&typeof i=="object"&&(i[s]=n):i&&typeof i=="object"&&(i[s]||(i[s]=r.includes(s)?[]:{}),i=i[s])})},sY=(e,t,n)=>{function r(i,s=[],o=[]){Object.entries(i).forEach(([a,l])=>{(!n||n&&!n([...s,a]))&&l!=null&&(typeof l=="object"&&Object.keys(l).length>0?r(l,[...s,a],Array.isArray(l)?[...o,a]:o):t([...s,a],l,o))})}r(e)},oY=(e,t)=>typeof t=="number"?["lineHeight","fontWeight","opacity","zIndex"].some(r=>e.includes(r))||e[e.length-1].toLowerCase().includes("opacity")?t:`${t}px`:t;function Sg(e,t){const{prefix:n,shouldSkipGeneratingVar:r}=t||{},i={},s={},o={};return sY(e,(a,l,c)=>{if((typeof l=="string"||typeof l=="number")&&(!r||!r(a,l))){const d=`--${n?`${n}-`:""}${a.join("-")}`,h=oY(a,l);Object.assign(i,{[d]:h}),OS(s,a,`var(${d})`,c),OS(o,a,`var(${d}, ${h})`,c)}},a=>a[0]==="vars"),{css:i,vars:s,varsWithDefaults:o}}function aY(e,t={}){const{getSelector:n=k,disableCssColorScheme:r,colorSchemeSelector:i}=t,{colorSchemes:s={},components:o,defaultColorScheme:a="light",...l}=e,{vars:c,css:d,varsWithDefaults:h}=Sg(l,t);let f=h;const g={},{[a]:v,...S}=s;if(Object.entries(S||{}).forEach(([E,R])=>{const{vars:D,css:M,varsWithDefaults:T}=Sg(R,t);f=vn(f,T),g[E]={css:M,vars:D}}),v){const{css:E,vars:R,varsWithDefaults:D}=Sg(v,t);f=vn(f,D),g[a]={css:E,vars:R}}function k(E,R){var M,T;let D=i;if(i==="class"&&(D=".%s"),i==="data"&&(D="[data-%s]"),i!=null&&i.startsWith("data-")&&!i.includes("%s")&&(D=`[${i}="%s"]`),E){if(D==="media")return e.defaultColorScheme===E?":root":{[`@media (prefers-color-scheme: ${((T=(M=s[E])==null?void 0:M.palette)==null?void 0:T.mode)||E})`]:{":root":R}};if(D)return e.defaultColorScheme===E?`:root, ${D.replace("%s",String(E))}`:D.replace("%s",String(E))}return":root"}return{vars:f,generateThemeVars:()=>{let E={...c};return Object.entries(g).forEach(([,{vars:R}])=>{E=vn(E,R)}),E},generateStyleSheets:()=>{var C,I;const E=[],R=e.defaultColorScheme||"light";function D(y,N){Object.keys(N).length&&E.push(typeof y=="string"?{[y]:{...N}}:y)}D(n(void 0,{...d}),d);const{[R]:M,...T}=g;if(M){const{css:y}=M,N=(I=(C=s[R])==null?void 0:C.palette)==null?void 0:I.mode,O=!r&&N?{colorScheme:N,...y}:{...y};D(n(R,{...O}),O)}return Object.entries(T).forEach(([y,{css:N}])=>{var V,U;const O=(U=(V=s[y])==null?void 0:V.palette)==null?void 0:U.mode,A=!r&&O?{colorScheme:O,...N}:{...N};D(n(y,{...A}),A)}),E}}}function lY(e){return function(n){return e==="media"?`@media (prefers-color-scheme: ${n})`:e?e.startsWith("data-")&&!e.includes("%s")?`[${e}="${n}"] &`:e==="class"?`.${n} &`:e==="data"?`[data-${n}] &`:`${e.replace("%s",n)} &`:"&"}}const cY={black:"#000",white:"#fff"},su=cY,uY={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#f5f5f5",A200:"#eeeeee",A400:"#bdbdbd",A700:"#616161"},dY=uY,hY={50:"#f3e5f5",100:"#e1bee7",200:"#ce93d8",300:"#ba68c8",400:"#ab47bc",500:"#9c27b0",600:"#8e24aa",700:"#7b1fa2",800:"#6a1b9a",900:"#4a148c",A100:"#ea80fc",A200:"#e040fb",A400:"#d500f9",A700:"#aa00ff"},To=hY,fY={50:"#ffebee",100:"#ffcdd2",200:"#ef9a9a",300:"#e57373",400:"#ef5350",500:"#f44336",600:"#e53935",700:"#d32f2f",800:"#c62828",900:"#b71c1c",A100:"#ff8a80",A200:"#ff5252",A400:"#ff1744",A700:"#d50000"},ko=fY,pY={50:"#fff3e0",100:"#ffe0b2",200:"#ffcc80",300:"#ffb74d",400:"#ffa726",500:"#ff9800",600:"#fb8c00",700:"#f57c00",800:"#ef6c00",900:"#e65100",A100:"#ffd180",A200:"#ffab40",A400:"#ff9100",A700:"#ff6d00"},Tl=pY,mY={50:"#e3f2fd",100:"#bbdefb",200:"#90caf9",300:"#64b5f6",400:"#42a5f5",500:"#2196f3",600:"#1e88e5",700:"#1976d2",800:"#1565c0",900:"#0d47a1",A100:"#82b1ff",A200:"#448aff",A400:"#2979ff",A700:"#2962ff"},Io=mY,gY={50:"#e1f5fe",100:"#b3e5fc",200:"#81d4fa",300:"#4fc3f7",400:"#29b6f6",500:"#03a9f4",600:"#039be5",700:"#0288d1",800:"#0277bd",900:"#01579b",A100:"#80d8ff",A200:"#40c4ff",A400:"#00b0ff",A700:"#0091ea"},Po=gY,yY={50:"#e8f5e9",100:"#c8e6c9",200:"#a5d6a7",300:"#81c784",400:"#66bb6a",500:"#4caf50",600:"#43a047",700:"#388e3c",800:"#2e7d32",900:"#1b5e20",A100:"#b9f6ca",A200:"#69f0ae",A400:"#00e676",A700:"#00c853"},Ro=yY;function KN(){return{text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.6)",disabled:"rgba(0, 0, 0, 0.38)"},divider:"rgba(0, 0, 0, 0.12)",background:{paper:su.white,default:su.white},action:{active:"rgba(0, 0, 0, 0.54)",hover:"rgba(0, 0, 0, 0.04)",hoverOpacity:.04,selected:"rgba(0, 0, 0, 0.08)",selectedOpacity:.08,disabled:"rgba(0, 0, 0, 0.26)",disabledBackground:"rgba(0, 0, 0, 0.12)",disabledOpacity:.38,focus:"rgba(0, 0, 0, 0.12)",focusOpacity:.12,activatedOpacity:.12}}}const vY=KN();function YN(){return{text:{primary:su.white,secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",icon:"rgba(255, 255, 255, 0.5)"},divider:"rgba(255, 255, 255, 0.12)",background:{paper:"#121212",default:"#121212"},action:{active:su.white,hover:"rgba(255, 255, 255, 0.08)",hoverOpacity:.08,selected:"rgba(255, 255, 255, 0.16)",selectedOpacity:.16,disabled:"rgba(255, 255, 255, 0.3)",disabledBackground:"rgba(255, 255, 255, 0.12)",disabledOpacity:.38,focus:"rgba(255, 255, 255, 0.12)",focusOpacity:.12,activatedOpacity:.24}}}const MS=YN();function LS(e,t,n,r){const i=r.light||r,s=r.dark||r*1.5;e[t]||(e.hasOwnProperty(n)?e[t]=e[n]:t==="light"?e.light=e1(e.main,i):t==="dark"&&(e.dark=Z_(e.main,s)))}function wY(e="light"){return e==="dark"?{main:Io[200],light:Io[50],dark:Io[400]}:{main:Io[700],light:Io[400],dark:Io[800]}}function _Y(e="light"){return e==="dark"?{main:To[200],light:To[50],dark:To[400]}:{main:To[500],light:To[300],dark:To[700]}}function xY(e="light"){return e==="dark"?{main:ko[500],light:ko[300],dark:ko[700]}:{main:ko[700],light:ko[400],dark:ko[800]}}function EY(e="light"){return e==="dark"?{main:Po[400],light:Po[300],dark:Po[700]}:{main:Po[700],light:Po[500],dark:Po[900]}}function bY(e="light"){return e==="dark"?{main:Ro[400],light:Ro[300],dark:Ro[700]}:{main:Ro[800],light:Ro[500],dark:Ro[900]}}function CY(e="light"){return e==="dark"?{main:Tl[400],light:Tl[300],dark:Tl[700]}:{main:"#ed6c02",light:Tl[500],dark:Tl[900]}}function t1(e){const{mode:t="light",contrastThreshold:n=3,tonalOffset:r=.2,...i}=e,s=e.primary||wY(t),o=e.secondary||_Y(t),a=e.error||xY(t),l=e.info||EY(t),c=e.success||bY(t),d=e.warning||CY(t);function h(S){return JK(S,MS.text.primary)>=n?MS.text.primary:vY.text.primary}const f=({color:S,name:k,mainShade:_=500,lightShade:b=300,darkShade:E=700})=>{if(S={...S},!S.main&&S[_]&&(S.main=S[_]),!S.hasOwnProperty("main"))throw new Error(oo(11,k?` (${k})`:"",_));if(typeof S.main!="string")throw new Error(oo(12,k?` (${k})`:"",JSON.stringify(S.main)));return LS(S,"light",b,r),LS(S,"dark",E,r),S.contrastText||(S.contrastText=h(S.main)),S};let g;return t==="light"?g=KN():t==="dark"&&(g=YN()),vn({common:{...su},mode:t,primary:f({color:s,name:"primary"}),secondary:f({color:o,name:"secondary",mainShade:"A400",lightShade:"A200",darkShade:"A700"}),error:f({color:a,name:"error"}),warning:f({color:d,name:"warning"}),info:f({color:l,name:"info"}),success:f({color:c,name:"success"}),grey:dY,contrastThreshold:n,getContrastText:h,augmentColor:f,tonalOffset:r,...g},i)}function SY(e){const t={};return Object.entries(e).forEach(r=>{const[i,s]=r;typeof s=="object"&&(t[i]=`${s.fontStyle?`${s.fontStyle} `:""}${s.fontVariant?`${s.fontVariant} `:""}${s.fontWeight?`${s.fontWeight} `:""}${s.fontStretch?`${s.fontStretch} `:""}${s.fontSize||""}${s.lineHeight?`/${s.lineHeight} `:""}${s.fontFamily||""}`)}),t}function TY(e,t){return{toolbar:{minHeight:56,[e.up("xs")]:{"@media (orientation: landscape)":{minHeight:48}},[e.up("sm")]:{minHeight:64}},...t}}function kY(e){return Math.round(e*1e5)/1e5}const jS={textTransform:"uppercase"},FS='"Roboto", "Helvetica", "Arial", sans-serif';function IY(e,t){const{fontFamily:n=FS,fontSize:r=14,fontWeightLight:i=300,fontWeightRegular:s=400,fontWeightMedium:o=500,fontWeightBold:a=700,htmlFontSize:l=16,allVariants:c,pxToRem:d,...h}=typeof t=="function"?t(e):t,f=r/14,g=d||(k=>`${k/l*f}rem`),v=(k,_,b,E,R)=>({fontFamily:n,fontWeight:k,fontSize:g(_),lineHeight:b,...n===FS?{letterSpacing:`${kY(E/_)}em`}:{},...R,...c}),S={h1:v(i,96,1.167,-1.5),h2:v(i,60,1.2,-.5),h3:v(s,48,1.167,0),h4:v(s,34,1.235,.25),h5:v(s,24,1.334,0),h6:v(o,20,1.6,.15),subtitle1:v(s,16,1.75,.15),subtitle2:v(o,14,1.57,.1),body1:v(s,16,1.5,.15),body2:v(s,14,1.43,.15),button:v(o,14,1.75,.4,jS),caption:v(s,12,1.66,.4),overline:v(s,12,2.66,1,jS),inherit:{fontFamily:"inherit",fontWeight:"inherit",fontSize:"inherit",lineHeight:"inherit",letterSpacing:"inherit"}};return vn({htmlFontSize:l,pxToRem:g,fontFamily:n,fontSize:r,fontWeightLight:i,fontWeightRegular:s,fontWeightMedium:o,fontWeightBold:a,...S},h,{clone:!1})}const PY=.2,RY=.14,AY=.12;function Oe(...e){return[`${e[0]}px ${e[1]}px ${e[2]}px ${e[3]}px rgba(0,0,0,${PY})`,`${e[4]}px ${e[5]}px ${e[6]}px ${e[7]}px rgba(0,0,0,${RY})`,`${e[8]}px ${e[9]}px ${e[10]}px ${e[11]}px rgba(0,0,0,${AY})`].join(",")}const NY=["none",Oe(0,2,1,-1,0,1,1,0,0,1,3,0),Oe(0,3,1,-2,0,2,2,0,0,1,5,0),Oe(0,3,3,-2,0,3,4,0,0,1,8,0),Oe(0,2,4,-1,0,4,5,0,0,1,10,0),Oe(0,3,5,-1,0,5,8,0,0,1,14,0),Oe(0,3,5,-1,0,6,10,0,0,1,18,0),Oe(0,4,5,-2,0,7,10,1,0,2,16,1),Oe(0,5,5,-3,0,8,10,1,0,3,14,2),Oe(0,5,6,-3,0,9,12,1,0,3,16,2),Oe(0,6,6,-3,0,10,14,1,0,4,18,3),Oe(0,6,7,-4,0,11,15,1,0,4,20,3),Oe(0,7,8,-4,0,12,17,2,0,5,22,4),Oe(0,7,8,-4,0,13,19,2,0,5,24,4),Oe(0,7,9,-4,0,14,21,2,0,5,26,4),Oe(0,8,9,-5,0,15,22,2,0,6,28,5),Oe(0,8,10,-5,0,16,24,2,0,6,30,5),Oe(0,8,11,-5,0,17,26,2,0,6,32,5),Oe(0,9,11,-5,0,18,28,2,0,7,34,6),Oe(0,9,12,-6,0,19,29,2,0,7,36,6),Oe(0,10,13,-6,0,20,31,3,0,8,38,7),Oe(0,10,13,-6,0,21,33,3,0,8,40,7),Oe(0,10,14,-6,0,22,35,3,0,8,42,7),Oe(0,11,14,-7,0,23,36,3,0,9,44,8),Oe(0,11,15,-7,0,24,38,3,0,9,46,8)],DY=NY,OY={easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",easeIn:"cubic-bezier(0.4, 0, 1, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"},MY={shortest:150,shorter:200,short:250,standard:300,complex:375,enteringScreen:225,leavingScreen:195};function $S(e){return`${Math.round(e)}ms`}function LY(e){if(!e)return 0;const t=e/36;return Math.min(Math.round((4+15*t**.25+t/5)*10),3e3)}function jY(e){const t={...OY,...e.easing},n={...MY,...e.duration};return{getAutoHeightDuration:LY,create:(i=["all"],s={})=>{const{duration:o=n.standard,easing:a=t.easeInOut,delay:l=0,...c}=s;return(Array.isArray(i)?i:[i]).map(d=>`${d} ${typeof o=="string"?o:$S(o)} ${a} ${typeof l=="string"?l:$S(l)}`).join(",")},...e,easing:t,duration:n}}const FY={mobileStepper:1e3,fab:1050,speedDial:1050,appBar:1100,drawer:1200,modal:1300,snackbar:1400,tooltip:1500},$Y=FY;function VY(e){return br(e)||typeof e>"u"||typeof e=="string"||typeof e=="boolean"||typeof e=="number"||Array.isArray(e)}function XN(e={}){const t={...e};function n(r){const i=Object.entries(r);for(let s=0;s<i.length;s++){const[o,a]=i[s];!VY(a)||o.startsWith("unstable_")?delete r[o]:br(a)&&(r[o]={...a},n(r[o]))}}return n(t),`import { unstable_createBreakpoints as createBreakpoints, createTransitions } from '@mui/material/styles';

const theme = ${JSON.stringify(t,null,2)};

theme.breakpoints = createBreakpoints(theme.breakpoints || {});
theme.transitions = createTransitions(theme.transitions || {});

export default theme;`}function A0(e={},...t){const{breakpoints:n,mixins:r={},spacing:i,palette:s={},transitions:o={},typography:a={},shape:l,...c}=e;if(e.vars&&e.generateThemeVars===void 0)throw new Error(oo(20));const d=t1(s),h=Y_(e);let f=vn(h,{mixins:TY(h.breakpoints,r),palette:d,shadows:DY.slice(),typography:IY(d,a),transitions:jY(o),zIndex:{...$Y}});return f=vn(f,c),f=t.reduce((g,v)=>vn(g,v),f),f.unstable_sxConfig={...Ou,...c==null?void 0:c.unstable_sxConfig},f.unstable_sx=function(v){return Ra({sx:v,theme:this})},f.toRuntimeSource=XN,f}function UY(e){let t;return e<1?t=5.11916*e**2:t=4.5*Math.log(e+1)+2,Math.round(t*10)/1e3}const BY=[...Array(25)].map((e,t)=>{if(t===0)return"none";const n=UY(t);return`linear-gradient(rgba(255 255 255 / ${n}), rgba(255 255 255 / ${n}))`});function JN(e){return{inputPlaceholder:e==="dark"?.5:.42,inputUnderline:e==="dark"?.7:.42,switchTrackDisabled:e==="dark"?.2:.12,switchTrack:e==="dark"?.3:.38}}function QN(e){return e==="dark"?BY:[]}function zY(e){const{palette:t={mode:"light"},opacity:n,overlays:r,...i}=e,s=t1(t);return{palette:s,opacity:{...JN(s.mode),...n},overlays:r||QN(s.mode),...i}}function WY(e){var t;return!!e[0].match(/(cssVarPrefix|colorSchemeSelector|rootSelector|typography|mixins|breakpoints|direction|transitions)/)||!!e[0].match(/sxConfig$/)||e[0]==="palette"&&!!((t=e[1])!=null&&t.match(/(mode|contrastThreshold|tonalOffset)/))}const HY=e=>[...[...Array(25)].map((t,n)=>`--${e?`${e}-`:""}overlays-${n}`),`--${e?`${e}-`:""}palette-AppBar-darkBg`,`--${e?`${e}-`:""}palette-AppBar-darkColor`],qY=HY,GY=e=>(t,n)=>{const r=e.rootSelector||":root",i=e.colorSchemeSelector;let s=i;if(i==="class"&&(s=".%s"),i==="data"&&(s="[data-%s]"),i!=null&&i.startsWith("data-")&&!i.includes("%s")&&(s=`[${i}="%s"]`),e.defaultColorScheme===t){if(t==="dark"){const o={};return qY(e.cssVarPrefix).forEach(a=>{o[a]=n[a],delete n[a]}),s==="media"?{[r]:n,"@media (prefers-color-scheme: dark)":{[r]:o}}:s?{[s.replace("%s",t)]:o,[`${r}, ${s.replace("%s",t)}`]:n}:{[r]:{...n,...o}}}if(s&&s!=="media")return`${r}, ${s.replace("%s",String(t))}`}else if(t){if(s==="media")return{[`@media (prefers-color-scheme: ${String(t)})`]:{[r]:n}};if(s)return s.replace("%s",String(t))}return r};function KY(e,t){t.forEach(n=>{e[n]||(e[n]={})})}function $(e,t,n){!e[t]&&n&&(e[t]=n)}function Ll(e){return typeof e!="string"||!e.startsWith("hsl")?e:GN(e)}function Vr(e,t){`${t}Channel`in e||(e[`${t}Channel`]=Ml(Ll(e[t]),`MUI: Can't create \`palette.${t}Channel\` because \`palette.${t}\` is not one of these formats: #nnn, #nnnnnn, rgb(), rgba(), hsl(), hsla(), color().
To suppress this warning, you need to explicitly provide the \`palette.${t}Channel\` as a string (in rgb format, for example "12 12 12") or undefined if you want to remove the channel token.`))}function YY(e){return typeof e=="number"?`${e}px`:typeof e=="string"||typeof e=="function"||Array.isArray(e)?e:"8px"}const gr=e=>{try{return e()}catch{}},XY=(e="mui")=>iY(e);function Tg(e,t,n,r){if(!t)return;t=t===!0?{}:t;const i=r==="dark"?"dark":"light";if(!n){e[r]=zY({...t,palette:{mode:i,...t==null?void 0:t.palette}});return}const{palette:s,...o}=A0({...n,palette:{mode:i,...t==null?void 0:t.palette}});return e[r]={...t,palette:s,opacity:{...JN(i),...t==null?void 0:t.opacity},overlays:(t==null?void 0:t.overlays)||QN(i)},o}function JY(e={},...t){const{colorSchemes:n={light:!0},defaultColorScheme:r,disableCssColorScheme:i=!1,cssVarPrefix:s="mui",shouldSkipGeneratingVar:o=WY,colorSchemeSelector:a=n.light&&n.dark?"media":void 0,rootSelector:l=":root",...c}=e,d=Object.keys(n)[0],h=r||(n.light&&d!=="light"?"light":d),f=XY(s),{[h]:g,light:v,dark:S,...k}=n,_={...k};let b=g;if((h==="dark"&&!("dark"in n)||h==="light"&&!("light"in n))&&(b=!0),!b)throw new Error(oo(21,h));const E=Tg(_,b,c,h);v&&!_.light&&Tg(_,v,void 0,"light"),S&&!_.dark&&Tg(_,S,void 0,"dark");let R={defaultColorScheme:h,...E,cssVarPrefix:s,colorSchemeSelector:a,rootSelector:l,getCssVar:f,colorSchemes:_,font:{...SY(E.typography),...E.font},spacing:YY(c.spacing)};Object.keys(R.colorSchemes).forEach(I=>{const y=R.colorSchemes[I].palette,N=O=>{const A=O.split("-"),V=A[1],U=A[2];return f(O,y[V][U])};if(y.mode==="light"&&($(y.common,"background","#fff"),$(y.common,"onBackground","#000")),y.mode==="dark"&&($(y.common,"background","#000"),$(y.common,"onBackground","#fff")),KY(y,["Alert","AppBar","Avatar","Button","Chip","FilledInput","LinearProgress","Skeleton","Slider","SnackbarContent","SpeedDialAction","StepConnector","StepContent","Switch","TableCell","Tooltip"]),y.mode==="light"){$(y.Alert,"errorColor",Ce(y.error.light,.6)),$(y.Alert,"infoColor",Ce(y.info.light,.6)),$(y.Alert,"successColor",Ce(y.success.light,.6)),$(y.Alert,"warningColor",Ce(y.warning.light,.6)),$(y.Alert,"errorFilledBg",N("palette-error-main")),$(y.Alert,"infoFilledBg",N("palette-info-main")),$(y.Alert,"successFilledBg",N("palette-success-main")),$(y.Alert,"warningFilledBg",N("palette-warning-main")),$(y.Alert,"errorFilledColor",gr(()=>y.getContrastText(y.error.main))),$(y.Alert,"infoFilledColor",gr(()=>y.getContrastText(y.info.main))),$(y.Alert,"successFilledColor",gr(()=>y.getContrastText(y.success.main))),$(y.Alert,"warningFilledColor",gr(()=>y.getContrastText(y.warning.main))),$(y.Alert,"errorStandardBg",Se(y.error.light,.9)),$(y.Alert,"infoStandardBg",Se(y.info.light,.9)),$(y.Alert,"successStandardBg",Se(y.success.light,.9)),$(y.Alert,"warningStandardBg",Se(y.warning.light,.9)),$(y.Alert,"errorIconColor",N("palette-error-main")),$(y.Alert,"infoIconColor",N("palette-info-main")),$(y.Alert,"successIconColor",N("palette-success-main")),$(y.Alert,"warningIconColor",N("palette-warning-main")),$(y.AppBar,"defaultBg",N("palette-grey-100")),$(y.Avatar,"defaultBg",N("palette-grey-400")),$(y.Button,"inheritContainedBg",N("palette-grey-300")),$(y.Button,"inheritContainedHoverBg",N("palette-grey-A100")),$(y.Chip,"defaultBorder",N("palette-grey-400")),$(y.Chip,"defaultAvatarColor",N("palette-grey-700")),$(y.Chip,"defaultIconColor",N("palette-grey-700")),$(y.FilledInput,"bg","rgba(0, 0, 0, 0.06)"),$(y.FilledInput,"hoverBg","rgba(0, 0, 0, 0.09)"),$(y.FilledInput,"disabledBg","rgba(0, 0, 0, 0.12)"),$(y.LinearProgress,"primaryBg",Se(y.primary.main,.62)),$(y.LinearProgress,"secondaryBg",Se(y.secondary.main,.62)),$(y.LinearProgress,"errorBg",Se(y.error.main,.62)),$(y.LinearProgress,"infoBg",Se(y.info.main,.62)),$(y.LinearProgress,"successBg",Se(y.success.main,.62)),$(y.LinearProgress,"warningBg",Se(y.warning.main,.62)),$(y.Skeleton,"bg",`rgba(${N("palette-text-primaryChannel")} / 0.11)`),$(y.Slider,"primaryTrack",Se(y.primary.main,.62)),$(y.Slider,"secondaryTrack",Se(y.secondary.main,.62)),$(y.Slider,"errorTrack",Se(y.error.main,.62)),$(y.Slider,"infoTrack",Se(y.info.main,.62)),$(y.Slider,"successTrack",Se(y.success.main,.62)),$(y.Slider,"warningTrack",Se(y.warning.main,.62));const O=Id(y.background.default,.8);$(y.SnackbarContent,"bg",O),$(y.SnackbarContent,"color",gr(()=>y.getContrastText(O))),$(y.SpeedDialAction,"fabHoverBg",Id(y.background.paper,.15)),$(y.StepConnector,"border",N("palette-grey-400")),$(y.StepContent,"border",N("palette-grey-400")),$(y.Switch,"defaultColor",N("palette-common-white")),$(y.Switch,"defaultDisabledColor",N("palette-grey-100")),$(y.Switch,"primaryDisabledColor",Se(y.primary.main,.62)),$(y.Switch,"secondaryDisabledColor",Se(y.secondary.main,.62)),$(y.Switch,"errorDisabledColor",Se(y.error.main,.62)),$(y.Switch,"infoDisabledColor",Se(y.info.main,.62)),$(y.Switch,"successDisabledColor",Se(y.success.main,.62)),$(y.Switch,"warningDisabledColor",Se(y.warning.main,.62)),$(y.TableCell,"border",Se(kd(y.divider,1),.88)),$(y.Tooltip,"bg",kd(y.grey[700],.92))}if(y.mode==="dark"){$(y.Alert,"errorColor",Se(y.error.light,.6)),$(y.Alert,"infoColor",Se(y.info.light,.6)),$(y.Alert,"successColor",Se(y.success.light,.6)),$(y.Alert,"warningColor",Se(y.warning.light,.6)),$(y.Alert,"errorFilledBg",N("palette-error-dark")),$(y.Alert,"infoFilledBg",N("palette-info-dark")),$(y.Alert,"successFilledBg",N("palette-success-dark")),$(y.Alert,"warningFilledBg",N("palette-warning-dark")),$(y.Alert,"errorFilledColor",gr(()=>y.getContrastText(y.error.dark))),$(y.Alert,"infoFilledColor",gr(()=>y.getContrastText(y.info.dark))),$(y.Alert,"successFilledColor",gr(()=>y.getContrastText(y.success.dark))),$(y.Alert,"warningFilledColor",gr(()=>y.getContrastText(y.warning.dark))),$(y.Alert,"errorStandardBg",Ce(y.error.light,.9)),$(y.Alert,"infoStandardBg",Ce(y.info.light,.9)),$(y.Alert,"successStandardBg",Ce(y.success.light,.9)),$(y.Alert,"warningStandardBg",Ce(y.warning.light,.9)),$(y.Alert,"errorIconColor",N("palette-error-main")),$(y.Alert,"infoIconColor",N("palette-info-main")),$(y.Alert,"successIconColor",N("palette-success-main")),$(y.Alert,"warningIconColor",N("palette-warning-main")),$(y.AppBar,"defaultBg",N("palette-grey-900")),$(y.AppBar,"darkBg",N("palette-background-paper")),$(y.AppBar,"darkColor",N("palette-text-primary")),$(y.Avatar,"defaultBg",N("palette-grey-600")),$(y.Button,"inheritContainedBg",N("palette-grey-800")),$(y.Button,"inheritContainedHoverBg",N("palette-grey-700")),$(y.Chip,"defaultBorder",N("palette-grey-700")),$(y.Chip,"defaultAvatarColor",N("palette-grey-300")),$(y.Chip,"defaultIconColor",N("palette-grey-300")),$(y.FilledInput,"bg","rgba(255, 255, 255, 0.09)"),$(y.FilledInput,"hoverBg","rgba(255, 255, 255, 0.13)"),$(y.FilledInput,"disabledBg","rgba(255, 255, 255, 0.12)"),$(y.LinearProgress,"primaryBg",Ce(y.primary.main,.5)),$(y.LinearProgress,"secondaryBg",Ce(y.secondary.main,.5)),$(y.LinearProgress,"errorBg",Ce(y.error.main,.5)),$(y.LinearProgress,"infoBg",Ce(y.info.main,.5)),$(y.LinearProgress,"successBg",Ce(y.success.main,.5)),$(y.LinearProgress,"warningBg",Ce(y.warning.main,.5)),$(y.Skeleton,"bg",`rgba(${N("palette-text-primaryChannel")} / 0.13)`),$(y.Slider,"primaryTrack",Ce(y.primary.main,.5)),$(y.Slider,"secondaryTrack",Ce(y.secondary.main,.5)),$(y.Slider,"errorTrack",Ce(y.error.main,.5)),$(y.Slider,"infoTrack",Ce(y.info.main,.5)),$(y.Slider,"successTrack",Ce(y.success.main,.5)),$(y.Slider,"warningTrack",Ce(y.warning.main,.5));const O=Id(y.background.default,.98);$(y.SnackbarContent,"bg",O),$(y.SnackbarContent,"color",gr(()=>y.getContrastText(O))),$(y.SpeedDialAction,"fabHoverBg",Id(y.background.paper,.15)),$(y.StepConnector,"border",N("palette-grey-600")),$(y.StepContent,"border",N("palette-grey-600")),$(y.Switch,"defaultColor",N("palette-grey-300")),$(y.Switch,"defaultDisabledColor",N("palette-grey-600")),$(y.Switch,"primaryDisabledColor",Ce(y.primary.main,.55)),$(y.Switch,"secondaryDisabledColor",Ce(y.secondary.main,.55)),$(y.Switch,"errorDisabledColor",Ce(y.error.main,.55)),$(y.Switch,"infoDisabledColor",Ce(y.info.main,.55)),$(y.Switch,"successDisabledColor",Ce(y.success.main,.55)),$(y.Switch,"warningDisabledColor",Ce(y.warning.main,.55)),$(y.TableCell,"border",Ce(kd(y.divider,1),.68)),$(y.Tooltip,"bg",kd(y.grey[700],.92))}Vr(y.background,"default"),Vr(y.background,"paper"),Vr(y.common,"background"),Vr(y.common,"onBackground"),Vr(y,"divider"),Object.keys(y).forEach(O=>{const A=y[O];O!=="tonalOffset"&&A&&typeof A=="object"&&(A.main&&$(y[O],"mainChannel",Ml(Ll(A.main))),A.light&&$(y[O],"lightChannel",Ml(Ll(A.light))),A.dark&&$(y[O],"darkChannel",Ml(Ll(A.dark))),A.contrastText&&$(y[O],"contrastTextChannel",Ml(Ll(A.contrastText))),O==="text"&&(Vr(y[O],"primary"),Vr(y[O],"secondary")),O==="action"&&(A.active&&Vr(y[O],"active"),A.selected&&Vr(y[O],"selected")))})}),R=t.reduce((I,y)=>vn(I,y),R);const D={prefix:s,disableCssColorScheme:i,shouldSkipGeneratingVar:o,getSelector:GY(R)},{vars:M,generateThemeVars:T,generateStyleSheets:C}=aY(R,D);return R.vars=M,Object.entries(R.colorSchemes[R.defaultColorScheme]).forEach(([I,y])=>{R[I]=y}),R.generateThemeVars=T,R.generateStyleSheets=C,R.generateSpacing=function(){return BN(c.spacing,W_(this))},R.getColorSchemeSelector=lY(a),R.spacing=R.generateSpacing(),R.shouldSkipGeneratingVar=o,R.unstable_sxConfig={...Ou,...c==null?void 0:c.unstable_sxConfig},R.unstable_sx=function(y){return Ra({sx:y,theme:this})},R.toRuntimeSource=XN,R}function VS(e,t,n){e.colorSchemes&&n&&(e.colorSchemes[t]={...n!==!0&&n,palette:t1({...n===!0?{}:n.palette,mode:t})})}function ZN(e={},...t){const{palette:n,cssVariables:r=!1,colorSchemes:i=n?void 0:{light:!0},defaultColorScheme:s=n==null?void 0:n.mode,...o}=e,a=s||"light",l=i==null?void 0:i[a],c={...i,...n?{[a]:{...typeof l!="boolean"&&l,palette:n}}:void 0};if(r===!1){if(!("colorSchemes"in e))return A0(e,...t);let d=n;"palette"in e||c[a]&&(c[a]!==!0?d=c[a].palette:a==="dark"&&(d={mode:"dark"}));const h=A0({...e,palette:d},...t);return h.defaultColorScheme=a,h.colorSchemes=c,h.palette.mode==="light"&&(h.colorSchemes.light={...c.light!==!0&&c.light,palette:h.palette},VS(h,"dark",c.dark)),h.palette.mode==="dark"&&(h.colorSchemes.dark={...c.dark!==!0&&c.dark,palette:h.palette},VS(h,"light",c.light)),h}return!n&&!("light"in c)&&a==="light"&&(c.light=!0),JY({...o,colorSchemes:c,defaultColorScheme:a,...typeof r!="boolean"&&r},...t)}const QY=ZN(),eD=QY,n1="$$material";function ZY(){const e=zN(eD);return e[n1]||e}function eX(e){return e!=="ownerState"&&e!=="theme"&&e!=="sx"&&e!=="as"}const tX=e=>eX(e)&&e!=="classes",nX=tX,rX=zK({themeId:n1,defaultTheme:eD,rootShouldForwardProp:nX}),r1=rX,iX=rY,sX=iX;function tD(e){return nY(e)}function oX(e){return typeof e=="string"}function aX(e,t,n){return e===void 0||oX(e)?t:{...t,ownerState:{...t.ownerState,...n}}}function lX(e,t,n){return typeof e=="function"?e(t,n):e}function nD(e,t=[]){if(e===void 0)return{};const n={};return Object.keys(e).filter(r=>r.match(/^on[A-Z]/)&&typeof e[r]=="function"&&!t.includes(r)).forEach(r=>{n[r]=e[r]}),n}function US(e){if(e===void 0)return{};const t={};return Object.keys(e).filter(n=>!(n.match(/^on[A-Z]/)&&typeof e[n]=="function")).forEach(n=>{t[n]=e[n]}),t}function cX(e){const{getSlotProps:t,additionalProps:n,externalSlotProps:r,externalForwardedProps:i,className:s}=e;if(!t){const g=Pa(n==null?void 0:n.className,s,i==null?void 0:i.className,r==null?void 0:r.className),v={...n==null?void 0:n.style,...i==null?void 0:i.style,...r==null?void 0:r.style},S={...n,...i,...r};return g.length>0&&(S.className=g),Object.keys(v).length>0&&(S.style=v),{props:S,internalRef:void 0}}const o=nD({...i,...r}),a=US(r),l=US(i),c=t(o),d=Pa(c==null?void 0:c.className,n==null?void 0:n.className,s,i==null?void 0:i.className,r==null?void 0:r.className),h={...c==null?void 0:c.style,...n==null?void 0:n.style,...i==null?void 0:i.style,...r==null?void 0:r.style},f={...c,...n,...l,...a};return d.length>0&&(f.className=d),Object.keys(h).length>0&&(f.style=h),{props:f,internalRef:c.ref}}function xf(e,t){const{className:n,elementType:r,ownerState:i,externalForwardedProps:s,internalForwardedProps:o,shouldForwardComponentProp:a=!1,...l}=t,{component:c,slots:d={[e]:void 0},slotProps:h={[e]:void 0},...f}=s,g=d[e]||r,v=lX(h[e],i),{props:{component:S,...k},internalRef:_}=cX({className:n,...l,externalForwardedProps:e==="root"?f:void 0,externalSlotProps:v}),b=Au(_,v==null?void 0:v.ref,t.ref),E=e==="root"?S||c:S,R=aX(g,{...e==="root"&&!c&&!d[e]&&o,...e!=="root"&&!d[e]&&o,...k,...E&&!a&&{as:E},...E&&a&&{component:E},ref:b},i);return[g,R]}function uX(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function N0(e,t){return N0=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,r){return n.__proto__=r,n},N0(e,t)}function dX(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,N0(e,t)}const BS={disabled:!1},rD=Q.createContext(null);var hX=function(t){return t.scrollTop},jl="unmounted",ks="exited",Is="entering",No="entered",D0="exiting",yi=function(e){dX(t,e);function t(r,i){var s;s=e.call(this,r,i)||this;var o=i,a=o&&!o.isMounting?r.enter:r.appear,l;return s.appearStatus=null,r.in?a?(l=ks,s.appearStatus=Is):l=No:r.unmountOnExit||r.mountOnEnter?l=jl:l=ks,s.state={status:l},s.nextCallback=null,s}t.getDerivedStateFromProps=function(i,s){var o=i.in;return o&&s.status===jl?{status:ks}:null};var n=t.prototype;return n.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},n.componentDidUpdate=function(i){var s=null;if(i!==this.props){var o=this.state.status;this.props.in?o!==Is&&o!==No&&(s=Is):(o===Is||o===No)&&(s=D0)}this.updateStatus(!1,s)},n.componentWillUnmount=function(){this.cancelNextCallback()},n.getTimeouts=function(){var i=this.props.timeout,s,o,a;return s=o=a=i,i!=null&&typeof i!="number"&&(s=i.exit,o=i.enter,a=i.appear!==void 0?i.appear:o),{exit:s,enter:o,appear:a}},n.updateStatus=function(i,s){if(i===void 0&&(i=!1),s!==null)if(this.cancelNextCallback(),s===Is){if(this.props.unmountOnExit||this.props.mountOnEnter){var o=this.props.nodeRef?this.props.nodeRef.current:md.findDOMNode(this);o&&hX(o)}this.performEnter(i)}else this.performExit();else this.props.unmountOnExit&&this.state.status===ks&&this.setState({status:jl})},n.performEnter=function(i){var s=this,o=this.props.enter,a=this.context?this.context.isMounting:i,l=this.props.nodeRef?[a]:[md.findDOMNode(this),a],c=l[0],d=l[1],h=this.getTimeouts(),f=a?h.appear:h.enter;if(!i&&!o||BS.disabled){this.safeSetState({status:No},function(){s.props.onEntered(c)});return}this.props.onEnter(c,d),this.safeSetState({status:Is},function(){s.props.onEntering(c,d),s.onTransitionEnd(f,function(){s.safeSetState({status:No},function(){s.props.onEntered(c,d)})})})},n.performExit=function(){var i=this,s=this.props.exit,o=this.getTimeouts(),a=this.props.nodeRef?void 0:md.findDOMNode(this);if(!s||BS.disabled){this.safeSetState({status:ks},function(){i.props.onExited(a)});return}this.props.onExit(a),this.safeSetState({status:D0},function(){i.props.onExiting(a),i.onTransitionEnd(o.exit,function(){i.safeSetState({status:ks},function(){i.props.onExited(a)})})})},n.cancelNextCallback=function(){this.nextCallback!==null&&(this.nextCallback.cancel(),this.nextCallback=null)},n.safeSetState=function(i,s){s=this.setNextCallback(s),this.setState(i,s)},n.setNextCallback=function(i){var s=this,o=!0;return this.nextCallback=function(a){o&&(o=!1,s.nextCallback=null,i(a))},this.nextCallback.cancel=function(){o=!1},this.nextCallback},n.onTransitionEnd=function(i,s){this.setNextCallback(s);var o=this.props.nodeRef?this.props.nodeRef.current:md.findDOMNode(this),a=i==null&&!this.props.addEndListener;if(!o||a){setTimeout(this.nextCallback,0);return}if(this.props.addEndListener){var l=this.props.nodeRef?[this.nextCallback]:[o,this.nextCallback],c=l[0],d=l[1];this.props.addEndListener(c,d)}i!=null&&setTimeout(this.nextCallback,i)},n.render=function(){var i=this.state.status;if(i===jl)return null;var s=this.props,o=s.children;s.in,s.mountOnEnter,s.unmountOnExit,s.appear,s.enter,s.exit,s.timeout,s.addEndListener,s.onEnter,s.onEntering,s.onEntered,s.onExit,s.onExiting,s.onExited,s.nodeRef;var a=uX(s,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]);return Q.createElement(rD.Provider,{value:null},typeof o=="function"?o(i,a):Q.cloneElement(Q.Children.only(o),a))},t}(Q.Component);yi.contextType=rD;yi.propTypes={};function Ao(){}yi.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:Ao,onEntering:Ao,onEntered:Ao,onExit:Ao,onExiting:Ao,onExited:Ao};yi.UNMOUNTED=jl;yi.EXITED=ks;yi.ENTERING=Is;yi.ENTERED=No;yi.EXITING=D0;const fX=yi,pX=e=>e.scrollTop;function zS(e,t){const{timeout:n,easing:r,style:i={}}=e;return{duration:i.transitionDuration??(typeof n=="number"?n:n[t.mode]||0),easing:i.transitionTimingFunction??(typeof r=="object"?r[t.mode]:r),delay:i.transitionDelay}}const mX={entering:{opacity:1},entered:{opacity:1}},gX=w.forwardRef(function(t,n){const r=ZY(),i={enter:r.transitions.duration.enteringScreen,exit:r.transitions.duration.leavingScreen},{addEndListener:s,appear:o=!0,children:a,easing:l,in:c,onEnter:d,onEntered:h,onEntering:f,onExit:g,onExited:v,onExiting:S,style:k,timeout:_=i,TransitionComponent:b=fX,...E}=t,R=w.useRef(null),D=Au(R,$_(a),n),M=V=>U=>{if(V){const q=R.current;U===void 0?V(q):V(q,U)}},T=M(f),C=M((V,U)=>{pX(V);const q=zS({style:k,timeout:_,easing:l},{mode:"enter"});V.style.webkitTransition=r.transitions.create("opacity",q),V.style.transition=r.transitions.create("opacity",q),d&&d(V,U)}),I=M(h),y=M(S),N=M(V=>{const U=zS({style:k,timeout:_,easing:l},{mode:"exit"});V.style.webkitTransition=r.transitions.create("opacity",U),V.style.transition=r.transitions.create("opacity",U),g&&g(V)}),O=M(v),A=V=>{s&&s(R.current,V)};return m.jsx(b,{appear:o,in:c,nodeRef:R,onEnter:C,onEntered:I,onEntering:T,onExit:N,onExited:O,onExiting:y,addEndListener:A,timeout:_,...E,children:(V,{ownerState:U,...q})=>w.cloneElement(a,{style:{opacity:0,visibility:V==="exited"&&!c?"hidden":void 0,...mX[V],...k,...a.props.style},ref:D,...q})})}),yX=gX;function vX(e){return X_("MuiBackdrop",e)}J_("MuiBackdrop",["root","invisible"]);const wX=e=>{const{classes:t,invisible:n}=e;return xN({root:["root",n&&"invisible"]},vX,t)},_X=r1("div",{name:"MuiBackdrop",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.invisible&&t.invisible]}})({position:"fixed",display:"flex",alignItems:"center",justifyContent:"center",right:0,bottom:0,top:0,left:0,backgroundColor:"rgba(0, 0, 0, 0.5)",WebkitTapHighlightColor:"transparent",variants:[{props:{invisible:!0},style:{backgroundColor:"transparent"}}]}),xX=w.forwardRef(function(t,n){const r=tD({props:t,name:"MuiBackdrop"}),{children:i,className:s,component:o="div",invisible:a=!1,open:l,components:c={},componentsProps:d={},slotProps:h={},slots:f={},TransitionComponent:g,transitionDuration:v,...S}=r,k={...r,component:o,invisible:a},_=wX(k),b={transition:g,root:c.Root,...f},E={...d,...h},R={slots:b,slotProps:E},[D,M]=xf("root",{elementType:_X,externalForwardedProps:R,className:Pa(_.root,s),ownerState:k}),[T,C]=xf("transition",{elementType:yX,externalForwardedProps:R,ownerState:k});return m.jsx(T,{in:l,timeout:v,...S,...C,children:m.jsx(D,{"aria-hidden":!0,...M,classes:_,ref:n,children:i})})}),EX=xX;function WS(e){const t=w.useRef(e);return C0(()=>{t.current=e}),w.useRef((...n)=>(0,t.current)(...n)).current}function HS(...e){return e.reduce((t,n)=>n==null?t:function(...i){t.apply(this,i),n.apply(this,i)},()=>{})}function bX(e){return typeof e=="function"?e():e}function CX(e){return e?e.props.hasOwnProperty("in"):!1}const qS=()=>{},Pd=new _q;function SX(e){const{container:t,disableEscapeKeyDown:n=!1,disableScrollLock:r=!1,closeAfterTransition:i=!1,onTransitionEnter:s,onTransitionExited:o,children:a,onClose:l,open:c,rootRef:d}=e,h=w.useRef({}),f=w.useRef(null),g=w.useRef(null),v=Au(g,d),[S,k]=w.useState(!c),_=CX(a);let b=!0;(e["aria-hidden"]==="false"||e["aria-hidden"]===!1)&&(b=!1);const E=()=>so(f.current),R=()=>(h.current.modalRef=g.current,h.current.mount=f.current,h.current),D=()=>{Pd.mount(R(),{disableScrollLock:r}),g.current&&(g.current.scrollTop=0)},M=WS(()=>{const U=bX(t)||E().body;Pd.add(R(),U),g.current&&D()}),T=()=>Pd.isTopModal(R()),C=WS(U=>{f.current=U,U&&(c&&T()?D():g.current&&cc(g.current,b))}),I=w.useCallback(()=>{Pd.remove(R(),b)},[b]);w.useEffect(()=>()=>{I()},[I]),w.useEffect(()=>{c?M():(!_||!i)&&I()},[c,I,_,i,M]);const y=U=>q=>{var G;(G=U.onKeyDown)==null||G.call(U,q),!(q.key!=="Escape"||q.which===229||!T())&&(n||(q.stopPropagation(),l&&l(q,"escapeKeyDown")))},N=U=>q=>{var G;(G=U.onClick)==null||G.call(U,q),q.target===q.currentTarget&&l&&l(q,"backdropClick")};return{getRootProps:(U={})=>{const q=nD(e);delete q.onTransitionEnter,delete q.onTransitionExited;const G={...q,...U};return{role:"presentation",...G,onKeyDown:y(G),ref:v}},getBackdropProps:(U={})=>{const q=U;return{"aria-hidden":!0,...q,onClick:N(q),open:c}},getTransitionProps:()=>{const U=()=>{k(!1),s&&s()},q=()=>{k(!0),o&&o(),i&&I()};return{onEnter:HS(U,(a==null?void 0:a.props.onEnter)??qS),onExited:HS(q,(a==null?void 0:a.props.onExited)??qS)}},rootRef:v,portalRef:C,isTopModal:T,exited:S,hasTransition:_}}function TX(e){return X_("MuiModal",e)}J_("MuiModal",["root","hidden","backdrop"]);const kX=e=>{const{open:t,exited:n,classes:r}=e;return xN({root:["root",!t&&n&&"hidden"],backdrop:["backdrop"]},TX,r)},IX=r1("div",{name:"MuiModal",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,!n.open&&n.exited&&t.hidden]}})(sX(({theme:e})=>({position:"fixed",zIndex:(e.vars||e).zIndex.modal,right:0,bottom:0,top:0,left:0,variants:[{props:({ownerState:t})=>!t.open&&t.exited,style:{visibility:"hidden"}}]}))),PX=r1(EX,{name:"MuiModal",slot:"Backdrop"})({zIndex:-1}),RX=w.forwardRef(function(t,n){const r=tD({name:"MuiModal",props:t}),{BackdropComponent:i=PX,BackdropProps:s,classes:o,className:a,closeAfterTransition:l=!1,children:c,container:d,component:h,components:f={},componentsProps:g={},disableAutoFocus:v=!1,disableEnforceFocus:S=!1,disableEscapeKeyDown:k=!1,disablePortal:_=!1,disableRestoreFocus:b=!1,disableScrollLock:E=!1,hideBackdrop:R=!1,keepMounted:D=!1,onClose:M,onTransitionEnter:T,onTransitionExited:C,open:I,slotProps:y={},slots:N={},theme:O,...A}=r,V={...r,closeAfterTransition:l,disableAutoFocus:v,disableEnforceFocus:S,disableEscapeKeyDown:k,disablePortal:_,disableRestoreFocus:b,disableScrollLock:E,hideBackdrop:R,keepMounted:D},{getRootProps:U,getBackdropProps:q,getTransitionProps:G,portalRef:F,isTopModal:K,exited:X,hasTransition:ae}=SX({...V,rootRef:n}),ie={...V,exited:X},H=kX(ie),J={};if(c.props.tabIndex===void 0&&(J.tabIndex="-1"),ae){const{onEnter:We,onExited:gt}=G();J.onEnter=We,J.onExited=gt}const se={slots:{root:f.Root,backdrop:f.Backdrop,...N},slotProps:{...g,...y}},[ce,oe]=xf("root",{ref:n,elementType:IX,externalForwardedProps:{...se,...A,component:h},getSlotProps:U,ownerState:ie,className:Pa(a,H==null?void 0:H.root,!ie.open&&ie.exited&&(H==null?void 0:H.hidden))}),[je,Fe]=xf("backdrop",{ref:s==null?void 0:s.ref,elementType:i,externalForwardedProps:se,shouldForwardComponentProp:!0,additionalProps:s,getSlotProps:We=>q({...We,onClick:gt=>{We!=null&&We.onClick&&We.onClick(gt)}}),className:Pa(s==null?void 0:s.className,H==null?void 0:H.backdrop),ownerState:ie});return!D&&!I&&(!ae||X)?null:m.jsx(Aq,{ref:F,container:d,disablePortal:_,children:m.jsxs(ce,{...oe,children:[!R&&i?m.jsx(je,{...Fe}):null,m.jsx(kq,{disableEnforceFocus:S,disableAutoFocus:v,disableRestoreFocus:b,isEnabled:K,open:I,children:w.cloneElement(c,J)})]})})}),iD=RX,AX=J_("MuiBox",["root"]),NX=AX,DX=ZN(),OX=FK({themeId:n1,defaultTheme:DX,defaultClassName:NX.root,generateClassName:WN.generate}),sD=OX;var GS=!1,Rs,O0,M0,lh,ch,oD,uh,L0,j0,F0,aD,$0,V0,lD,cD;function Qt(){if(!GS){GS=!0;var e=navigator.userAgent,t=/(?:MSIE.(\d+\.\d+))|(?:(?:Firefox|GranParadiso|Iceweasel).(\d+\.\d+))|(?:Opera(?:.+Version.|.)(\d+\.\d+))|(?:AppleWebKit.(\d+(?:\.\d+)?))|(?:Trident\/\d+\.\d+.*rv:(\d+\.\d+))/.exec(e),n=/(Mac OS X)|(Windows)|(Linux)/.exec(e);if($0=/\b(iPhone|iP[ao]d)/.exec(e),V0=/\b(iP[ao]d)/.exec(e),F0=/Android/i.exec(e),lD=/FBAN\/\w+;/i.exec(e),cD=/Mobile/i.exec(e),aD=!!/Win64/.exec(e),t){Rs=t[1]?parseFloat(t[1]):t[5]?parseFloat(t[5]):NaN,Rs&&document&&document.documentMode&&(Rs=document.documentMode);var r=/(?:Trident\/(\d+.\d+))/.exec(e);oD=r?parseFloat(r[1])+4:Rs,O0=t[2]?parseFloat(t[2]):NaN,M0=t[3]?parseFloat(t[3]):NaN,lh=t[4]?parseFloat(t[4]):NaN,lh?(t=/(?:Chrome\/(\d+\.\d+))/.exec(e),ch=t&&t[1]?parseFloat(t[1]):NaN):ch=NaN}else Rs=O0=M0=ch=lh=NaN;if(n){if(n[1]){var i=/(?:Mac OS X (\d+(?:[._]\d+)?))/.exec(e);uh=i?parseFloat(i[1].replace("_",".")):!0}else uh=!1;L0=!!n[2],j0=!!n[3]}else uh=L0=j0=!1}}var U0={ie:function(){return Qt()||Rs},ieCompatibilityMode:function(){return Qt()||oD>Rs},ie64:function(){return U0.ie()&&aD},firefox:function(){return Qt()||O0},opera:function(){return Qt()||M0},webkit:function(){return Qt()||lh},safari:function(){return U0.webkit()},chrome:function(){return Qt()||ch},windows:function(){return Qt()||L0},osx:function(){return Qt()||uh},linux:function(){return Qt()||j0},iphone:function(){return Qt()||$0},mobile:function(){return Qt()||$0||V0||F0||cD},nativeApp:function(){return Qt()||lD},android:function(){return Qt()||F0},ipad:function(){return Qt()||V0}},MX=U0,Rd=!!(typeof window<"u"&&window.document&&window.document.createElement),LX={canUseDOM:Rd,canUseWorkers:typeof Worker<"u",canUseEventListeners:Rd&&!!(window.addEventListener||window.attachEvent),canUseViewport:Rd&&!!window.screen,isInWorker:!Rd},jX=LX,uD=jX,dD;uD.canUseDOM&&(dD=document.implementation&&document.implementation.hasFeature&&document.implementation.hasFeature("","")!==!0);/**
 * Checks if an event is supported in the current execution environment.
 *
 * NOTE: This will not work correctly for non-generic events such as `change`,
 * `reset`, `load`, `error`, and `select`.
 *
 * Borrows from Modernizr.
 *
 * @param {string} eventNameSuffix Event name, e.g. "click".
 * @param {?boolean} capture Check if the capture phase is supported.
 * @return {boolean} True if the event is supported.
 * @internal
 * @license Modernizr 3.0.0pre (Custom Build) | MIT
 */function FX(e,t){if(!uD.canUseDOM||t&&!("addEventListener"in document))return!1;var n="on"+e,r=n in document;if(!r){var i=document.createElement("div");i.setAttribute(n,"return;"),r=typeof i[n]=="function"}return!r&&dD&&e==="wheel"&&(r=document.implementation.hasFeature("Events.wheel","3.0")),r}var $X=FX,VX=MX,UX=$X,KS=10,YS=40,XS=800;function hD(e){var t=0,n=0,r=0,i=0;return"detail"in e&&(n=e.detail),"wheelDelta"in e&&(n=-e.wheelDelta/120),"wheelDeltaY"in e&&(n=-e.wheelDeltaY/120),"wheelDeltaX"in e&&(t=-e.wheelDeltaX/120),"axis"in e&&e.axis===e.HORIZONTAL_AXIS&&(t=n,n=0),r=t*KS,i=n*KS,"deltaY"in e&&(i=e.deltaY),"deltaX"in e&&(r=e.deltaX),(r||i)&&e.deltaMode&&(e.deltaMode==1?(r*=YS,i*=YS):(r*=XS,i*=XS)),r&&!t&&(t=r<1?-1:1),i&&!n&&(n=i<1?-1:1),{spinX:t,spinY:n,pixelX:r,pixelY:i}}hD.getEventType=function(){return VX.firefox()?"DOMMouseScroll":UX("wheel")?"wheel":"mousewheel"};var BX=hD,zX=BX;const WX=K0(zX);function HX(e,t,n,r,i,s){s===void 0&&(s=0);var o=Na(e,t,s),a=o.width,l=o.height,c=Math.min(a,n),d=Math.min(l,r);return c>d*i?{width:d*i,height:d}:{width:c,height:c/i}}function qX(e){return e.width>e.height?e.width/e.naturalWidth:e.height/e.naturalHeight}function kl(e,t,n,r,i){i===void 0&&(i=0);var s=Na(t.width,t.height,i),o=s.width,a=s.height;return{x:JS(e.x,o,n.width,r),y:JS(e.y,a,n.height,r)}}function JS(e,t,n,r){var i=t*r/2-n/2;return Lp(e,-i,i)}function QS(e,t){return Math.sqrt(Math.pow(e.y-t.y,2)+Math.pow(e.x-t.x,2))}function ZS(e,t){return Math.atan2(t.y-e.y,t.x-e.x)*180/Math.PI}function GX(e,t,n,r,i,s,o){s===void 0&&(s=0),o===void 0&&(o=!0);var a=o?KX:YX,l=Na(t.width,t.height,s),c=Na(t.naturalWidth,t.naturalHeight,s),d={x:a(100,((l.width-n.width/i)/2-e.x/i)/l.width*100),y:a(100,((l.height-n.height/i)/2-e.y/i)/l.height*100),width:a(100,n.width/l.width*100/i),height:a(100,n.height/l.height*100/i)},h=Math.round(a(c.width,d.width*c.width/100)),f=Math.round(a(c.height,d.height*c.height/100)),g=c.width>=c.height*r,v=g?{width:Math.round(f*r),height:f}:{width:h,height:Math.round(h/r)},S=ut(ut({},v),{x:Math.round(a(c.width-v.width,d.x*c.width/100)),y:Math.round(a(c.height-v.height,d.y*c.height/100))});return{croppedAreaPercentages:d,croppedAreaPixels:S}}function KX(e,t){return Math.min(e,Math.max(0,t))}function YX(e,t){return t}function XX(e,t,n,r,i,s){var o=Na(t.width,t.height,n),a=Lp(r.width/o.width*(100/e.width),i,s),l={x:a*o.width/2-r.width/2-o.width*a*(e.x/100),y:a*o.height/2-r.height/2-o.height*a*(e.y/100)};return{crop:l,zoom:a}}function JX(e,t,n){var r=qX(t);return n.height>n.width?n.height/(e.height*r):n.width/(e.width*r)}function QX(e,t,n,r,i,s){n===void 0&&(n=0);var o=Na(t.naturalWidth,t.naturalHeight,n),a=Lp(JX(e,t,r),i,s),l=r.height>r.width?r.height/e.height:r.width/e.width,c={x:((o.width-e.width)/2-e.x)*l,y:((o.height-e.height)/2-e.y)*l};return{crop:c,zoom:a}}function eT(e,t){return{x:(t.x+e.x)/2,y:(t.y+e.y)/2}}function ZX(e){return e*Math.PI/180}function Na(e,t,n){var r=ZX(n);return{width:Math.abs(Math.cos(r)*e)+Math.abs(Math.sin(r)*t),height:Math.abs(Math.sin(r)*e)+Math.abs(Math.cos(r)*t)}}function Lp(e,t,n){return Math.min(Math.max(e,t),n)}function Ad(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return e.filter(function(n){return typeof n=="string"&&n.length>0}).join(" ").trim()}var eJ=`.reactEasyCrop_Container {
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  overflow: hidden;
  user-select: none;
  touch-action: none;
  cursor: move;
  display: flex;
  justify-content: center;
  align-items: center;
}

.reactEasyCrop_Image,
.reactEasyCrop_Video {
  will-change: transform; /* this improves performances and prevent painting issues on iOS Chrome */
}

.reactEasyCrop_Contain {
  max-width: 100%;
  max-height: 100%;
  margin: auto;
  position: absolute;
  top: 0;
  bottom: 0;
  left: 0;
  right: 0;
}
.reactEasyCrop_Cover_Horizontal {
  width: 100%;
  height: auto;
}
.reactEasyCrop_Cover_Vertical {
  width: auto;
  height: 100%;
}

.reactEasyCrop_CropArea {
  position: absolute;
  left: 50%;
  top: 50%;
  transform: translate(-50%, -50%);
  border: 1px solid rgba(255, 255, 255, 0.5);
  box-sizing: border-box;
  box-shadow: 0 0 0 9999em;
  color: rgba(0, 0, 0, 0.5);
  overflow: hidden;
}

.reactEasyCrop_CropAreaRound {
  border-radius: 50%;
}

.reactEasyCrop_CropAreaGrid::before {
  content: ' ';
  box-sizing: border-box;
  position: absolute;
  border: 1px solid rgba(255, 255, 255, 0.5);
  top: 0;
  bottom: 0;
  left: 33.33%;
  right: 33.33%;
  border-top: 0;
  border-bottom: 0;
}

.reactEasyCrop_CropAreaGrid::after {
  content: ' ';
  box-sizing: border-box;
  position: absolute;
  border: 1px solid rgba(255, 255, 255, 0.5);
  top: 33.33%;
  bottom: 33.33%;
  left: 0;
  right: 0;
  border-left: 0;
  border-right: 0;
}
`,tJ=1,nJ=3,rJ=1,iJ=function(e){j3(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.cropperRef=w.createRef(),n.imageRef=w.createRef(),n.videoRef=w.createRef(),n.containerPosition={x:0,y:0},n.containerRef=null,n.styleRef=null,n.containerRect=null,n.mediaSize={width:0,height:0,naturalWidth:0,naturalHeight:0},n.dragStartPosition={x:0,y:0},n.dragStartCrop={x:0,y:0},n.gestureZoomStart=0,n.gestureRotationStart=0,n.isTouching=!1,n.lastPinchDistance=0,n.lastPinchRotation=0,n.rafDragTimeout=null,n.rafPinchTimeout=null,n.wheelTimer=null,n.currentDoc=typeof document<"u"?document:null,n.currentWindow=typeof window<"u"?window:null,n.resizeObserver=null,n.state={cropSize:null,hasWheelJustStarted:!1,mediaObjectFit:void 0},n.initResizeObserver=function(){if(!(typeof window.ResizeObserver>"u"||!n.containerRef)){var r=!0;n.resizeObserver=new window.ResizeObserver(function(i){if(r){r=!1;return}n.computeSizes()}),n.resizeObserver.observe(n.containerRef)}},n.preventZoomSafari=function(r){return r.preventDefault()},n.cleanEvents=function(){n.currentDoc&&(n.currentDoc.removeEventListener("mousemove",n.onMouseMove),n.currentDoc.removeEventListener("mouseup",n.onDragStopped),n.currentDoc.removeEventListener("touchmove",n.onTouchMove),n.currentDoc.removeEventListener("touchend",n.onDragStopped),n.currentDoc.removeEventListener("gesturemove",n.onGestureMove),n.currentDoc.removeEventListener("gestureend",n.onGestureEnd),n.currentDoc.removeEventListener("scroll",n.onScroll))},n.clearScrollEvent=function(){n.containerRef&&n.containerRef.removeEventListener("wheel",n.onWheel),n.wheelTimer&&clearTimeout(n.wheelTimer)},n.onMediaLoad=function(){var r=n.computeSizes();r&&(n.emitCropData(),n.setInitialCrop(r)),n.props.onMediaLoaded&&n.props.onMediaLoaded(n.mediaSize)},n.setInitialCrop=function(r){if(n.props.initialCroppedAreaPercentages){var i=XX(n.props.initialCroppedAreaPercentages,n.mediaSize,n.props.rotation,r,n.props.minZoom,n.props.maxZoom),s=i.crop,o=i.zoom;n.props.onCropChange(s),n.props.onZoomChange&&n.props.onZoomChange(o)}else if(n.props.initialCroppedAreaPixels){var a=QX(n.props.initialCroppedAreaPixels,n.mediaSize,n.props.rotation,r,n.props.minZoom,n.props.maxZoom),s=a.crop,o=a.zoom;n.props.onCropChange(s),n.props.onZoomChange&&n.props.onZoomChange(o)}},n.computeSizes=function(){var r,i,s,o,a,l,c=n.imageRef.current||n.videoRef.current;if(c&&n.containerRef){n.containerRect=n.containerRef.getBoundingClientRect(),n.saveContainerPosition();var d=n.containerRect.width/n.containerRect.height,h=((r=n.imageRef.current)===null||r===void 0?void 0:r.naturalWidth)||((i=n.videoRef.current)===null||i===void 0?void 0:i.videoWidth)||0,f=((s=n.imageRef.current)===null||s===void 0?void 0:s.naturalHeight)||((o=n.videoRef.current)===null||o===void 0?void 0:o.videoHeight)||0,g=c.offsetWidth<h||c.offsetHeight<f,v=h/f,S=void 0;if(g)switch(n.state.mediaObjectFit){default:case"contain":S=d>v?{width:n.containerRect.height*v,height:n.containerRect.height}:{width:n.containerRect.width,height:n.containerRect.width/v};break;case"horizontal-cover":S={width:n.containerRect.width,height:n.containerRect.width/v};break;case"vertical-cover":S={width:n.containerRect.height*v,height:n.containerRect.height};break}else S={width:c.offsetWidth,height:c.offsetHeight};n.mediaSize=ut(ut({},S),{naturalWidth:h,naturalHeight:f}),n.props.setMediaSize&&n.props.setMediaSize(n.mediaSize);var k=n.props.cropSize?n.props.cropSize:HX(n.mediaSize.width,n.mediaSize.height,n.containerRect.width,n.containerRect.height,n.props.aspect,n.props.rotation);return(((a=n.state.cropSize)===null||a===void 0?void 0:a.height)!==k.height||((l=n.state.cropSize)===null||l===void 0?void 0:l.width)!==k.width)&&n.props.onCropSizeChange&&n.props.onCropSizeChange(k),n.setState({cropSize:k},n.recomputeCropPosition),n.props.setCropSize&&n.props.setCropSize(k),k}},n.saveContainerPosition=function(){if(n.containerRef){var r=n.containerRef.getBoundingClientRect();n.containerPosition={x:r.left,y:r.top}}},n.onMouseDown=function(r){n.currentDoc&&(r.preventDefault(),n.currentDoc.addEventListener("mousemove",n.onMouseMove),n.currentDoc.addEventListener("mouseup",n.onDragStopped),n.saveContainerPosition(),n.onDragStart(t.getMousePoint(r)))},n.onMouseMove=function(r){return n.onDrag(t.getMousePoint(r))},n.onScroll=function(r){n.currentDoc&&(r.preventDefault(),n.saveContainerPosition())},n.onTouchStart=function(r){n.currentDoc&&(n.isTouching=!0,!(n.props.onTouchRequest&&!n.props.onTouchRequest(r))&&(n.currentDoc.addEventListener("touchmove",n.onTouchMove,{passive:!1}),n.currentDoc.addEventListener("touchend",n.onDragStopped),n.saveContainerPosition(),r.touches.length===2?n.onPinchStart(r):r.touches.length===1&&n.onDragStart(t.getTouchPoint(r.touches[0]))))},n.onTouchMove=function(r){r.preventDefault(),r.touches.length===2?n.onPinchMove(r):r.touches.length===1&&n.onDrag(t.getTouchPoint(r.touches[0]))},n.onGestureStart=function(r){n.currentDoc&&(r.preventDefault(),n.currentDoc.addEventListener("gesturechange",n.onGestureMove),n.currentDoc.addEventListener("gestureend",n.onGestureEnd),n.gestureZoomStart=n.props.zoom,n.gestureRotationStart=n.props.rotation)},n.onGestureMove=function(r){if(r.preventDefault(),!n.isTouching){var i=t.getMousePoint(r),s=n.gestureZoomStart-1+r.scale;if(n.setNewZoom(s,i,{shouldUpdatePosition:!0}),n.props.onRotationChange){var o=n.gestureRotationStart+r.rotation;n.props.onRotationChange(o)}}},n.onGestureEnd=function(r){n.cleanEvents()},n.onDragStart=function(r){var i,s,o=r.x,a=r.y;n.dragStartPosition={x:o,y:a},n.dragStartCrop=ut({},n.props.crop),(s=(i=n.props).onInteractionStart)===null||s===void 0||s.call(i)},n.onDrag=function(r){var i=r.x,s=r.y;n.currentWindow&&(n.rafDragTimeout&&n.currentWindow.cancelAnimationFrame(n.rafDragTimeout),n.rafDragTimeout=n.currentWindow.requestAnimationFrame(function(){if(n.state.cropSize&&!(i===void 0||s===void 0)){var o=i-n.dragStartPosition.x,a=s-n.dragStartPosition.y,l={x:n.dragStartCrop.x+o,y:n.dragStartCrop.y+a},c=n.props.restrictPosition?kl(l,n.mediaSize,n.state.cropSize,n.props.zoom,n.props.rotation):l;n.props.onCropChange(c)}}))},n.onDragStopped=function(){var r,i;n.isTouching=!1,n.cleanEvents(),n.emitCropData(),(i=(r=n.props).onInteractionEnd)===null||i===void 0||i.call(r)},n.onWheel=function(r){if(n.currentWindow&&!(n.props.onWheelRequest&&!n.props.onWheelRequest(r))){r.preventDefault();var i=t.getMousePoint(r),s=WX(r).pixelY,o=n.props.zoom-s*n.props.zoomSpeed/200;n.setNewZoom(o,i,{shouldUpdatePosition:!0}),n.state.hasWheelJustStarted||n.setState({hasWheelJustStarted:!0},function(){var a,l;return(l=(a=n.props).onInteractionStart)===null||l===void 0?void 0:l.call(a)}),n.wheelTimer&&clearTimeout(n.wheelTimer),n.wheelTimer=n.currentWindow.setTimeout(function(){return n.setState({hasWheelJustStarted:!1},function(){var a,l;return(l=(a=n.props).onInteractionEnd)===null||l===void 0?void 0:l.call(a)})},250)}},n.getPointOnContainer=function(r,i){var s=r.x,o=r.y;if(!n.containerRect)throw new Error("The Cropper is not mounted");return{x:n.containerRect.width/2-(s-i.x),y:n.containerRect.height/2-(o-i.y)}},n.getPointOnMedia=function(r){var i=r.x,s=r.y,o=n.props,a=o.crop,l=o.zoom;return{x:(i+a.x)/l,y:(s+a.y)/l}},n.setNewZoom=function(r,i,s){var o=s===void 0?{}:s,a=o.shouldUpdatePosition,l=a===void 0?!0:a;if(!(!n.state.cropSize||!n.props.onZoomChange)){var c=Lp(r,n.props.minZoom,n.props.maxZoom);if(l){var d=n.getPointOnContainer(i,n.containerPosition),h=n.getPointOnMedia(d),f={x:h.x*c-d.x,y:h.y*c-d.y},g=n.props.restrictPosition?kl(f,n.mediaSize,n.state.cropSize,c,n.props.rotation):f;n.props.onCropChange(g)}n.props.onZoomChange(c)}},n.getCropData=function(){if(!n.state.cropSize)return null;var r=n.props.restrictPosition?kl(n.props.crop,n.mediaSize,n.state.cropSize,n.props.zoom,n.props.rotation):n.props.crop;return GX(r,n.mediaSize,n.state.cropSize,n.getAspect(),n.props.zoom,n.props.rotation,n.props.restrictPosition)},n.emitCropData=function(){var r=n.getCropData();if(r){var i=r.croppedAreaPercentages,s=r.croppedAreaPixels;n.props.onCropComplete&&n.props.onCropComplete(i,s),n.props.onCropAreaChange&&n.props.onCropAreaChange(i,s)}},n.emitCropAreaChange=function(){var r=n.getCropData();if(r){var i=r.croppedAreaPercentages,s=r.croppedAreaPixels;n.props.onCropAreaChange&&n.props.onCropAreaChange(i,s)}},n.recomputeCropPosition=function(){if(n.state.cropSize){var r=n.props.restrictPosition?kl(n.props.crop,n.mediaSize,n.state.cropSize,n.props.zoom,n.props.rotation):n.props.crop;n.props.onCropChange(r),n.emitCropData()}},n.onKeyDown=function(r){var i,s,o=n.props,a=o.crop,l=o.onCropChange,c=o.keyboardStep,d=o.zoom,h=o.rotation,f=c;if(n.state.cropSize){r.shiftKey&&(f*=.2);var g=ut({},a);switch(r.key){case"ArrowUp":g.y-=f,r.preventDefault();break;case"ArrowDown":g.y+=f,r.preventDefault();break;case"ArrowLeft":g.x-=f,r.preventDefault();break;case"ArrowRight":g.x+=f,r.preventDefault();break;default:return}n.props.restrictPosition&&(g=kl(g,n.mediaSize,n.state.cropSize,d,h)),r.repeat||(s=(i=n.props).onInteractionStart)===null||s===void 0||s.call(i),l(g)}},n.onKeyUp=function(r){var i,s;switch(r.key){case"ArrowUp":case"ArrowDown":case"ArrowLeft":case"ArrowRight":r.preventDefault();break;default:return}n.emitCropData(),(s=(i=n.props).onInteractionEnd)===null||s===void 0||s.call(i)},n}return t.prototype.componentDidMount=function(){!this.currentDoc||!this.currentWindow||(this.containerRef&&(this.containerRef.ownerDocument&&(this.currentDoc=this.containerRef.ownerDocument),this.currentDoc.defaultView&&(this.currentWindow=this.currentDoc.defaultView),this.initResizeObserver(),typeof window.ResizeObserver>"u"&&this.currentWindow.addEventListener("resize",this.computeSizes),this.props.zoomWithScroll&&this.containerRef.addEventListener("wheel",this.onWheel,{passive:!1}),this.containerRef.addEventListener("gesturestart",this.onGestureStart)),this.currentDoc.addEventListener("scroll",this.onScroll),this.props.disableAutomaticStylesInjection||(this.styleRef=this.currentDoc.createElement("style"),this.styleRef.setAttribute("type","text/css"),this.props.nonce&&this.styleRef.setAttribute("nonce",this.props.nonce),this.styleRef.innerHTML=eJ,this.currentDoc.head.appendChild(this.styleRef)),this.imageRef.current&&this.imageRef.current.complete&&this.onMediaLoad(),this.props.setImageRef&&this.props.setImageRef(this.imageRef),this.props.setVideoRef&&this.props.setVideoRef(this.videoRef),this.props.setCropperRef&&this.props.setCropperRef(this.cropperRef))},t.prototype.componentWillUnmount=function(){var n,r;!this.currentDoc||!this.currentWindow||(typeof window.ResizeObserver>"u"&&this.currentWindow.removeEventListener("resize",this.computeSizes),(n=this.resizeObserver)===null||n===void 0||n.disconnect(),this.containerRef&&this.containerRef.removeEventListener("gesturestart",this.preventZoomSafari),this.styleRef&&((r=this.styleRef.parentNode)===null||r===void 0||r.removeChild(this.styleRef)),this.cleanEvents(),this.props.zoomWithScroll&&this.clearScrollEvent())},t.prototype.componentDidUpdate=function(n){var r,i,s,o,a,l,c,d,h;n.rotation!==this.props.rotation?(this.computeSizes(),this.recomputeCropPosition()):n.aspect!==this.props.aspect?this.computeSizes():n.objectFit!==this.props.objectFit?this.computeSizes():n.zoom!==this.props.zoom?this.recomputeCropPosition():((r=n.cropSize)===null||r===void 0?void 0:r.height)!==((i=this.props.cropSize)===null||i===void 0?void 0:i.height)||((s=n.cropSize)===null||s===void 0?void 0:s.width)!==((o=this.props.cropSize)===null||o===void 0?void 0:o.width)?this.computeSizes():(((a=n.crop)===null||a===void 0?void 0:a.x)!==((l=this.props.crop)===null||l===void 0?void 0:l.x)||((c=n.crop)===null||c===void 0?void 0:c.y)!==((d=this.props.crop)===null||d===void 0?void 0:d.y))&&this.emitCropAreaChange(),n.zoomWithScroll!==this.props.zoomWithScroll&&this.containerRef&&(this.props.zoomWithScroll?this.containerRef.addEventListener("wheel",this.onWheel,{passive:!1}):this.clearScrollEvent()),n.video!==this.props.video&&((h=this.videoRef.current)===null||h===void 0||h.load());var f=this.getObjectFit();f!==this.state.mediaObjectFit&&this.setState({mediaObjectFit:f},this.computeSizes)},t.prototype.getAspect=function(){var n=this.props,r=n.cropSize,i=n.aspect;return r?r.width/r.height:i},t.prototype.getObjectFit=function(){var n,r,i,s;if(this.props.objectFit==="cover"){var o=this.imageRef.current||this.videoRef.current;if(o&&this.containerRef){this.containerRect=this.containerRef.getBoundingClientRect();var a=this.containerRect.width/this.containerRect.height,l=((n=this.imageRef.current)===null||n===void 0?void 0:n.naturalWidth)||((r=this.videoRef.current)===null||r===void 0?void 0:r.videoWidth)||0,c=((i=this.imageRef.current)===null||i===void 0?void 0:i.naturalHeight)||((s=this.videoRef.current)===null||s===void 0?void 0:s.videoHeight)||0,d=l/c;return d<a?"horizontal-cover":"vertical-cover"}return"horizontal-cover"}return this.props.objectFit},t.prototype.onPinchStart=function(n){var r=t.getTouchPoint(n.touches[0]),i=t.getTouchPoint(n.touches[1]);this.lastPinchDistance=QS(r,i),this.lastPinchRotation=ZS(r,i),this.onDragStart(eT(r,i))},t.prototype.onPinchMove=function(n){var r=this;if(!(!this.currentDoc||!this.currentWindow)){var i=t.getTouchPoint(n.touches[0]),s=t.getTouchPoint(n.touches[1]),o=eT(i,s);this.onDrag(o),this.rafPinchTimeout&&this.currentWindow.cancelAnimationFrame(this.rafPinchTimeout),this.rafPinchTimeout=this.currentWindow.requestAnimationFrame(function(){var a=QS(i,s),l=r.props.zoom*(a/r.lastPinchDistance);r.setNewZoom(l,o,{shouldUpdatePosition:!1}),r.lastPinchDistance=a;var c=ZS(i,s),d=r.props.rotation+(c-r.lastPinchRotation);r.props.onRotationChange&&r.props.onRotationChange(d),r.lastPinchRotation=c})}},t.prototype.render=function(){var n=this,r,i=this.props,s=i.image,o=i.video,a=i.mediaProps,l=i.cropperProps,c=i.transform,d=i.crop,h=d.x,f=d.y,g=i.rotation,v=i.zoom,S=i.cropShape,k=i.showGrid,_=i.style,b=_.containerStyle,E=_.cropAreaStyle,R=_.mediaStyle,D=i.classes,M=D.containerClassName,T=D.cropAreaClassName,C=D.mediaClassName,I=(r=this.state.mediaObjectFit)!==null&&r!==void 0?r:this.getObjectFit();return w.createElement("div",{onMouseDown:this.onMouseDown,onTouchStart:this.onTouchStart,ref:function(N){return n.containerRef=N},"data-testid":"container",style:b,className:Ad("reactEasyCrop_Container",M)},s?w.createElement("img",ut({alt:"",className:Ad("reactEasyCrop_Image",I==="contain"&&"reactEasyCrop_Contain",I==="horizontal-cover"&&"reactEasyCrop_Cover_Horizontal",I==="vertical-cover"&&"reactEasyCrop_Cover_Vertical",C)},a,{src:s,ref:this.imageRef,style:ut(ut({},R),{transform:c||"translate(".concat(h,"px, ").concat(f,"px) rotate(").concat(g,"deg) scale(").concat(v,")")}),onLoad:this.onMediaLoad})):o&&w.createElement("video",ut({autoPlay:!0,playsInline:!0,loop:!0,muted:!0,className:Ad("reactEasyCrop_Video",I==="contain"&&"reactEasyCrop_Contain",I==="horizontal-cover"&&"reactEasyCrop_Cover_Horizontal",I==="vertical-cover"&&"reactEasyCrop_Cover_Vertical",C)},a,{ref:this.videoRef,onLoadedMetadata:this.onMediaLoad,style:ut(ut({},R),{transform:c||"translate(".concat(h,"px, ").concat(f,"px) rotate(").concat(g,"deg) scale(").concat(v,")")}),controls:!1}),(Array.isArray(o)?o:[{src:o}]).map(function(y){return w.createElement("source",ut({key:y.src},y))})),this.state.cropSize&&w.createElement("div",ut({ref:this.cropperRef,style:ut(ut({},E),{width:this.state.cropSize.width,height:this.state.cropSize.height}),tabIndex:0,onKeyDown:this.onKeyDown,onKeyUp:this.onKeyUp,"data-testid":"cropper",className:Ad("reactEasyCrop_CropArea",S==="round"&&"reactEasyCrop_CropAreaRound",k&&"reactEasyCrop_CropAreaGrid",T)},l)))},t.defaultProps={zoom:1,rotation:0,aspect:4/3,maxZoom:nJ,minZoom:tJ,cropShape:"rect",objectFit:"contain",showGrid:!0,style:{},classes:{},mediaProps:{},cropperProps:{},zoomSpeed:1,restrictPosition:!0,zoomWithScroll:!0,keyboardStep:rJ},t.getMousePoint=function(n){return{x:Number(n.clientX),y:Number(n.clientY)}},t.getTouchPoint=function(n){return{x:Number(n.clientX),y:Number(n.clientY)}},t}(w.Component);const sJ=e=>new Promise((t,n)=>{const r=new Image;r.addEventListener("load",()=>t(r)),r.addEventListener("error",i=>n(i)),r.setAttribute("crossOrigin","anonymous"),r.src=e});async function oJ(e,t){const n=await sJ(e),r=document.createElement("canvas"),i=r.getContext("2d");return r.width=t.width,r.height=t.height,i.drawImage(n,t.x,t.y,t.width,t.height,0,0,t.width,t.height),r}function aJ({open:e,onClose:t,usuario:n,onUploadSuccess:r}){const[i,s]=w.useState(null),[o,a]=w.useState({x:0,y:0}),[l,c]=w.useState(1),[d,h]=w.useState(null),[f,g]=w.useState(!1),v=w.useCallback((_,b)=>{h(b)},[]),S=_=>{if(_.target.files&&_.target.files.length>0){const b=_.target.files[0],E=new FileReader;E.onload=()=>{s(E.result)},E.readAsDataURL(b)}},k=async()=>{g(!0);const b=(await oJ(i,d)).toDataURL("image/jpeg");localStorage.setItem(`fotoPerfil_${n.uid}`,b),r(b),g(!1),t()};return m.jsx(iD,{open:e,onClose:t,children:m.jsxs(sD,{className:"bg-white rounded-lg p-4 shadow-lg w-full max-w-md mx-auto mt-32 max-h-[90vh] overflow-hidden",children:[m.jsx("h2",{className:"text-lg font-bold mb-4 text-center",children:"Editar Foto de Perfil"}),i?m.jsx("div",{className:"relative w-full h-[300px] bg-black",children:m.jsx(iJ,{image:i,crop:o,zoom:l,aspect:1,onCropChange:a,onZoomChange:c,onCropComplete:v})}):m.jsx("input",{type:"file",accept:"image/*",onChange:S}),m.jsxs("div",{className:"flex justify-end mt-4 gap-2",children:[m.jsx("button",{onClick:t,className:"px-4 py-2 bg-gray-300 rounded hover:bg-gray-400",children:"Cancelar"}),i&&m.jsx("button",{onClick:k,disabled:f,className:"px-4 py-2 bg-green-600 text-white rounded hover:bg-green-700",children:f?"Subiendo...":"Guardar"})]})]})})}function lJ(){const{user:e}=mo(),[t,n]=w.useState(null),[r,i]=w.useState(!1),[s,o]=w.useState(""),[a,l]=w.useState(""),[c,d]=w.useState(!1),[h,f]=w.useState(!1),[g,v]=w.useState(!1),S=$n(),k=(R,D)=>((R==null?void 0:R.charAt(0).toUpperCase())||"")+((D==null?void 0:D.charAt(0).toUpperCase())||"");w.useEffect(()=>{if(e){const R=ee(te,`usuarios/${e.uid}`);ar(R).then(async D=>{const M=e.displayName||"",T=M.split(" ")[0]||"",C=M.split(" ")[1]||"",I=e.photoURL||null,N=localStorage.getItem(`fotoPerfil_${e.uid}`)||I||D.exists()&&D.val().foto||null,O={nombre:T,apellido:C,correo:e.email,rol:"usuario",iniciales:k(T,C),foto:N},A=!T||!C;if(d(A),i(A),o(T),l(C),!D.exists())await Ze(R,O),n(O);else{const V=D.val(),U={};V.nombre||(U.nombre=T),V.apellido||(U.apellido=C),!V.foto&&N&&(U.foto=N),Object.keys(U).length>0?(await Gc(R,U),n({...V,...U,foto:N})):n({...V,foto:N}),o(V.nombre||T),l(V.apellido||C)}})}},[e]);const _=async()=>{if(!e)return;const R=ee(te,`usuarios/${e.uid}`),D={nombre:s,apellido:a,iniciales:k(s,a)};await Gc(R,D),i(!1),d(!1),alert("Datos actualizados correctamente")},b=async()=>{await tP(Oi),S("/login")},E=R=>{n(D=>({...D,foto:R}))};return t?m.jsxs("div",{className:"min-h-screen bg-cover bg-center text-white font-qatar",style:{backgroundImage:"url('/EmproChampions-2025/img/fondoempro-horizontal.png')"},children:[m.jsx(ur,{}),m.jsx("div",{className:"flex items-center justify-center px-4 py-10",children:m.jsxs("div",{className:"bg-white/90 rounded-2xl shadow-lg p-8 w-full max-w-md text-center text-black",children:[m.jsx("h1",{className:"text-3xl font-bold text-[#7a0026] mb-6",children:"Configuracin de Cuenta"}),c&&m.jsx("div",{className:"mb-4 text-red-700 font-semibold",children:"Tu cuenta no tiene nombre ni foto. Por favor completa tu perfil "}),m.jsxs("div",{className:"mb-4 relative w-24 h-24 mx-auto",children:[t.foto?m.jsx("img",{src:t.foto,alt:"Foto de perfil",className:"w-24 h-24 rounded-full object-cover"}):m.jsx("div",{className:"w-24 h-24 rounded-full bg-[#7a0026] text-white text-3xl flex items-center justify-center",children:k(s,a)||"U"}),m.jsx("button",{type:"button",onClick:()=>v(!0),className:"absolute bottom-0 right-0 bg-yellow-400 text-black rounded-full p-1 shadow-md hover:bg-yellow-500","aria-label":"Editar foto de perfil",children:""})]}),m.jsxs("div",{className:"space-y-4 text-left",children:[m.jsx("input",{type:"text",placeholder:"Nombre",value:s,onChange:R=>o(R.target.value),className:"w-full px-4 py-2 border border-[#7a0026] rounded-md",disabled:!r}),m.jsx("input",{type:"text",placeholder:"Apellido",value:a,onChange:R=>l(R.target.value),className:"w-full px-4 py-2 border border-[#7a0026] rounded-md",disabled:!r}),m.jsxs("p",{className:"text-gray-700 font-sans text-sm break-all",children:["Correo: ",t.correo]})]}),m.jsxs("div",{className:"mt-6",children:[r?m.jsx("button",{onClick:_,className:"w-full bg-[#FFD700] text-[#7a0026] font-bold py-2 rounded-md hover:bg-yellow-400 transition",children:"Guardar Cambios"}):m.jsx("button",{onClick:()=>i(!0),className:"w-full bg-blue-600 text-white font-bold py-2 rounded-md hover:bg-blue-700 transition",children:"Editar"}),m.jsx("button",{onClick:()=>f(!0),className:"mt-4 w-full bg-red-600 text-white font-bold py-2 rounded-md hover:bg-red-700 transition",children:"Cerrar sesin"})]})]})}),m.jsx(iD,{open:h,onClose:()=>f(!1),children:m.jsxs(sD,{sx:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:400,bgcolor:"background.paper",border:"2px solid #000",boxShadow:24,p:4,textAlign:"center"},children:[m.jsx("h2",{className:"text-xl font-bold mb-4 text-black",children:"Cerrar sesin?"}),m.jsxs("div",{className:"flex justify-center gap-4",children:[m.jsx("button",{className:"bg-gray-300 px-4 py-2 rounded hover:bg-gray-400",onClick:()=>f(!1),children:"Cancelar"}),m.jsx("button",{className:"bg-red-600 text-white px-4 py-2 rounded hover:bg-red-700",onClick:b,children:"Confirmar"})]})]})}),m.jsx(aJ,{open:g,onClose:()=>v(!1),usuario:e,onUploadSuccess:E}),m.jsx(dr,{})]}):m.jsx("div",{className:"text-white text-center mt-10",children:"Cargando..."})}function cJ(){var f,g,v,S;const{partidoId:e}=Gv(),t=$n(),[n,r]=w.useState(null),[i,s]=w.useState([]),[o,a]=w.useState(!0),[l,c]=w.useState(!1);w.useEffect(()=>{if(!e){t("/");return}const k=ee(te,`partidos/${e}`),_=Et(k,b=>{var E;if(b.exists()){const R=b.val();r(R);const D=(E=R.eventos)!=null&&E.goles?Object.entries(R.eventos.goles).map(([M,T])=>({id:M,...T})):[];s(D)}else t("/historial");a(!1)});return()=>Kc(k,"value",_)},[e,t]);const d=k=>{window.confirm("Ests seguro de que quieres eliminar este gol?")&&(s(_=>_.filter(b=>b.id!==k)),alert("Gol eliminado de la lista de edicin. Recuerda guardar los cambios para que sea permanente."))},h=w.useCallback(async()=>{var k,_;if(!((k=n==null?void 0:n.alineacion)!=null&&k.equipo1)||!((_=n==null?void 0:n.alineacion)!=null&&_.equipo2)){alert("Error: Faltan datos de alineacin en este partido. No se pueden recalcular las estadsticas."),c(!1);return}if(!l){c(!0),alert("Procesando... Esto puede tardar unos segundos. Por favor, espera.");try{const b=n.alineacion.genero,E=n.alineacion.equipo1,R=n.alineacion.equipo2,D=(await ar(ee(te,`historial/${b}/${e}`))).val();let T=(await ar(ee(te,`tablas/${b}`))).val()||{};if(D){const{equipo1:V,equipo2:U,goles1:q,goles2:G}=D,F=(K,X,ae,ie)=>{if(!T[K])return;let H={...T[K]};H.pj-=1,H.gf-=X,H.gc-=ae,ie==="victoria"?(H.pg-=1,H.puntos-=3):ie==="empate"?(H.pe-=1,H.puntos-=1):H.pp-=1,T[K]=H};q>G?(F(V,q,G,"victoria"),F(U,G,q,"derrota")):G>q?(F(V,q,G,"derrota"),F(U,G,q,"victoria")):(F(V,q,G,"empate"),F(U,G,q,"empate"))}const C={equipo1:0,equipo2:0};i.forEach(V=>{V.equipo==="equipo1"&&C.equipo1++,V.equipo==="equipo2"&&C.equipo2++});const I=(V,U,q,G)=>{if(!(V!=null&&V.nombre))return;let F=T[V.nombre]||{pj:0,pg:0,pe:0,pp:0,gf:0,gc:0,puntos:0,logo:V.logo};F.pj=(F.pj||0)+1,F.gf=(F.gf||0)+U,F.gc=(F.gc||0)+q,G==="victoria"?(F.pg=(F.pg||0)+1,F.puntos=(F.puntos||0)+3):G==="empate"?(F.pe=(F.pe||0)+1,F.puntos=(F.puntos||0)+1):F.pp=(F.pp||0)+1,T[V.nombre]=F};C.equipo1>C.equipo2?(I(E,C.equipo1,C.equipo2,"victoria"),I(R,C.equipo2,C.equipo1,"derrota")):C.equipo2>C.equipo1?(I(E,C.equipo1,C.equipo2,"derrota"),I(R,C.equipo2,C.equipo1,"victoria")):(I(E,C.equipo1,C.equipo2,"empate"),I(R,C.equipo2,C.equipo1,"empate"));const y={},N=i.reduce((V,U)=>({...V,[U.id]:{equipo:U.equipo,jugador:U.jugador,minuto:U.minuto,tipo:U.tipo}}),{});y[`/partidos/${e}/eventos/goles`]=N,y[`/partidos/${e}/resultado/marcador`]=C,y[`/historial/${b}/${e}/goles1`]=C.equipo1,y[`/historial/${b}/${e}/goles2`]=C.equipo2,y[`/tablas/${b}`]=T;let A=(await ar(ee(te,`goleadoresDetalles/${b}`))).val()||{};Object.keys(A).forEach(V=>{A[V]=A[V].filter(U=>U.partidoId!==e),A[V].length===0&&delete A[V]}),i.forEach(V=>{const U=V.jugador.replace(/[.#$[\]]/g,"_");A[U]||(A[U]=[]),A[U].push({idDelGol:V.id,minuto:V.minuto,partidoId:e,partidoNombre:`${E.nombre} vs ${R.nombre}`,fecha:(D==null?void 0:D.fecha)||new Date().toLocaleDateString("es-HN"),equipo:V.equipo==="equipo1"?E.nombre:R.nombre,logo:V.equipo==="equipo1"?E.logo:R.logo,jugador:V.jugador})}),y[`/goleadoresDetalles/${b}`]=A,await Gc(ee(te),y),alert("xito! Todas las tablas han sido recalculadas y actualizadas."),t("/historial")}catch(b){console.error("Error al guardar los cambios:",b),alert(`Hubo un error al guardar: ${b.message}`)}finally{c(!1)}}},[n,i,e,t,l]);return o?m.jsx("div",{className:"w-full min-h-screen bg-main-background text-white flex justify-center items-center",children:"Cargando datos..."}):m.jsxs("div",{className:"w-full min-h-screen bg-main-background text-white font-qatar flex flex-col",children:[m.jsx(ur,{}),m.jsxs("div",{className:"container mx-auto px-4 py-8 flex-grow",children:[m.jsx("h1",{className:"text-4xl md:text-5xl font-bold text-center text-yellow-400 drop-shadow-lg mb-2",children:"Editar Partido"}),m.jsxs("p",{className:"text-center text-gray-300 mb-8",children:[((g=(f=n.alineacion)==null?void 0:f.equipo1)==null?void 0:g.nombre)||"Equipo 1"," vs ",((S=(v=n.alineacion)==null?void 0:v.equipo2)==null?void 0:S.nombre)||"Equipo 2"]}),m.jsxs("div",{className:"max-w-2xl mx-auto bg-black/50 p-6 rounded-xl",children:[m.jsx("h2",{className:"text-2xl font-bold mb-4 text-yellow-300",children:"Eventos del Partido"}),m.jsx("div",{className:"space-y-3",children:i.length>0?i.map(k=>m.jsxs("div",{className:"flex items-center justify-between bg-gray-800/50 p-3 rounded-lg",children:[m.jsxs("div",{children:[m.jsxs("p",{className:"font-bold",children:[k.jugador," (Gol)"]}),m.jsxs("p",{className:"text-sm opacity-70",children:["Minuto: ",k.minuto]})]}),m.jsx("button",{onClick:()=>d(k.id),className:"bg-red-600 hover:bg-red-500 text-white font-bold py-1 px-3 rounded text-sm",children:"Eliminar"})]},k.id)):m.jsx("p",{children:"No hay goles para editar."})}),m.jsxs("div",{className:"mt-8 pt-6 border-t border-yellow-400/20 flex justify-between items-center",children:[m.jsx("button",{onClick:()=>t("/historial"),className:"bg-gray-500 hover:bg-gray-400 text-white font-bold py-2 px-6 rounded",children:"Cancelar"}),m.jsx("button",{onClick:h,disabled:l,className:"bg-green-600 hover:bg-green-500 text-white font-bold py-2 px-6 rounded disabled:bg-gray-400",children:l?"Guardando...":"Guardar Cambios y Recalcular"})]})]})]}),m.jsx(dr,{})]})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uJ="functions";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dJ{constructor(t,n,r,i){this.app=t,this.auth=null,this.messaging=null,this.appCheck=null,this.serverAppAppCheckToken=null,Ot(t)&&t.settings.appCheckToken&&(this.serverAppAppCheckToken=t.settings.appCheckToken),this.auth=n.getImmediate({optional:!0}),this.messaging=r.getImmediate({optional:!0}),this.auth||n.get().then(s=>this.auth=s,()=>{}),this.messaging||r.get().then(s=>this.messaging=s,()=>{}),this.appCheck||i==null||i.get().then(s=>this.appCheck=s,()=>{})}async getAuthToken(){if(this.auth)try{const t=await this.auth.getToken();return t==null?void 0:t.accessToken}catch{return}}async getMessagingToken(){if(!(!this.messaging||!("Notification"in self)||Notification.permission!=="granted"))try{return await this.messaging.getToken()}catch{return}}async getAppCheckToken(t){if(this.serverAppAppCheckToken)return this.serverAppAppCheckToken;if(this.appCheck){const n=t?await this.appCheck.getLimitedUseToken():await this.appCheck.getToken();return n.error?null:n.token}return null}async getContext(t){const n=await this.getAuthToken(),r=await this.getMessagingToken(),i=await this.getAppCheckToken(t);return{authToken:n,messagingToken:r,appCheckToken:i}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tT="us-central1";class hJ{constructor(t,n,r,i,s=tT,o=(...a)=>fetch(...a)){this.app=t,this.fetchImpl=o,this.emulatorOrigin=null,this.contextProvider=new dJ(t,n,r,i),this.cancelAllRequests=new Promise(a=>{this.deleteService=()=>Promise.resolve(a())});try{const a=new URL(s);this.customDomain=a.origin+(a.pathname==="/"?"":a.pathname),this.region=tT}catch{this.customDomain=null,this.region=s}}_delete(){return this.deleteService()}_url(t){const n=this.app.options.projectId;return this.emulatorOrigin!==null?`${this.emulatorOrigin}/${n}/${this.region}/${t}`:this.customDomain!==null?`${this.customDomain}/${t}`:`https://${this.region}-${n}.cloudfunctions.net/${t}`}}const nT="@firebase/functions",rT="0.12.6";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fJ="auth-internal",pJ="app-check-internal",mJ="messaging-internal";function gJ(e){const t=(n,{instanceIdentifier:r})=>{const i=n.getProvider("app").getImmediate(),s=n.getProvider(fJ),o=n.getProvider(mJ),a=n.getProvider(pJ);return new hJ(i,s,o,a,r)};xn(new cn(uJ,t,"PUBLIC").setMultipleInstances(!0)),mt(nT,rT,e),mt(nT,rT,"esm2017")}gJ();var yJ=Object.defineProperty,vJ=(e,t,n)=>t in e?yJ(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,kg=(e,t,n)=>(vJ(e,typeof t!="symbol"?t+"":t,n),n);let wJ=class{constructor(){kg(this,"current",this.detect()),kg(this,"handoffState","pending"),kg(this,"currentId",0)}set(t){this.current!==t&&(this.handoffState="pending",this.currentId=0,this.current=t)}reset(){this.set(this.detect())}nextId(){return++this.currentId}get isServer(){return this.current==="server"}get isClient(){return this.current==="client"}detect(){return typeof window>"u"||typeof document>"u"?"server":"client"}handoff(){this.handoffState==="pending"&&(this.handoffState="complete")}get isHandoffComplete(){return this.handoffState==="complete"}},qs=new wJ;function jp(e){var t,n;return qs.isServer?null:e?"ownerDocument"in e?e.ownerDocument:"current"in e?(n=(t=e.current)==null?void 0:t.ownerDocument)!=null?n:document:null:document}function Fp(e){typeof queueMicrotask=="function"?queueMicrotask(e):Promise.resolve().then(e).catch(t=>setTimeout(()=>{throw t}))}function vi(){let e=[],t={addEventListener(n,r,i,s){return n.addEventListener(r,i,s),t.add(()=>n.removeEventListener(r,i,s))},requestAnimationFrame(...n){let r=requestAnimationFrame(...n);return t.add(()=>cancelAnimationFrame(r))},nextFrame(...n){return t.requestAnimationFrame(()=>t.requestAnimationFrame(...n))},setTimeout(...n){let r=setTimeout(...n);return t.add(()=>clearTimeout(r))},microTask(...n){let r={current:!0};return Fp(()=>{r.current&&n[0]()}),t.add(()=>{r.current=!1})},style(n,r,i){let s=n.style.getPropertyValue(r);return Object.assign(n.style,{[r]:i}),this.add(()=>{Object.assign(n.style,{[r]:s})})},group(n){let r=vi();return n(r),this.add(()=>r.dispose())},add(n){return e.includes(n)||e.push(n),()=>{let r=e.indexOf(n);if(r>=0)for(let i of e.splice(r,1))i()}},dispose(){for(let n of e.splice(0))n()}};return t}function i1(){let[e]=w.useState(vi);return w.useEffect(()=>()=>e.dispose(),[e]),e}let jt=(e,t)=>{qs.isServer?w.useEffect(e,t):w.useLayoutEffect(e,t)};function go(e){let t=w.useRef(e);return jt(()=>{t.current=e},[e]),t}let Te=function(e){let t=go(e);return Q.useCallback((...n)=>t.current(...n),[t])},_J=w.createContext(void 0);function xJ(){return w.useContext(_J)}function B0(...e){return Array.from(new Set(e.flatMap(t=>typeof t=="string"?t.split(" "):[]))).filter(Boolean).join(" ")}function fi(e,t,...n){if(e in t){let i=t[e];return typeof i=="function"?i(...n):i}let r=new Error(`Tried to handle "${e}" but there is no handler defined. Only defined handlers are: ${Object.keys(t).map(i=>`"${i}"`).join(", ")}.`);throw Error.captureStackTrace&&Error.captureStackTrace(r,fi),r}var Ef=(e=>(e[e.None=0]="None",e[e.RenderStrategy=1]="RenderStrategy",e[e.Static=2]="Static",e))(Ef||{}),$i=(e=>(e[e.Unmount=0]="Unmount",e[e.Hidden=1]="Hidden",e))($i||{});function Bn(){let e=bJ();return w.useCallback(t=>EJ({mergeRefs:e,...t}),[e])}function EJ({ourProps:e,theirProps:t,slot:n,defaultTag:r,features:i,visible:s=!0,name:o,mergeRefs:a}){a=a??CJ;let l=fD(t,e);if(s)return Nd(l,n,r,o,a);let c=i??0;if(c&2){let{static:d=!1,...h}=l;if(d)return Nd(h,n,r,o,a)}if(c&1){let{unmount:d=!0,...h}=l;return fi(d?0:1,{0(){return null},1(){return Nd({...h,hidden:!0,style:{display:"none"}},n,r,o,a)}})}return Nd(l,n,r,o,a)}function Nd(e,t={},n,r,i){let{as:s=n,children:o,refName:a="ref",...l}=Ig(e,["unmount","static"]),c=e.ref!==void 0?{[a]:e.ref}:{},d=typeof o=="function"?o(t):o;"className"in l&&l.className&&typeof l.className=="function"&&(l.className=l.className(t)),l["aria-labelledby"]&&l["aria-labelledby"]===l.id&&(l["aria-labelledby"]=void 0);let h={};if(t){let f=!1,g=[];for(let[v,S]of Object.entries(t))typeof S=="boolean"&&(f=!0),S===!0&&g.push(v.replace(/([A-Z])/g,k=>`-${k.toLowerCase()}`));if(f){h["data-headlessui-state"]=g.join(" ");for(let v of g)h[`data-${v}`]=""}}if(s===w.Fragment&&(Object.keys(Ps(l)).length>0||Object.keys(Ps(h)).length>0))if(!w.isValidElement(d)||Array.isArray(d)&&d.length>1){if(Object.keys(Ps(l)).length>0)throw new Error(['Passing props on "Fragment"!',"",`The current component <${r} /> is rendering a "Fragment".`,"However we need to passthrough the following props:",Object.keys(Ps(l)).concat(Object.keys(Ps(h))).map(f=>`  - ${f}`).join(`
`),"","You can apply a few solutions:",['Add an `as="..."` prop, to ensure that we render an actual element instead of a "Fragment".',"Render a single element as the child so that we can forward the props onto that element."].map(f=>`  - ${f}`).join(`
`)].join(`
`))}else{let f=d.props,g=f==null?void 0:f.className,v=typeof g=="function"?(..._)=>B0(g(..._),l.className):B0(g,l.className),S=v?{className:v}:{},k=fD(d.props,Ps(Ig(l,["ref"])));for(let _ in h)_ in k&&delete h[_];return w.cloneElement(d,Object.assign({},k,h,c,{ref:i(SJ(d),c.ref)},S))}return w.createElement(s,Object.assign({},Ig(l,["ref"]),s!==w.Fragment&&c,s!==w.Fragment&&h),d)}function bJ(){let e=w.useRef([]),t=w.useCallback(n=>{for(let r of e.current)r!=null&&(typeof r=="function"?r(n):r.current=n)},[]);return(...n)=>{if(!n.every(r=>r==null))return e.current=n,t}}function CJ(...e){return e.every(t=>t==null)?void 0:t=>{for(let n of e)n!=null&&(typeof n=="function"?n(t):n.current=t)}}function fD(...e){if(e.length===0)return{};if(e.length===1)return e[0];let t={},n={};for(let r of e)for(let i in r)i.startsWith("on")&&typeof r[i]=="function"?(n[i]!=null||(n[i]=[]),n[i].push(r[i])):t[i]=r[i];if(t.disabled||t["aria-disabled"])for(let r in n)/^(on(?:Click|Pointer|Mouse|Key)(?:Down|Up|Press)?)$/.test(r)&&(n[r]=[i=>{var s;return(s=i==null?void 0:i.preventDefault)==null?void 0:s.call(i)}]);for(let r in n)Object.assign(t,{[r](i,...s){let o=n[r];for(let a of o){if((i instanceof Event||(i==null?void 0:i.nativeEvent)instanceof Event)&&i.defaultPrevented)return;a(i,...s)}}});return t}function dn(e){var t;return Object.assign(w.forwardRef(e),{displayName:(t=e.displayName)!=null?t:e.name})}function Ps(e){let t=Object.assign({},e);for(let n in t)t[n]===void 0&&delete t[n];return t}function Ig(e,t=[]){let n=Object.assign({},e);for(let r of t)r in n&&delete n[r];return n}function SJ(e){return Q.version.split(".")[0]>="19"?e.props.ref:e.ref}let TJ="span";var bf=(e=>(e[e.None=1]="None",e[e.Focusable=2]="Focusable",e[e.Hidden=4]="Hidden",e))(bf||{});function kJ(e,t){var n;let{features:r=1,...i}=e,s={ref:t,"aria-hidden":(r&2)===2?!0:(n=i["aria-hidden"])!=null?n:void 0,hidden:(r&4)===4?!0:void 0,style:{position:"fixed",top:1,left:1,width:1,height:0,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0",...(r&4)===4&&(r&2)!==2&&{display:"none"}}};return Bn()({ourProps:s,theirProps:i,slot:{},defaultTag:TJ,name:"Hidden"})}let z0=dn(kJ);function pD(e){return typeof e!="object"||e===null?!1:"nodeType"in e}function Qi(e){return pD(e)&&"tagName"in e}function ao(e){return Qi(e)&&"accessKey"in e}function Vi(e){return Qi(e)&&"tabIndex"in e}function IJ(e){return Qi(e)&&"style"in e}function PJ(e){return ao(e)&&e.nodeName==="IFRAME"}function RJ(e){return ao(e)&&e.nodeName==="INPUT"}let mD=Symbol();function AJ(e,t=!0){return Object.assign(e,{[mD]:t})}function Lr(...e){let t=w.useRef(e);w.useEffect(()=>{t.current=e},[e]);let n=Te(r=>{for(let i of t.current)i!=null&&(typeof i=="function"?i(r):i.current=r)});return e.every(r=>r==null||(r==null?void 0:r[mD]))?void 0:n}let s1=w.createContext(null);s1.displayName="DescriptionContext";function gD(){let e=w.useContext(s1);if(e===null){let t=new Error("You used a <Description /> component, but it is not inside a relevant parent.");throw Error.captureStackTrace&&Error.captureStackTrace(t,gD),t}return e}function NJ(){let[e,t]=w.useState([]);return[e.length>0?e.join(" "):void 0,w.useMemo(()=>function(n){let r=Te(s=>(t(o=>[...o,s]),()=>t(o=>{let a=o.slice(),l=a.indexOf(s);return l!==-1&&a.splice(l,1),a}))),i=w.useMemo(()=>({register:r,slot:n.slot,name:n.name,props:n.props,value:n.value}),[r,n.slot,n.name,n.props,n.value]);return Q.createElement(s1.Provider,{value:i},n.children)},[t])]}let DJ="p";function OJ(e,t){let n=w.useId(),r=xJ(),{id:i=`headlessui-description-${n}`,...s}=e,o=gD(),a=Lr(t);jt(()=>o.register(i),[i,o.register]);let l=r||!1,c=w.useMemo(()=>({...o.slot,disabled:l}),[o.slot,l]),d={ref:a,...o.props,id:i};return Bn()({ourProps:d,theirProps:s,slot:c,defaultTag:DJ,name:o.name||"Description"})}let MJ=dn(OJ),LJ=Object.assign(MJ,{});var yD=(e=>(e.Space=" ",e.Enter="Enter",e.Escape="Escape",e.Backspace="Backspace",e.Delete="Delete",e.ArrowLeft="ArrowLeft",e.ArrowUp="ArrowUp",e.ArrowRight="ArrowRight",e.ArrowDown="ArrowDown",e.Home="Home",e.End="End",e.PageUp="PageUp",e.PageDown="PageDown",e.Tab="Tab",e))(yD||{});let jJ=w.createContext(()=>{});function FJ({value:e,children:t}){return Q.createElement(jJ.Provider,{value:e},t)}let vD=class extends Map{constructor(t){super(),this.factory=t}get(t){let n=super.get(t);return n===void 0&&(n=this.factory(t),this.set(t,n)),n}};var $J=Object.defineProperty,VJ=(e,t,n)=>t in e?$J(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,UJ=(e,t,n)=>(VJ(e,typeof t!="symbol"?t+"":t,n),n),wD=(e,t,n)=>{if(!t.has(e))throw TypeError("Cannot "+n)},Tn=(e,t,n)=>(wD(e,t,"read from private field"),n?n.call(e):t.get(e)),Pg=(e,t,n)=>{if(t.has(e))throw TypeError("Cannot add the same private member more than once");t instanceof WeakSet?t.add(e):t.set(e,n)},iT=(e,t,n,r)=>(wD(e,t,"write to private field"),r?r.call(e,n):t.set(e,n),n),yr,Fl,$l;let BJ=class{constructor(t){Pg(this,yr,{}),Pg(this,Fl,new vD(()=>new Set)),Pg(this,$l,new Set),UJ(this,"disposables",vi()),iT(this,yr,t)}dispose(){this.disposables.dispose()}get state(){return Tn(this,yr)}subscribe(t,n){let r={selector:t,callback:n,current:t(Tn(this,yr))};return Tn(this,$l).add(r),this.disposables.add(()=>{Tn(this,$l).delete(r)})}on(t,n){return Tn(this,Fl).get(t).add(n),this.disposables.add(()=>{Tn(this,Fl).get(t).delete(n)})}send(t){let n=this.reduce(Tn(this,yr),t);if(n!==Tn(this,yr)){iT(this,yr,n);for(let r of Tn(this,$l)){let i=r.selector(Tn(this,yr));_D(r.current,i)||(r.current=i,r.callback(i))}for(let r of Tn(this,Fl).get(t.type))r(Tn(this,yr),t)}}};yr=new WeakMap,Fl=new WeakMap,$l=new WeakMap;function _D(e,t){return Object.is(e,t)?!0:typeof e!="object"||e===null||typeof t!="object"||t===null?!1:Array.isArray(e)&&Array.isArray(t)?e.length!==t.length?!1:Rg(e[Symbol.iterator](),t[Symbol.iterator]()):e instanceof Map&&t instanceof Map||e instanceof Set&&t instanceof Set?e.size!==t.size?!1:Rg(e.entries(),t.entries()):sT(e)&&sT(t)?Rg(Object.entries(e)[Symbol.iterator](),Object.entries(t)[Symbol.iterator]()):!1}function Rg(e,t){do{let n=e.next(),r=t.next();if(n.done&&r.done)return!0;if(n.done||r.done||!Object.is(n.value,r.value))return!1}while(!0)}function sT(e){if(Object.prototype.toString.call(e)!=="[object Object]")return!1;let t=Object.getPrototypeOf(e);return t===null||Object.getPrototypeOf(t)===null}var zJ=Object.defineProperty,WJ=(e,t,n)=>t in e?zJ(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,oT=(e,t,n)=>(WJ(e,typeof t!="symbol"?t+"":t,n),n),HJ=(e=>(e[e.Push=0]="Push",e[e.Pop=1]="Pop",e))(HJ||{});let qJ={0(e,t){let n=t.id,r=e.stack,i=e.stack.indexOf(n);if(i!==-1){let s=e.stack.slice();return s.splice(i,1),s.push(n),r=s,{...e,stack:r}}return{...e,stack:[...e.stack,n]}},1(e,t){let n=t.id,r=e.stack.indexOf(n);if(r===-1)return e;let i=e.stack.slice();return i.splice(r,1),{...e,stack:i}}},GJ=class xD extends BJ{constructor(){super(...arguments),oT(this,"actions",{push:t=>this.send({type:0,id:t}),pop:t=>this.send({type:1,id:t})}),oT(this,"selectors",{isTop:(t,n)=>t.stack[t.stack.length-1]===n,inStack:(t,n)=>t.stack.includes(n)})}static new(){return new xD({stack:[]})}reduce(t,n){return fi(n.type,qJ,t,n)}};const ED=new vD(()=>GJ.new());var bD={exports:{}},CD={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Lu=w;function KJ(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var YJ=typeof Object.is=="function"?Object.is:KJ,XJ=Lu.useSyncExternalStore,JJ=Lu.useRef,QJ=Lu.useEffect,ZJ=Lu.useMemo,eQ=Lu.useDebugValue;CD.useSyncExternalStoreWithSelector=function(e,t,n,r,i){var s=JJ(null);if(s.current===null){var o={hasValue:!1,value:null};s.current=o}else o=s.current;s=ZJ(function(){function l(g){if(!c){if(c=!0,d=g,g=r(g),i!==void 0&&o.hasValue){var v=o.value;if(i(v,g))return h=v}return h=g}if(v=h,YJ(d,g))return v;var S=r(g);return i!==void 0&&i(v,S)?(d=g,v):(d=g,h=S)}var c=!1,d,h,f=n===void 0?null:n;return[function(){return l(t())},f===null?void 0:function(){return l(f())}]},[t,n,r,i]);var a=XJ(e,s[0],s[1]);return QJ(function(){o.hasValue=!0,o.value=a},[a]),eQ(a),a};bD.exports=CD;var tQ=bD.exports;function SD(e,t,n=_D){return tQ.useSyncExternalStoreWithSelector(Te(r=>e.subscribe(nQ,r)),Te(()=>e.state),Te(()=>e.state),Te(t),n)}function nQ(e){return e}function ju(e,t){let n=w.useId(),r=ED.get(t),[i,s]=SD(r,w.useCallback(o=>[r.selectors.isTop(o,n),r.selectors.inStack(o,n)],[r,n]));return jt(()=>{if(e)return r.actions.push(n),()=>r.actions.pop(n)},[r,e,n]),e?s?i:!0:!1}let W0=new Map,dc=new Map;function aT(e){var t;let n=(t=dc.get(e))!=null?t:0;return dc.set(e,n+1),n!==0?()=>lT(e):(W0.set(e,{"aria-hidden":e.getAttribute("aria-hidden"),inert:e.inert}),e.setAttribute("aria-hidden","true"),e.inert=!0,()=>lT(e))}function lT(e){var t;let n=(t=dc.get(e))!=null?t:1;if(n===1?dc.delete(e):dc.set(e,n-1),n!==1)return;let r=W0.get(e);r&&(r["aria-hidden"]===null?e.removeAttribute("aria-hidden"):e.setAttribute("aria-hidden",r["aria-hidden"]),e.inert=r.inert,W0.delete(e))}function rQ(e,{allowed:t,disallowed:n}={}){let r=ju(e,"inert-others");jt(()=>{var i,s;if(!r)return;let o=vi();for(let l of(i=n==null?void 0:n())!=null?i:[])l&&o.add(aT(l));let a=(s=t==null?void 0:t())!=null?s:[];for(let l of a){if(!l)continue;let c=jp(l);if(!c)continue;let d=l.parentElement;for(;d&&d!==c.body;){for(let h of d.children)a.some(f=>h.contains(f))||o.add(aT(h));d=d.parentElement}}return o.dispose},[r,t,n])}function iQ(e,t,n){let r=go(i=>{let s=i.getBoundingClientRect();s.x===0&&s.y===0&&s.width===0&&s.height===0&&n()});w.useEffect(()=>{if(!e)return;let i=t===null?null:ao(t)?t:t.current;if(!i)return;let s=vi();if(typeof ResizeObserver<"u"){let o=new ResizeObserver(()=>r.current(i));o.observe(i),s.add(()=>o.disconnect())}if(typeof IntersectionObserver<"u"){let o=new IntersectionObserver(()=>r.current(i));o.observe(i),s.add(()=>o.disconnect())}return()=>s.dispose()},[t,r,e])}let Cf=["[contentEditable=true]","[tabindex]","a[href]","area[href]","button:not([disabled])","iframe","input:not([disabled])","select:not([disabled])","textarea:not([disabled])"].map(e=>`${e}:not([tabindex='-1'])`).join(","),sQ=["[data-autofocus]"].map(e=>`${e}:not([tabindex='-1'])`).join(",");var Wr=(e=>(e[e.First=1]="First",e[e.Previous=2]="Previous",e[e.Next=4]="Next",e[e.Last=8]="Last",e[e.WrapAround=16]="WrapAround",e[e.NoScroll=32]="NoScroll",e[e.AutoFocus=64]="AutoFocus",e))(Wr||{}),H0=(e=>(e[e.Error=0]="Error",e[e.Overflow=1]="Overflow",e[e.Success=2]="Success",e[e.Underflow=3]="Underflow",e))(H0||{}),oQ=(e=>(e[e.Previous=-1]="Previous",e[e.Next=1]="Next",e))(oQ||{});function aQ(e=document.body){return e==null?[]:Array.from(e.querySelectorAll(Cf)).sort((t,n)=>Math.sign((t.tabIndex||Number.MAX_SAFE_INTEGER)-(n.tabIndex||Number.MAX_SAFE_INTEGER)))}function lQ(e=document.body){return e==null?[]:Array.from(e.querySelectorAll(sQ)).sort((t,n)=>Math.sign((t.tabIndex||Number.MAX_SAFE_INTEGER)-(n.tabIndex||Number.MAX_SAFE_INTEGER)))}var TD=(e=>(e[e.Strict=0]="Strict",e[e.Loose=1]="Loose",e))(TD||{});function cQ(e,t=0){var n;return e===((n=jp(e))==null?void 0:n.body)?!1:fi(t,{0(){return e.matches(Cf)},1(){let r=e;for(;r!==null;){if(r.matches(Cf))return!0;r=r.parentElement}return!1}})}var uQ=(e=>(e[e.Keyboard=0]="Keyboard",e[e.Mouse=1]="Mouse",e))(uQ||{});typeof window<"u"&&typeof document<"u"&&(document.addEventListener("keydown",e=>{e.metaKey||e.altKey||e.ctrlKey||(document.documentElement.dataset.headlessuiFocusVisible="")},!0),document.addEventListener("click",e=>{e.detail===1?delete document.documentElement.dataset.headlessuiFocusVisible:e.detail===0&&(document.documentElement.dataset.headlessuiFocusVisible="")},!0));function ti(e){e==null||e.focus({preventScroll:!0})}let dQ=["textarea","input"].join(",");function hQ(e){var t,n;return(n=(t=e==null?void 0:e.matches)==null?void 0:t.call(e,dQ))!=null?n:!1}function fQ(e,t=n=>n){return e.slice().sort((n,r)=>{let i=t(n),s=t(r);if(i===null||s===null)return 0;let o=i.compareDocumentPosition(s);return o&Node.DOCUMENT_POSITION_FOLLOWING?-1:o&Node.DOCUMENT_POSITION_PRECEDING?1:0})}function hc(e,t,{sorted:n=!0,relativeTo:r=null,skipElements:i=[]}={}){let s=Array.isArray(e)?e.length>0?e[0].ownerDocument:document:e.ownerDocument,o=Array.isArray(e)?n?fQ(e):e:t&64?lQ(e):aQ(e);i.length>0&&o.length>1&&(o=o.filter(g=>!i.some(v=>v!=null&&"current"in v?(v==null?void 0:v.current)===g:v===g))),r=r??s.activeElement;let a=(()=>{if(t&5)return 1;if(t&10)return-1;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),l=(()=>{if(t&1)return 0;if(t&2)return Math.max(0,o.indexOf(r))-1;if(t&4)return Math.max(0,o.indexOf(r))+1;if(t&8)return o.length-1;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),c=t&32?{preventScroll:!0}:{},d=0,h=o.length,f;do{if(d>=h||d+h<=0)return 0;let g=l+d;if(t&16)g=(g+h)%h;else{if(g<0)return 3;if(g>=h)return 1}f=o[g],f==null||f.focus(c),d+=a}while(f!==s.activeElement);return t&6&&hQ(f)&&f.select(),2}function kD(){return/iPhone/gi.test(window.navigator.platform)||/Mac/gi.test(window.navigator.platform)&&window.navigator.maxTouchPoints>0}function pQ(){return/Android/gi.test(window.navigator.userAgent)}function cT(){return kD()||pQ()}function Dd(e,t,n,r){let i=go(n);w.useEffect(()=>{if(!e)return;function s(o){i.current(o)}return document.addEventListener(t,s,r),()=>document.removeEventListener(t,s,r)},[e,t,r])}function ID(e,t,n,r){let i=go(n);w.useEffect(()=>{if(!e)return;function s(o){i.current(o)}return window.addEventListener(t,s,r),()=>window.removeEventListener(t,s,r)},[e,t,r])}const uT=30;function mQ(e,t,n){let r=go(n),i=w.useCallback(function(a,l){if(a.defaultPrevented)return;let c=l(a);if(c===null||!c.getRootNode().contains(c)||!c.isConnected)return;let d=function h(f){return typeof f=="function"?h(f()):Array.isArray(f)||f instanceof Set?f:[f]}(t);for(let h of d)if(h!==null&&(h.contains(c)||a.composed&&a.composedPath().includes(h)))return;return!cQ(c,TD.Loose)&&c.tabIndex!==-1&&a.preventDefault(),r.current(a,c)},[r,t]),s=w.useRef(null);Dd(e,"pointerdown",a=>{var l,c;cT()||(s.current=((c=(l=a.composedPath)==null?void 0:l.call(a))==null?void 0:c[0])||a.target)},!0),Dd(e,"pointerup",a=>{if(cT()||!s.current)return;let l=s.current;return s.current=null,i(a,()=>l)},!0);let o=w.useRef({x:0,y:0});Dd(e,"touchstart",a=>{o.current.x=a.touches[0].clientX,o.current.y=a.touches[0].clientY},!0),Dd(e,"touchend",a=>{let l={x:a.changedTouches[0].clientX,y:a.changedTouches[0].clientY};if(!(Math.abs(l.x-o.current.x)>=uT||Math.abs(l.y-o.current.y)>=uT))return i(a,()=>Vi(a.target)?a.target:null)},!0),ID(e,"blur",a=>i(a,()=>PJ(window.document.activeElement)?window.document.activeElement:null),!0)}function $p(...e){return w.useMemo(()=>jp(...e),[...e])}function PD(e,t,n,r){let i=go(n);w.useEffect(()=>{e=e??window;function s(o){i.current(o)}return e.addEventListener(t,s,r),()=>e.removeEventListener(t,s,r)},[e,t,r])}function gQ(e){return w.useSyncExternalStore(e.subscribe,e.getSnapshot,e.getSnapshot)}function yQ(e,t){let n=e(),r=new Set;return{getSnapshot(){return n},subscribe(i){return r.add(i),()=>r.delete(i)},dispatch(i,...s){let o=t[i].call(n,...s);o&&(n=o,r.forEach(a=>a()))}}}function vQ(){let e;return{before({doc:t}){var n;let r=t.documentElement,i=(n=t.defaultView)!=null?n:window;e=Math.max(0,i.innerWidth-r.clientWidth)},after({doc:t,d:n}){let r=t.documentElement,i=Math.max(0,r.clientWidth-r.offsetWidth),s=Math.max(0,e-i);n.style(r,"paddingRight",`${s}px`)}}}function wQ(){return kD()?{before({doc:e,d:t,meta:n}){function r(i){return n.containers.flatMap(s=>s()).some(s=>s.contains(i))}t.microTask(()=>{var i;if(window.getComputedStyle(e.documentElement).scrollBehavior!=="auto"){let a=vi();a.style(e.documentElement,"scrollBehavior","auto"),t.add(()=>t.microTask(()=>a.dispose()))}let s=(i=window.scrollY)!=null?i:window.pageYOffset,o=null;t.addEventListener(e,"click",a=>{if(Vi(a.target))try{let l=a.target.closest("a");if(!l)return;let{hash:c}=new URL(l.href),d=e.querySelector(c);Vi(d)&&!r(d)&&(o=d)}catch{}},!0),t.addEventListener(e,"touchstart",a=>{if(Vi(a.target)&&IJ(a.target))if(r(a.target)){let l=a.target;for(;l.parentElement&&r(l.parentElement);)l=l.parentElement;t.style(l,"overscrollBehavior","contain")}else t.style(a.target,"touchAction","none")}),t.addEventListener(e,"touchmove",a=>{if(Vi(a.target)){if(RJ(a.target))return;if(r(a.target)){let l=a.target;for(;l.parentElement&&l.dataset.headlessuiPortal!==""&&!(l.scrollHeight>l.clientHeight||l.scrollWidth>l.clientWidth);)l=l.parentElement;l.dataset.headlessuiPortal===""&&a.preventDefault()}else a.preventDefault()}},{passive:!1}),t.add(()=>{var a;let l=(a=window.scrollY)!=null?a:window.pageYOffset;s!==l&&window.scrollTo(0,s),o&&o.isConnected&&(o.scrollIntoView({block:"nearest"}),o=null)})})}}:{}}function _Q(){return{before({doc:e,d:t}){t.style(e.documentElement,"overflow","hidden")}}}function xQ(e){let t={};for(let n of e)Object.assign(t,n(t));return t}let Vs=yQ(()=>new Map,{PUSH(e,t){var n;let r=(n=this.get(e))!=null?n:{doc:e,count:0,d:vi(),meta:new Set};return r.count++,r.meta.add(t),this.set(e,r),this},POP(e,t){let n=this.get(e);return n&&(n.count--,n.meta.delete(t)),this},SCROLL_PREVENT({doc:e,d:t,meta:n}){let r={doc:e,d:t,meta:xQ(n)},i=[wQ(),vQ(),_Q()];i.forEach(({before:s})=>s==null?void 0:s(r)),i.forEach(({after:s})=>s==null?void 0:s(r))},SCROLL_ALLOW({d:e}){e.dispose()},TEARDOWN({doc:e}){this.delete(e)}});Vs.subscribe(()=>{let e=Vs.getSnapshot(),t=new Map;for(let[n]of e)t.set(n,n.documentElement.style.overflow);for(let n of e.values()){let r=t.get(n.doc)==="hidden",i=n.count!==0;(i&&!r||!i&&r)&&Vs.dispatch(n.count>0?"SCROLL_PREVENT":"SCROLL_ALLOW",n),n.count===0&&Vs.dispatch("TEARDOWN",n)}});function EQ(e,t,n=()=>({containers:[]})){let r=gQ(Vs),i=t?r.get(t):void 0,s=i?i.count>0:!1;return jt(()=>{if(!(!t||!e))return Vs.dispatch("PUSH",t,n),()=>Vs.dispatch("POP",t,n)},[e,t]),s}function bQ(e,t,n=()=>[document.body]){let r=ju(e,"scroll-lock");EQ(r,t,i=>{var s;return{containers:[...(s=i.containers)!=null?s:[],n]}})}function CQ(e=0){let[t,n]=w.useState(e),r=w.useCallback(l=>n(l),[t]),i=w.useCallback(l=>n(c=>c|l),[t]),s=w.useCallback(l=>(t&l)===l,[t]),o=w.useCallback(l=>n(c=>c&~l),[n]),a=w.useCallback(l=>n(c=>c^l),[n]);return{flags:t,setFlag:r,addFlag:i,hasFlag:s,removeFlag:o,toggleFlag:a}}var dT,hT;typeof process<"u"&&typeof globalThis<"u"&&typeof Element<"u"&&((dT=process==null?void 0:process.env)==null?void 0:dT.NODE_ENV)==="test"&&typeof((hT=Element==null?void 0:Element.prototype)==null?void 0:hT.getAnimations)>"u"&&(Element.prototype.getAnimations=function(){return console.warn(["Headless UI has polyfilled `Element.prototype.getAnimations` for your tests.","Please install a proper polyfill e.g. `jsdom-testing-mocks`, to silence these warnings.","","Example usage:","```js","import { mockAnimationsApi } from 'jsdom-testing-mocks'","mockAnimationsApi()","```"].join(`
`)),[]});var SQ=(e=>(e[e.None=0]="None",e[e.Closed=1]="Closed",e[e.Enter=2]="Enter",e[e.Leave=4]="Leave",e))(SQ||{});function TQ(e){let t={};for(let n in e)e[n]===!0&&(t[`data-${n}`]="");return t}function kQ(e,t,n,r){let[i,s]=w.useState(n),{hasFlag:o,addFlag:a,removeFlag:l}=CQ(e&&i?3:0),c=w.useRef(!1),d=w.useRef(!1),h=i1();return jt(()=>{var f;if(e){if(n&&s(!0),!t){n&&a(3);return}return(f=r==null?void 0:r.start)==null||f.call(r,n),IQ(t,{inFlight:c,prepare(){d.current?d.current=!1:d.current=c.current,c.current=!0,!d.current&&(n?(a(3),l(4)):(a(4),l(2)))},run(){d.current?n?(l(3),a(4)):(l(4),a(3)):n?l(1):a(1)},done(){var g;d.current&&typeof t.getAnimations=="function"&&t.getAnimations().length>0||(c.current=!1,l(7),n||s(!1),(g=r==null?void 0:r.end)==null||g.call(r,n))}})}},[e,n,t,h]),e?[i,{closed:o(1),enter:o(2),leave:o(4),transition:o(2)||o(4)}]:[n,{closed:void 0,enter:void 0,leave:void 0,transition:void 0}]}function IQ(e,{prepare:t,run:n,done:r,inFlight:i}){let s=vi();return RQ(e,{prepare:t,inFlight:i}),s.nextFrame(()=>{n(),s.requestAnimationFrame(()=>{s.add(PQ(e,r))})}),s.dispose}function PQ(e,t){var n,r;let i=vi();if(!e)return i.dispose;let s=!1;i.add(()=>{s=!0});let o=(r=(n=e.getAnimations)==null?void 0:n.call(e).filter(a=>a instanceof CSSTransition))!=null?r:[];return o.length===0?(t(),i.dispose):(Promise.allSettled(o.map(a=>a.finished)).then(()=>{s||t()}),i.dispose)}function RQ(e,{inFlight:t,prepare:n}){if(t!=null&&t.current){n();return}let r=e.style.transition;e.style.transition="none",n(),e.offsetHeight,e.style.transition=r}function o1(e,t){let n=w.useRef([]),r=Te(e);w.useEffect(()=>{let i=[...n.current];for(let[s,o]of t.entries())if(n.current[s]!==o){let a=r(t,i);return n.current=t,a}},[r,...t])}let Vp=w.createContext(null);Vp.displayName="OpenClosedContext";var nr=(e=>(e[e.Open=1]="Open",e[e.Closed=2]="Closed",e[e.Closing=4]="Closing",e[e.Opening=8]="Opening",e))(nr||{});function Up(){return w.useContext(Vp)}function AQ({value:e,children:t}){return Q.createElement(Vp.Provider,{value:e},t)}function NQ({children:e}){return Q.createElement(Vp.Provider,{value:null},e)}function DQ(e){function t(){document.readyState!=="loading"&&(e(),document.removeEventListener("DOMContentLoaded",t))}typeof window<"u"&&typeof document<"u"&&(document.addEventListener("DOMContentLoaded",t),t())}let Mi=[];DQ(()=>{function e(t){if(!Vi(t.target)||t.target===document.body||Mi[0]===t.target)return;let n=t.target;n=n.closest(Cf),Mi.unshift(n??t.target),Mi=Mi.filter(r=>r!=null&&r.isConnected),Mi.splice(10)}window.addEventListener("click",e,{capture:!0}),window.addEventListener("mousedown",e,{capture:!0}),window.addEventListener("focus",e,{capture:!0}),document.body.addEventListener("click",e,{capture:!0}),document.body.addEventListener("mousedown",e,{capture:!0}),document.body.addEventListener("focus",e,{capture:!0})});function RD(e){let t=Te(e),n=w.useRef(!1);w.useEffect(()=>(n.current=!1,()=>{n.current=!0,Fp(()=>{n.current&&t()})}),[t])}function OQ(){let e=typeof document>"u";return"useSyncExternalStore"in hh?(t=>t.useSyncExternalStore)(hh)(()=>()=>{},()=>!1,()=>!e):!1}function Fu(){let e=OQ(),[t,n]=w.useState(qs.isHandoffComplete);return t&&qs.isHandoffComplete===!1&&n(!1),w.useEffect(()=>{t!==!0&&n(!0)},[t]),w.useEffect(()=>qs.handoff(),[]),e?!1:t}let AD=w.createContext(!1);function MQ(){return w.useContext(AD)}function fT(e){return Q.createElement(AD.Provider,{value:e.force},e.children)}function LQ(e){let t=MQ(),n=w.useContext(DD),[r,i]=w.useState(()=>{var s;if(!t&&n!==null)return(s=n.current)!=null?s:null;if(qs.isServer)return null;let o=e==null?void 0:e.getElementById("headlessui-portal-root");if(o)return o;if(e===null)return null;let a=e.createElement("div");return a.setAttribute("id","headlessui-portal-root"),e.body.appendChild(a)});return w.useEffect(()=>{r!==null&&(e!=null&&e.body.contains(r)||e==null||e.body.appendChild(r))},[r,e]),w.useEffect(()=>{t||n!==null&&i(n.current)},[n,i,t]),r}let ND=w.Fragment,jQ=dn(function(e,t){let{ownerDocument:n=null,...r}=e,i=w.useRef(null),s=Lr(AJ(g=>{i.current=g}),t),o=$p(i),a=n??o,l=LQ(a),[c]=w.useState(()=>{var g;return qs.isServer?null:(g=a==null?void 0:a.createElement("div"))!=null?g:null}),d=w.useContext(q0),h=Fu();jt(()=>{!l||!c||l.contains(c)||(c.setAttribute("data-headlessui-portal",""),l.appendChild(c))},[l,c]),jt(()=>{if(c&&d)return d.register(c)},[d,c]),RD(()=>{var g;!l||!c||(pD(c)&&l.contains(c)&&l.removeChild(c),l.childNodes.length<=0&&((g=l.parentElement)==null||g.removeChild(l)))});let f=Bn();return h?!l||!c?null:Uf.createPortal(f({ourProps:{ref:s},theirProps:r,slot:{},defaultTag:ND,name:"Portal"}),c):null});function FQ(e,t){let n=Lr(t),{enabled:r=!0,ownerDocument:i,...s}=e,o=Bn();return r?Q.createElement(jQ,{...s,ownerDocument:i,ref:n}):o({ourProps:{ref:n},theirProps:s,slot:{},defaultTag:ND,name:"Portal"})}let $Q=w.Fragment,DD=w.createContext(null);function VQ(e,t){let{target:n,...r}=e,i={ref:Lr(t)},s=Bn();return Q.createElement(DD.Provider,{value:n},s({ourProps:i,theirProps:r,defaultTag:$Q,name:"Popover.Group"}))}let q0=w.createContext(null);function UQ(){let e=w.useContext(q0),t=w.useRef([]),n=Te(s=>(t.current.push(s),e&&e.register(s),()=>r(s))),r=Te(s=>{let o=t.current.indexOf(s);o!==-1&&t.current.splice(o,1),e&&e.unregister(s)}),i=w.useMemo(()=>({register:n,unregister:r,portals:t}),[n,r,t]);return[t,w.useMemo(()=>function({children:s}){return Q.createElement(q0.Provider,{value:i},s)},[i])]}let BQ=dn(FQ),OD=dn(VQ),zQ=Object.assign(BQ,{Group:OD});function WQ(e,t=typeof document<"u"?document.defaultView:null,n){let r=ju(e,"escape");PD(t,"keydown",i=>{r&&(i.defaultPrevented||i.key===yD.Escape&&n(i))})}function HQ(){var e;let[t]=w.useState(()=>typeof window<"u"&&typeof window.matchMedia=="function"?window.matchMedia("(pointer: coarse)"):null),[n,r]=w.useState((e=t==null?void 0:t.matches)!=null?e:!1);return jt(()=>{if(!t)return;function i(s){r(s.matches)}return t.addEventListener("change",i),()=>t.removeEventListener("change",i)},[t]),n}function qQ({defaultContainers:e=[],portals:t,mainTreeNode:n}={}){let r=$p(n),i=Te(()=>{var s,o;let a=[];for(let l of e)l!==null&&(Qi(l)?a.push(l):"current"in l&&Qi(l.current)&&a.push(l.current));if(t!=null&&t.current)for(let l of t.current)a.push(l);for(let l of(s=r==null?void 0:r.querySelectorAll("html > *, body > *"))!=null?s:[])l!==document.body&&l!==document.head&&Qi(l)&&l.id!=="headlessui-portal-root"&&(n&&(l.contains(n)||l.contains((o=n==null?void 0:n.getRootNode())==null?void 0:o.host))||a.some(c=>l.contains(c))||a.push(l));return a});return{resolveContainers:i,contains:Te(s=>i().some(o=>o.contains(s)))}}let MD=w.createContext(null);function pT({children:e,node:t}){let[n,r]=w.useState(null),i=LD(t??n);return Q.createElement(MD.Provider,{value:i},e,i===null&&Q.createElement(z0,{features:bf.Hidden,ref:s=>{var o,a;if(s){for(let l of(a=(o=jp(s))==null?void 0:o.querySelectorAll("html > *, body > *"))!=null?a:[])if(l!==document.body&&l!==document.head&&Qi(l)&&l!=null&&l.contains(s)){r(l);break}}}}))}function LD(e=null){var t;return(t=w.useContext(MD))!=null?t:e}function a1(){let e=w.useRef(!1);return jt(()=>(e.current=!0,()=>{e.current=!1}),[]),e}var Vl=(e=>(e[e.Forwards=0]="Forwards",e[e.Backwards=1]="Backwards",e))(Vl||{});function GQ(){let e=w.useRef(0);return ID(!0,"keydown",t=>{t.key==="Tab"&&(e.current=t.shiftKey?1:0)},!0),e}function jD(e){if(!e)return new Set;if(typeof e=="function")return new Set(e());let t=new Set;for(let n of e.current)Qi(n.current)&&t.add(n.current);return t}let KQ="div";var As=(e=>(e[e.None=0]="None",e[e.InitialFocus=1]="InitialFocus",e[e.TabLock=2]="TabLock",e[e.FocusLock=4]="FocusLock",e[e.RestoreFocus=8]="RestoreFocus",e[e.AutoFocus=16]="AutoFocus",e))(As||{});function YQ(e,t){let n=w.useRef(null),r=Lr(n,t),{initialFocus:i,initialFocusFallback:s,containers:o,features:a=15,...l}=e;Fu()||(a=0);let c=$p(n);ZQ(a,{ownerDocument:c});let d=eZ(a,{ownerDocument:c,container:n,initialFocus:i,initialFocusFallback:s});tZ(a,{ownerDocument:c,container:n,containers:o,previousActiveElement:d});let h=GQ(),f=Te(b=>{if(!ao(n.current))return;let E=n.current;(R=>R())(()=>{fi(h.current,{[Vl.Forwards]:()=>{hc(E,Wr.First,{skipElements:[b.relatedTarget,s]})},[Vl.Backwards]:()=>{hc(E,Wr.Last,{skipElements:[b.relatedTarget,s]})}})})}),g=ju(!!(a&2),"focus-trap#tab-lock"),v=i1(),S=w.useRef(!1),k={ref:r,onKeyDown(b){b.key=="Tab"&&(S.current=!0,v.requestAnimationFrame(()=>{S.current=!1}))},onBlur(b){if(!(a&4))return;let E=jD(o);ao(n.current)&&E.add(n.current);let R=b.relatedTarget;Vi(R)&&R.dataset.headlessuiFocusGuard!=="true"&&(FD(E,R)||(S.current?hc(n.current,fi(h.current,{[Vl.Forwards]:()=>Wr.Next,[Vl.Backwards]:()=>Wr.Previous})|Wr.WrapAround,{relativeTo:b.target}):Vi(b.target)&&ti(b.target)))}},_=Bn();return Q.createElement(Q.Fragment,null,g&&Q.createElement(z0,{as:"button",type:"button","data-headlessui-focus-guard":!0,onFocus:f,features:bf.Focusable}),_({ourProps:k,theirProps:l,defaultTag:KQ,name:"FocusTrap"}),g&&Q.createElement(z0,{as:"button",type:"button","data-headlessui-focus-guard":!0,onFocus:f,features:bf.Focusable}))}let XQ=dn(YQ),JQ=Object.assign(XQ,{features:As});function QQ(e=!0){let t=w.useRef(Mi.slice());return o1(([n],[r])=>{r===!0&&n===!1&&Fp(()=>{t.current.splice(0)}),r===!1&&n===!0&&(t.current=Mi.slice())},[e,Mi,t]),Te(()=>{var n;return(n=t.current.find(r=>r!=null&&r.isConnected))!=null?n:null})}function ZQ(e,{ownerDocument:t}){let n=!!(e&8),r=QQ(n);o1(()=>{n||(t==null?void 0:t.activeElement)===(t==null?void 0:t.body)&&ti(r())},[n]),RD(()=>{n&&ti(r())})}function eZ(e,{ownerDocument:t,container:n,initialFocus:r,initialFocusFallback:i}){let s=w.useRef(null),o=ju(!!(e&1),"focus-trap#initial-focus"),a=a1();return o1(()=>{if(e===0)return;if(!o){i!=null&&i.current&&ti(i.current);return}let l=n.current;l&&Fp(()=>{if(!a.current)return;let c=t==null?void 0:t.activeElement;if(r!=null&&r.current){if((r==null?void 0:r.current)===c){s.current=c;return}}else if(l.contains(c)){s.current=c;return}if(r!=null&&r.current)ti(r.current);else{if(e&16){if(hc(l,Wr.First|Wr.AutoFocus)!==H0.Error)return}else if(hc(l,Wr.First)!==H0.Error)return;if(i!=null&&i.current&&(ti(i.current),(t==null?void 0:t.activeElement)===i.current))return;console.warn("There are no focusable elements inside the <FocusTrap />")}s.current=t==null?void 0:t.activeElement})},[i,o,e]),s}function tZ(e,{ownerDocument:t,container:n,containers:r,previousActiveElement:i}){let s=a1(),o=!!(e&4);PD(t==null?void 0:t.defaultView,"focus",a=>{if(!o||!s.current)return;let l=jD(r);ao(n.current)&&l.add(n.current);let c=i.current;if(!c)return;let d=a.target;ao(d)?FD(l,d)?(i.current=d,ti(d)):(a.preventDefault(),a.stopPropagation(),ti(c)):ti(i.current)},!0)}function FD(e,t){for(let n of e)if(n.contains(t))return!0;return!1}function $D(e){var t;return!!(e.enter||e.enterFrom||e.enterTo||e.leave||e.leaveFrom||e.leaveTo)||((t=e.as)!=null?t:UD)!==w.Fragment||Q.Children.count(e.children)===1}let Bp=w.createContext(null);Bp.displayName="TransitionContext";var nZ=(e=>(e.Visible="visible",e.Hidden="hidden",e))(nZ||{});function rZ(){let e=w.useContext(Bp);if(e===null)throw new Error("A <Transition.Child /> is used but it is missing a parent <Transition /> or <Transition.Root />.");return e}function iZ(){let e=w.useContext(zp);if(e===null)throw new Error("A <Transition.Child /> is used but it is missing a parent <Transition /> or <Transition.Root />.");return e}let zp=w.createContext(null);zp.displayName="NestingContext";function Wp(e){return"children"in e?Wp(e.children):e.current.filter(({el:t})=>t.current!==null).filter(({state:t})=>t==="visible").length>0}function VD(e,t){let n=go(e),r=w.useRef([]),i=a1(),s=i1(),o=Te((g,v=$i.Hidden)=>{let S=r.current.findIndex(({el:k})=>k===g);S!==-1&&(fi(v,{[$i.Unmount](){r.current.splice(S,1)},[$i.Hidden](){r.current[S].state="hidden"}}),s.microTask(()=>{var k;!Wp(r)&&i.current&&((k=n.current)==null||k.call(n))}))}),a=Te(g=>{let v=r.current.find(({el:S})=>S===g);return v?v.state!=="visible"&&(v.state="visible"):r.current.push({el:g,state:"visible"}),()=>o(g,$i.Unmount)}),l=w.useRef([]),c=w.useRef(Promise.resolve()),d=w.useRef({enter:[],leave:[]}),h=Te((g,v,S)=>{l.current.splice(0),t&&(t.chains.current[v]=t.chains.current[v].filter(([k])=>k!==g)),t==null||t.chains.current[v].push([g,new Promise(k=>{l.current.push(k)})]),t==null||t.chains.current[v].push([g,new Promise(k=>{Promise.all(d.current[v].map(([_,b])=>b)).then(()=>k())})]),v==="enter"?c.current=c.current.then(()=>t==null?void 0:t.wait.current).then(()=>S(v)):S(v)}),f=Te((g,v,S)=>{Promise.all(d.current[v].splice(0).map(([k,_])=>_)).then(()=>{var k;(k=l.current.shift())==null||k()}).then(()=>S(v))});return w.useMemo(()=>({children:r,register:a,unregister:o,onStart:h,onStop:f,wait:c,chains:d}),[a,o,r,h,f,d,c])}let UD=w.Fragment,BD=Ef.RenderStrategy;function sZ(e,t){var n,r;let{transition:i=!0,beforeEnter:s,afterEnter:o,beforeLeave:a,afterLeave:l,enter:c,enterFrom:d,enterTo:h,entered:f,leave:g,leaveFrom:v,leaveTo:S,...k}=e,[_,b]=w.useState(null),E=w.useRef(null),R=$D(e),D=Lr(...R?[E,t,b]:t===null?[]:[t]),M=(n=k.unmount)==null||n?$i.Unmount:$i.Hidden,{show:T,appear:C,initial:I}=rZ(),[y,N]=w.useState(T?"visible":"hidden"),O=iZ(),{register:A,unregister:V}=O;jt(()=>A(E),[A,E]),jt(()=>{if(M===$i.Hidden&&E.current){if(T&&y!=="visible"){N("visible");return}return fi(y,{hidden:()=>V(E),visible:()=>A(E)})}},[y,E,A,V,T,M]);let U=Fu();jt(()=>{if(R&&U&&y==="visible"&&E.current===null)throw new Error("Did you forget to passthrough the `ref` to the actual DOM node?")},[E,y,U,R]);let q=I&&!C,G=C&&T&&I,F=w.useRef(!1),K=VD(()=>{F.current||(N("hidden"),V(E))},O),X=Te(oe=>{F.current=!0;let je=oe?"enter":"leave";K.onStart(E,je,Fe=>{Fe==="enter"?s==null||s():Fe==="leave"&&(a==null||a())})}),ae=Te(oe=>{let je=oe?"enter":"leave";F.current=!1,K.onStop(E,je,Fe=>{Fe==="enter"?o==null||o():Fe==="leave"&&(l==null||l())}),je==="leave"&&!Wp(K)&&(N("hidden"),V(E))});w.useEffect(()=>{R&&i||(X(T),ae(T))},[T,R,i]);let ie=(()=>!(!i||!R||!U||q))(),[,H]=kQ(ie,_,T,{start:X,end:ae}),J=Ps({ref:D,className:((r=B0(k.className,G&&c,G&&d,H.enter&&c,H.enter&&H.closed&&d,H.enter&&!H.closed&&h,H.leave&&g,H.leave&&!H.closed&&v,H.leave&&H.closed&&S,!H.transition&&T&&f))==null?void 0:r.trim())||void 0,...TQ(H)}),se=0;y==="visible"&&(se|=nr.Open),y==="hidden"&&(se|=nr.Closed),T&&y==="hidden"&&(se|=nr.Opening),!T&&y==="visible"&&(se|=nr.Closing);let ce=Bn();return Q.createElement(zp.Provider,{value:K},Q.createElement(AQ,{value:se},ce({ourProps:J,theirProps:k,defaultTag:UD,features:BD,visible:y==="visible",name:"Transition.Child"})))}function oZ(e,t){let{show:n,appear:r=!1,unmount:i=!0,...s}=e,o=w.useRef(null),a=$D(e),l=Lr(...a?[o,t]:t===null?[]:[t]);Fu();let c=Up();if(n===void 0&&c!==null&&(n=(c&nr.Open)===nr.Open),n===void 0)throw new Error("A <Transition /> is used but it is missing a `show={true | false}` prop.");let[d,h]=w.useState(n?"visible":"hidden"),f=VD(()=>{n||h("hidden")}),[g,v]=w.useState(!0),S=w.useRef([n]);jt(()=>{g!==!1&&S.current[S.current.length-1]!==n&&(S.current.push(n),v(!1))},[S,n]);let k=w.useMemo(()=>({show:n,appear:r,initial:g}),[n,r,g]);jt(()=>{n?h("visible"):!Wp(f)&&o.current!==null&&h("hidden")},[n,f]);let _={unmount:i},b=Te(()=>{var D;g&&v(!1),(D=e.beforeEnter)==null||D.call(e)}),E=Te(()=>{var D;g&&v(!1),(D=e.beforeLeave)==null||D.call(e)}),R=Bn();return Q.createElement(zp.Provider,{value:f},Q.createElement(Bp.Provider,{value:k},R({ourProps:{..._,as:w.Fragment,children:Q.createElement(zD,{ref:l,..._,...s,beforeEnter:b,beforeLeave:E})},theirProps:{},defaultTag:w.Fragment,features:BD,visible:d==="visible",name:"Transition"})))}function aZ(e,t){let n=w.useContext(Bp)!==null,r=Up()!==null;return Q.createElement(Q.Fragment,null,!n&&r?Q.createElement(G0,{ref:t,...e}):Q.createElement(zD,{ref:t,...e}))}let G0=dn(oZ),zD=dn(sZ),l1=dn(aZ),lZ=Object.assign(G0,{Child:l1,Root:G0});var cZ=(e=>(e[e.Open=0]="Open",e[e.Closed=1]="Closed",e))(cZ||{}),uZ=(e=>(e[e.SetTitleId=0]="SetTitleId",e))(uZ||{});let dZ={0(e,t){return e.titleId===t.id?e:{...e,titleId:t.id}}},c1=w.createContext(null);c1.displayName="DialogContext";function Hp(e){let t=w.useContext(c1);if(t===null){let n=new Error(`<${e} /> is missing a parent <Dialog /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(n,Hp),n}return t}function hZ(e,t){return fi(t.type,dZ,e,t)}let mT=dn(function(e,t){let n=w.useId(),{id:r=`headlessui-dialog-${n}`,open:i,onClose:s,initialFocus:o,role:a="dialog",autoFocus:l=!0,__demoMode:c=!1,unmount:d=!1,...h}=e,f=w.useRef(!1);a=function(){return a==="dialog"||a==="alertdialog"?a:(f.current||(f.current=!0,console.warn(`Invalid role [${a}] passed to <Dialog />. Only \`dialog\` and and \`alertdialog\` are supported. Using \`dialog\` instead.`)),"dialog")}();let g=Up();i===void 0&&g!==null&&(i=(g&nr.Open)===nr.Open);let v=w.useRef(null),S=Lr(v,t),k=$p(v),_=i?0:1,[b,E]=w.useReducer(hZ,{titleId:null,descriptionId:null,panelRef:w.createRef()}),R=Te(()=>s(!1)),D=Te(H=>E({type:0,id:H})),M=Fu()?_===0:!1,[T,C]=UQ(),I={get current(){var H;return(H=b.panelRef.current)!=null?H:v.current}},y=LD(),{resolveContainers:N}=qQ({mainTreeNode:y,portals:T,defaultContainers:[I]}),O=g!==null?(g&nr.Closing)===nr.Closing:!1;rQ(c||O?!1:M,{allowed:Te(()=>{var H,J;return[(J=(H=v.current)==null?void 0:H.closest("[data-headlessui-portal]"))!=null?J:null]}),disallowed:Te(()=>{var H;return[(H=y==null?void 0:y.closest("body > *:not(#headlessui-portal-root)"))!=null?H:null]})});let A=ED.get(null);jt(()=>{if(M)return A.actions.push(r),()=>A.actions.pop(r)},[A,r,M]);let V=SD(A,w.useCallback(H=>A.selectors.isTop(H,r),[A,r]));mQ(V,N,H=>{H.preventDefault(),R()}),WQ(V,k==null?void 0:k.defaultView,H=>{H.preventDefault(),H.stopPropagation(),document.activeElement&&"blur"in document.activeElement&&typeof document.activeElement.blur=="function"&&document.activeElement.blur(),R()}),bQ(c||O?!1:M,k,N),iQ(M,v,R);let[U,q]=NJ(),G=w.useMemo(()=>[{dialogState:_,close:R,setTitleId:D,unmount:d},b],[_,b,R,D,d]),F=w.useMemo(()=>({open:_===0}),[_]),K={ref:S,id:r,role:a,tabIndex:-1,"aria-modal":c?void 0:_===0?!0:void 0,"aria-labelledby":b.titleId,"aria-describedby":U,unmount:d},X=!HQ(),ae=As.None;M&&!c&&(ae|=As.RestoreFocus,ae|=As.TabLock,l&&(ae|=As.AutoFocus),X&&(ae|=As.InitialFocus));let ie=Bn();return Q.createElement(NQ,null,Q.createElement(fT,{force:!0},Q.createElement(zQ,null,Q.createElement(c1.Provider,{value:G},Q.createElement(OD,{target:v},Q.createElement(fT,{force:!1},Q.createElement(q,{slot:F},Q.createElement(C,null,Q.createElement(JQ,{initialFocus:o,initialFocusFallback:v,containers:N,features:ae},Q.createElement(FJ,{value:R},ie({ourProps:K,theirProps:h,slot:F,defaultTag:fZ,features:pZ,visible:_===0,name:"Dialog"})))))))))))}),fZ="div",pZ=Ef.RenderStrategy|Ef.Static;function mZ(e,t){let{transition:n=!1,open:r,...i}=e,s=Up(),o=e.hasOwnProperty("open")||s!==null,a=e.hasOwnProperty("onClose");if(!o&&!a)throw new Error("You have to provide an `open` and an `onClose` prop to the `Dialog` component.");if(!o)throw new Error("You provided an `onClose` prop to the `Dialog`, but forgot an `open` prop.");if(!a)throw new Error("You provided an `open` prop to the `Dialog`, but forgot an `onClose` prop.");if(!s&&typeof e.open!="boolean")throw new Error(`You provided an \`open\` prop to the \`Dialog\`, but the value is not a boolean. Received: ${e.open}`);if(typeof e.onClose!="function")throw new Error(`You provided an \`onClose\` prop to the \`Dialog\`, but the value is not a function. Received: ${e.onClose}`);return(r!==void 0||n)&&!i.static?Q.createElement(pT,null,Q.createElement(lZ,{show:r,transition:n,unmount:i.unmount},Q.createElement(mT,{ref:t,...i}))):Q.createElement(pT,null,Q.createElement(mT,{ref:t,open:r,...i}))}let gZ="div";function yZ(e,t){let n=w.useId(),{id:r=`headlessui-dialog-panel-${n}`,transition:i=!1,...s}=e,[{dialogState:o,unmount:a},l]=Hp("Dialog.Panel"),c=Lr(t,l.panelRef),d=w.useMemo(()=>({open:o===0}),[o]),h=Te(k=>{k.stopPropagation()}),f={ref:c,id:r,onClick:h},g=i?l1:w.Fragment,v=i?{unmount:a}:{},S=Bn();return Q.createElement(g,{...v},S({ourProps:f,theirProps:s,slot:d,defaultTag:gZ,name:"Dialog.Panel"}))}let vZ="div";function wZ(e,t){let{transition:n=!1,...r}=e,[{dialogState:i,unmount:s}]=Hp("Dialog.Backdrop"),o=w.useMemo(()=>({open:i===0}),[i]),a={ref:t,"aria-hidden":!0},l=n?l1:w.Fragment,c=n?{unmount:s}:{},d=Bn();return Q.createElement(l,{...c},d({ourProps:a,theirProps:r,slot:o,defaultTag:vZ,name:"Dialog.Backdrop"}))}let _Z="h2";function xZ(e,t){let n=w.useId(),{id:r=`headlessui-dialog-title-${n}`,...i}=e,[{dialogState:s,setTitleId:o}]=Hp("Dialog.Title"),a=Lr(t);w.useEffect(()=>(o(r),()=>o(null)),[r,o]);let l=w.useMemo(()=>({open:s===0}),[s]),c={ref:a,id:r};return Bn()({ourProps:c,theirProps:i,slot:l,defaultTag:_Z,name:"Dialog.Title"})}let EZ=dn(mZ),bZ=dn(yZ);dn(wZ);let CZ=dn(xZ),fc=Object.assign(EZ,{Panel:bZ,Title:CZ,Description:LJ});/**
 * @license lucide-react v0.523.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SZ=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),TZ=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,n,r)=>r?r.toUpperCase():n.toLowerCase()),gT=e=>{const t=TZ(e);return t.charAt(0).toUpperCase()+t.slice(1)},WD=(...e)=>e.filter((t,n,r)=>!!t&&t.trim()!==""&&r.indexOf(t)===n).join(" ").trim(),kZ=e=>{for(const t in e)if(t.startsWith("aria-")||t==="role"||t==="title")return!0};/**
 * @license lucide-react v0.523.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var IZ={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.523.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PZ=w.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:i="",children:s,iconNode:o,...a},l)=>w.createElement("svg",{ref:l,...IZ,width:t,height:t,stroke:e,strokeWidth:r?Number(n)*24/Number(t):n,className:WD("lucide",i),...!s&&!kZ(a)&&{"aria-hidden":"true"},...a},[...o.map(([c,d])=>w.createElement(c,d)),...Array.isArray(s)?s:[s]]));/**
 * @license lucide-react v0.523.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RZ=(e,t)=>{const n=w.forwardRef(({className:r,...i},s)=>w.createElement(PZ,{ref:s,iconNode:t,className:WD(`lucide-${SZ(gT(e))}`,`lucide-${e}`,r),...i}));return n.displayName=gT(e),n};/**
 * @license lucide-react v0.523.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AZ=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],NZ=RZ("x",AZ);function DZ({open:e,onClose:t,letra:n,genero:r,asignacionActual:i,todasLasAsignaciones:s,equiposYaAsignados:o={}}){const[a,l]=w.useState("");Object.values(hf.plantillas[r]||{});const c=Object.keys(hf.plantillas[r]||{});w.useEffect(()=>{l(i||"")},[i]);const d=async()=>{if(!a){alert("Seleccion un equipo");return}try{const f=ee(te,`calendario/${r}/asignaciones`);await Gc(f,{[n]:a}),t()}catch(f){console.error("Error al guardar asignacin:",f),alert("Hubo un problema al guardar. Intentalo de nuevo.")}},h=c.filter(f=>f===i||!Object.values(o).includes(f));return m.jsx(fc,{open:e,onClose:t,className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50",children:m.jsxs(fc.Panel,{className:"bg-white text-black rounded-2xl p-6 w-full max-w-md shadow-xl relative",children:[m.jsx("button",{onClick:t,className:"absolute top-2 right-2 text-gray-600 hover:text-gray-800",children:m.jsx(NZ,{size:20})}),m.jsxs(fc.Title,{className:"text-xl font-semibold text-center mb-4",children:["Asignar equipo a la letra ",n]}),m.jsxs("div",{className:"mb-6",children:[m.jsx("label",{className:"block font-medium mb-2",children:"Equipo:"}),m.jsxs("select",{value:a,onChange:f=>l(f.target.value),className:"w-full border border-gray-300 rounded px-3 py-2",children:[m.jsx("option",{value:"",children:"Seleccionar equipo"}),h.map(f=>m.jsx("option",{value:f,children:f},f))]})]}),m.jsx("button",{onClick:d,className:"w-full bg-yellow-400 text-black font-bold py-2 rounded hover:bg-yellow-300",children:"Guardar"})]})})}function OZ({partido:e,asignaciones:t,plantillas:n,equiposInfo:r}){const i=d=>{if(t&&t[d])return t[d];const h=d.match(/^(\d)(er|do|to) Lugar$/);if(h&&r){const f=parseInt(h[1]),g=Object.entries(r).sort((v,S)=>S[1].puntos-v[1].puntos);if(g[f-1])return g[f-1][0]}return d},s=d=>{var f,g;if((f=n[d])!=null&&f.logo)return n[d].logo;const h=Object.entries(n).find(([v])=>v.toLowerCase().includes(d.toLowerCase()));return/ganador|perdedor|finalista/i.test(d)?"logo-empro.png":((g=h==null?void 0:h[1])==null?void 0:g.logo)||"logo-empro.png"},o=i(e.equipo1),a=i(e.equipo2),l=`/EmproChampions-2025/img/escudos/${s(o)}`,c=`/EmproChampions-2025/img/escudos/${s(a)}`;return m.jsxs("div",{className:"bg-black/50 rounded-xl p-4 flex flex-col items-center shadow-lg border border-white/10 h-full",children:[m.jsxs("div",{className:"text-center text-xs text-yellow-300 mb-3 font-semibold tracking-wider",children:[m.jsx("span",{children:e.fecha}),e.cancha&&m.jsx("span",{className:"mx-2 text-gray-500",children:"|"}),e.cancha&&m.jsxs("span",{children:["CANCHA ",e.cancha]}),e.nombre&&m.jsx("span",{className:"mx-2 text-gray-500",children:"|"}),e.nombre&&m.jsx("span",{className:"text-red-400 font-bold",children:e.nombre.toUpperCase()})]}),m.jsxs("div",{className:"flex justify-between items-center w-full px-2",children:[m.jsxs("div",{className:"flex flex-col items-center text-center w-2/5",children:[m.jsx("img",{src:l,alt:`Logo ${o}`,className:"h-14 w-14 md:h-16 md:w-16 object-contain mb-2"}),m.jsx("span",{className:"font-bold text-sm text-white",children:o})]}),m.jsx("span",{className:"text-2xl font-bold text-gray-400",children:"VS"}),m.jsxs("div",{className:"flex flex-col items-center text-center w-2/5",children:[m.jsx("img",{src:c,alt:`Logo ${a}`,className:"h-14 w-14 md:h-16 md:w-16 object-contain mb-2"}),m.jsx("span",{className:"font-bold text-sm text-white",children:a})]})]})]})}function MZ({open:e,onClose:t,genero:n,onGuardar:r=()=>{}}){const[i,s]=w.useState([]),[o,a]=w.useState({equipo1:"",equipo2:""}),[l,c]=w.useState({equipo1:"",equipo2:""});w.useEffect(()=>{const v=ee(te,`tablas/${n}`);return Et(v,S=>{if(S.exists()){const k=S.val(),b=Object.entries(k).map(([E,R])=>({nombre:E,puntos:R.puntos??0,logo:R.logo??""})).sort((E,R)=>R.puntos-E.puntos).slice(0,4);s(b)}})},[n]);const d=new Set([o.equipo1,o.equipo2,l.equipo1,l.equipo2]),h=v=>i.filter(S=>S.nombre===v||!d.has(S.nombre)),f=(v,S,k,_)=>m.jsxs("div",{className:"mb-6",children:[m.jsx("h3",{className:"text-yellow-400 text-2xl font-bold mb-3 text-center",children:v}),m.jsxs("div",{className:"flex items-center justify-center gap-4",children:[m.jsxs("select",{value:S,onChange:b=>_(E=>({...E,equipo1:b.target.value})),className:"bg-gray-700 text-white px-4 py-2 rounded-lg w-40 text-lg",children:[m.jsx("option",{value:"",children:"Equipo 1"}),h(S).map(b=>m.jsx("option",{value:b.nombre,children:b.nombre},b.nombre))]}),m.jsx("span",{className:"text-white text-xl font-bold",children:"VS"}),m.jsxs("select",{value:k,onChange:b=>_(E=>({...E,equipo2:b.target.value})),className:"bg-gray-700 text-white px-4 py-2 rounded-lg w-40 text-lg",children:[m.jsx("option",{value:"",children:"Equipo 2"}),h(k).map(b=>m.jsx("option",{value:b.nombre,children:b.nombre},b.nombre))]})]})]}),g=()=>{if(!o.equipo1||!o.equipo2||!l.equipo1||!l.equipo2){alert("Seleccion todos los equipos");return}r({granFinal:[o.equipo1,o.equipo2],tercerLugar:[l.equipo1,l.equipo2]}),t()};return m.jsx(fc,{open:e,onClose:t,className:"fixed inset-0 bg-black/70 z-50 flex justify-center items-center p-4 font-qatar",children:m.jsxs(fc.Panel,{className:"bg-gray-800 rounded-2xl shadow-xl w-full max-w-xl p-6 border border-yellow-400/30 text-white",children:[m.jsx("h2",{className:"text-center text-3xl font-bold text-yellow-400 mb-6",children:"Seleccionar Finalistas"}),f("Gran Final",o.equipo1,o.equipo2,a),f("Tercer Lugar",l.equipo1,l.equipo2,c),m.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 pt-4 border-t border-gray-600/50 mt-6",children:[m.jsx("button",{onClick:t,className:"w-full bg-red-600 hover:bg-red-500 text-white font-bold py-3 px-4 rounded-lg text-lg transition-colors",children:"Cancelar"}),m.jsx("button",{onClick:g,className:"w-full bg-green-600 hover:bg-green-500 text-white font-bold py-3 px-4 rounded-lg text-lg transition-colors",children:"Guardar"})]})]})})}const LZ=e=>e.startsWith("jornada")?`JORNADA ${e.replace("jornada","")}`:e.startsWith("semifinales")?"SEMIFINALES":e.startsWith("finales")?"FINALES":e.toUpperCase();function jZ(){const{user:e,rol:t}=mo(),[n,r]=w.useState("masculino"),[i,s]=w.useState({calendario:null,equiposInfo:{}}),[o,a]=w.useState(!1),[l,c]=w.useState({letra:"",asignacionActual:""}),[d,h]=w.useState(!1),[f,g]=w.useState(!1);w.useEffect(()=>{const D=ee(te,`calendario/${n}`),M=ee(te,`tablas/${n}`),T=Et(D,async I=>{if(!I.exists()&&!f){const y=hf.calendario[n];y&&(await Ze(ee(te,`calendario/${n}`),{asignaciones:{},partidos:y}),g(!0))}s(y=>({...y,calendario:I.exists()?I.val():null}))}),C=Et(M,I=>{s(y=>({...y,equiposInfo:I.exists()?I.val():{}}))});return()=>{Kc(D,"value",T),Kc(M,"value",C)}},[n]);const v=(D,M)=>{c({letra:D,asignacionActual:M}),a(!0)},S=({granFinal:D,tercerLugar:M})=>{const T=ee(te,"calendario/masculino/partidos/finales");Ze(T,{granFinal:D,tercerLugar:M}).then(()=>{alert("Finalistas guardados correctamente"),setModalAbierto(!1)}).catch(C=>{console.error("Error al guardar:",C),alert("Error al guardar finalistas")})},k=i.calendario||{},_=k.asignaciones||{},b=k.partidos||{},E=hf.plantillas[n]||{},R=i.equiposInfo||{};return[...new Set(((b==null?void 0:b.semifinales)||[]).flatMap(D=>[D.equipo1,D.equipo2]).map(D=>_[D]||D).filter(D=>D&&!D.toLowerCase().includes("lugar")&&D!=="undefined"))],m.jsxs("div",{className:"w-full min-h-screen bg-main-background text-white font-qatar flex flex-col",children:[m.jsx(ur,{}),m.jsxs("div",{className:"container mx-auto px-4 py-8 flex-grow",children:[m.jsx("h1",{className:"text-4xl md:text-5xl font-bold text-center text-yellow-400 drop-shadow-lg mb-6",children:"Calendario de Partidos"}),m.jsxs("div",{className:"flex justify-center mb-8 bg-black/30 rounded-full p-1 max-w-sm mx-auto",children:[m.jsx("button",{onClick:()=>r("masculino"),className:`w-1/2 py-2 rounded-full font-bold transition-colors ${n==="masculino"?"bg-yellow-400 text-black":"hover:bg-white/10"}`,children:"Masculino"}),m.jsx("button",{onClick:()=>r("femenino"),className:`w-1/2 py-2 rounded-full font-bold transition-colors ${n==="femenino"?"bg-yellow-400 text-black":"hover:bg-white/10"}`,children:"Femenino"})]}),m.jsx("div",{className:"flex flex-wrap justify-center gap-4 mb-8",children:Object.entries(_).map(([D,M])=>m.jsxs("div",{className:"bg-white text-black px-4 py-2 rounded-xl shadow-md font-bold flex items-center gap-2",children:[m.jsxs("span",{className:"text-red-600",children:[D,":"]}),m.jsx("span",{children:M||`Equipo ${D}`}),(t==="admin"||t==="superadmin")&&m.jsx("button",{onClick:()=>v(D,M),className:"text-blue-600 hover:underline text-sm",children:"Editar"})]},D))}),!b||Object.keys(b).length===0?m.jsx("p",{className:"text-center",children:"Cargando..."}):m.jsx("div",{className:"max-w-4xl mx-auto",children:m.jsx("div",{className:"space-y-8",children:Object.entries(b).map(([D,M])=>m.jsxs("div",{children:[m.jsxs("div",{className:"flex justify-between items-center mb-4 border-b-2 border-yellow-400/20 pb-2",children:[m.jsx("h2",{className:"text-2xl font-bold text-yellow-300",children:LZ(D)}),t==="admin"&&D==="finales"&&m.jsx("button",{onClick:()=>h(!0),className:"bg-red-600 text-white font-bold px-3 py-1 rounded-lg text-sm hover:bg-red-500",children:"Seleccionar Finalistas"}),t==="admin"&&D==="semifinales"&&m.jsx("button",{onClick:async()=>{const T=Object.entries(R).sort(([,A],[,V])=>V.puntos-A.puntos).slice(0,4);if(T.length<4){alert("Se necesitan al menos 4 equipos para generar las semifinales.");return}const[C,I,y,N]=T.map(([A])=>A),O=ee(te,`calendario/${n}/partidos/semifinales`);await Ze(O,[{cancha:"1",equipo1:C,equipo2:N,fecha:"Domingo 29 Jun - 03:00 PM"},{cancha:"2",equipo1:I,equipo2:y,fecha:"Domingo 29 Jun - 03:00 PM"}]),alert("Semifinales generadas correctamente.")},className:"bg-green-600 text-white font-bold px-3 py-1 rounded-lg text-sm hover:bg-green-500",children:"Generar Semifinales"})]}),m.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:Array.isArray(M)&&M.length>0?M.map((T,C)=>m.jsx(OZ,{partido:T,asignaciones:_,plantillas:E,equiposInfo:R},C)):m.jsx("p",{className:"col-span-full text-center text-sm text-gray-400",children:"No hay partidos disponibles."})})]},D))})})]}),m.jsx(dr,{}),m.jsx(DZ,{open:o,onClose:()=>a(!1),letra:l.letra,genero:n,asignacionActual:l.asignacionActual,todasLasAsignaciones:_,equiposYaAsignados:_}),m.jsx(MZ,{open:d,onClose:()=>h(!1),genero:"masculino",onGuardar:S})]})}var dh={linear:function(e,t,n,r){var i=n-t;return i*e/r+t},easeInQuad:function(e,t,n,r){var i=n-t;return i*(e/=r)*e+t},easeOutQuad:function(e,t,n,r){var i=n-t;return-i*(e/=r)*(e-2)+t},easeInOutQuad:function(e,t,n,r){var i=n-t;return(e/=r/2)<1?i/2*e*e+t:-i/2*(--e*(e-2)-1)+t},easeInCubic:function(e,t,n,r){var i=n-t;return i*(e/=r)*e*e+t},easeOutCubic:function(e,t,n,r){var i=n-t;return i*((e=e/r-1)*e*e+1)+t},easeInOutCubic:function(e,t,n,r){var i=n-t;return(e/=r/2)<1?i/2*e*e*e+t:i/2*((e-=2)*e*e+2)+t},easeInQuart:function(e,t,n,r){var i=n-t;return i*(e/=r)*e*e*e+t},easeOutQuart:function(e,t,n,r){var i=n-t;return-i*((e=e/r-1)*e*e*e-1)+t},easeInOutQuart:function(e,t,n,r){var i=n-t;return(e/=r/2)<1?i/2*e*e*e*e+t:-i/2*((e-=2)*e*e*e-2)+t},easeInQuint:function(e,t,n,r){var i=n-t;return i*(e/=r)*e*e*e*e+t},easeOutQuint:function(e,t,n,r){var i=n-t;return i*((e=e/r-1)*e*e*e*e+1)+t},easeInOutQuint:function(e,t,n,r){var i=n-t;return(e/=r/2)<1?i/2*e*e*e*e*e+t:i/2*((e-=2)*e*e*e*e+2)+t},easeInSine:function(e,t,n,r){var i=n-t;return-i*Math.cos(e/r*(Math.PI/2))+i+t},easeOutSine:function(e,t,n,r){var i=n-t;return i*Math.sin(e/r*(Math.PI/2))+t},easeInOutSine:function(e,t,n,r){var i=n-t;return-i/2*(Math.cos(Math.PI*e/r)-1)+t},easeInExpo:function(e,t,n,r){var i=n-t;return e==0?t:i*Math.pow(2,10*(e/r-1))+t},easeOutExpo:function(e,t,n,r){var i=n-t;return e==r?t+i:i*(-Math.pow(2,-10*e/r)+1)+t},easeInOutExpo:function(e,t,n,r){var i=n-t;return e===0?t:e===r?t+i:(e/=r/2)<1?i/2*Math.pow(2,10*(e-1))+t:i/2*(-Math.pow(2,-10*--e)+2)+t},easeInCirc:function(e,t,n,r){var i=n-t;return-i*(Math.sqrt(1-(e/=r)*e)-1)+t},easeOutCirc:function(e,t,n,r){var i=n-t;return i*Math.sqrt(1-(e=e/r-1)*e)+t},easeInOutCirc:function(e,t,n,r){var i=n-t;return(e/=r/2)<1?-i/2*(Math.sqrt(1-e*e)-1)+t:i/2*(Math.sqrt(1-(e-=2)*e)+1)+t},easeInElastic:function(e,t,n,r){var i=n-t,s,o,a;return a=1.70158,o=0,s=i,e===0?t:(e/=r)===1?t+i:(o||(o=r*.3),s<Math.abs(i)?(s=i,a=o/4):a=o/(2*Math.PI)*Math.asin(i/s),-(s*Math.pow(2,10*(e-=1))*Math.sin((e*r-a)*(2*Math.PI)/o))+t)},easeOutElastic:function(e,t,n,r){var i=n-t,s,o,a;return a=1.70158,o=0,s=i,e===0?t:(e/=r)===1?t+i:(o||(o=r*.3),s<Math.abs(i)?(s=i,a=o/4):a=o/(2*Math.PI)*Math.asin(i/s),s*Math.pow(2,-10*e)*Math.sin((e*r-a)*(2*Math.PI)/o)+i+t)},easeInOutElastic:function(e,t,n,r){var i=n-t,s,o,a;return a=1.70158,o=0,s=i,e===0?t:(e/=r/2)===2?t+i:(o||(o=r*(.3*1.5)),s<Math.abs(i)?(s=i,a=o/4):a=o/(2*Math.PI)*Math.asin(i/s),e<1?-.5*(s*Math.pow(2,10*(e-=1))*Math.sin((e*r-a)*(2*Math.PI)/o))+t:s*Math.pow(2,-10*(e-=1))*Math.sin((e*r-a)*(2*Math.PI)/o)*.5+i+t)},easeInBack:function(e,t,n,r,i){var s=n-t;return i===void 0&&(i=1.70158),s*(e/=r)*e*((i+1)*e-i)+t},easeOutBack:function(e,t,n,r,i){var s=n-t;return i===void 0&&(i=1.70158),s*((e=e/r-1)*e*((i+1)*e+i)+1)+t},easeInOutBack:function(e,t,n,r,i){var s=n-t;return i===void 0&&(i=1.70158),(e/=r/2)<1?s/2*(e*e*(((i*=1.525)+1)*e-i))+t:s/2*((e-=2)*e*(((i*=1.525)+1)*e+i)+2)+t},easeInBounce:function(e,t,n,r){var i=n-t,s;return s=dh.easeOutBounce(r-e,0,i,r),i-s+t},easeOutBounce:function(e,t,n,r){var i=n-t;return(e/=r)<1/2.75?i*(7.5625*e*e)+t:e<2/2.75?i*(7.5625*(e-=1.5/2.75)*e+.75)+t:e<2.5/2.75?i*(7.5625*(e-=2.25/2.75)*e+.9375)+t:i*(7.5625*(e-=2.625/2.75)*e+.984375)+t},easeInOutBounce:function(e,t,n,r){var i=n-t,s;return e<r/2?(s=dh.easeInBounce(e*2,0,i,r),s*.5+t):(s=dh.easeOutBounce(e*2-r,0,i,r),s*.5+i*.5+t)}},FZ=dh;function $Z(e){return e*Math.PI/180}function fn(e,t){return e+Math.random()*(t-e)}function VZ(e,t){return Math.floor(e+Math.random()*(t-e+1))}var pc;(function(e){e[e.Circle=0]="Circle",e[e.Square=1]="Square",e[e.Strip=2]="Strip"})(pc||(pc={}));var Ii;(function(e){e[e.Positive=1]="Positive",e[e.Negative=-1]="Negative"})(Ii||(Ii={}));const UZ=1e3/60;class BZ{constructor(t,n,r,i){this.getOptions=n;const{colors:s,initialVelocityX:o,initialVelocityY:a}=this.getOptions();this.context=t,this.x=r,this.y=i,this.w=fn(5,20),this.h=fn(5,20),this.radius=fn(5,10),this.vx=typeof o=="number"?fn(-o,o):fn(o.min,o.max),this.vy=typeof a=="number"?fn(-a,0):fn(a.min,a.max),this.shape=VZ(0,2),this.angle=$Z(fn(0,360)),this.angularSpin=fn(-.2,.2),this.color=s[Math.floor(Math.random()*s.length)],this.rotateY=fn(0,1),this.rotationDirection=fn(0,1)?Ii.Positive:Ii.Negative}update(t){const{gravity:n,wind:r,friction:i,opacity:s,drawShape:o}=this.getOptions(),a=t/UZ;this.x+=this.vx*a,this.y+=this.vy*a,this.vy+=n*a,this.vx+=r*a,this.vx*=i**a,this.vy*=i**a,this.rotateY>=1&&this.rotationDirection===Ii.Positive?this.rotationDirection=Ii.Negative:this.rotateY<=-1&&this.rotationDirection===Ii.Negative&&(this.rotationDirection=Ii.Positive);const l=.1*this.rotationDirection*a;if(this.rotateY+=l,this.angle+=this.angularSpin,this.context.save(),this.context.translate(this.x,this.y),this.context.rotate(this.angle),this.context.scale(1,this.rotateY),this.context.rotate(this.angle),this.context.beginPath(),this.context.fillStyle=this.color,this.context.strokeStyle=this.color,this.context.globalAlpha=s,this.context.lineCap="round",this.context.lineWidth=2,o&&typeof o=="function")o.call(this,this.context);else switch(this.shape){case pc.Circle:{this.context.beginPath(),this.context.arc(0,0,this.radius,0,2*Math.PI),this.context.fill();break}case pc.Square:{this.context.fillRect(-this.w/2,-this.h/2,this.w,this.h);break}case pc.Strip:{this.context.fillRect(-this.w/6,-this.h/2,this.w/3,this.h);break}}this.context.closePath(),this.context.restore()}}class zZ{constructor(t,n){this.x=0,this.y=0,this.w=0,this.h=0,this.lastNumberOfPieces=0,this.tweenProgress=0,this.tweenFrom=0,this.particles=[],this.particlesGenerated=0,this.removeParticleAt=i=>{this.particles.splice(i,1)},this.getParticle=()=>{const i=fn(this.x,this.w+this.x),s=fn(this.y,this.h+this.y);return new BZ(this.context,this.getOptions,i,s)},this.animate=i=>{const{canvas:s,context:o,particlesGenerated:a,lastNumberOfPieces:l}=this,{run:c,recycle:d,numberOfPieces:h,debug:f,tweenFunction:g,tweenDuration:v}=this.getOptions();if(!c)return!1;const S=this.particles.length,k=d?S:a;if(k<h){l!==h&&(this.tweenProgress=0,this.tweenFrom=k,this.lastNumberOfPieces=h),this.tweenProgress=Math.min(v,Math.max(0,this.tweenProgress+i));const _=g(this.tweenProgress,this.tweenFrom,h,v),b=Math.round(_-k);for(let E=0;E<b;E++)this.particles.push(this.getParticle());this.particlesGenerated+=b}f&&(o.font="12px sans-serif",o.fillStyle="#333",o.textAlign="right",o.fillText(`Particles: ${S}`,s.width-10,s.height-20));for(let _=this.particles.length-1;_>=0;_--){const b=this.particles[_];b.update(i),(b.y>s.height||b.y<-100||b.x>s.width+100||b.x<-100)&&(d&&k<=h?this.particles[_]=this.getParticle():this.removeParticleAt(_))}return S>0||k<h},this.canvas=t;const r=this.canvas.getContext("2d");if(!r)throw new Error("Could not get canvas context");this.context=r,this.getOptions=n}}const u1={width:typeof window<"u"?window.innerWidth:300,height:typeof window<"u"?window.innerHeight:200,numberOfPieces:200,friction:.99,wind:0,gravity:.1,initialVelocityX:4,initialVelocityY:10,colors:["#f44336","#e91e63","#9c27b0","#673ab7","#3f51b5","#2196f3","#03a9f4","#00bcd4","#009688","#4CAF50","#8BC34A","#CDDC39","#FFEB3B","#FFC107","#FF9800","#FF5722","#795548"],opacity:1,debug:!1,tweenFunction:FZ.easeInOutQuad,tweenDuration:5e3,recycle:!0,run:!0};class WZ{constructor(t,n){this.lastFrameTime=0,this.setOptionsWithDefaults=i=>{const s={confettiSource:{x:0,y:0,w:this.canvas.width,h:0}};this._options={...s,...u1,...i},Object.assign(this,i.confettiSource)},this.update=(i=0)=>{const{options:{run:s,onConfettiComplete:o,frameRate:a},canvas:l,context:c}=this,d=Math.min(i-this.lastFrameTime,50);if(a&&d<1e3/a){this.rafId=requestAnimationFrame(this.update);return}this.lastFrameTime=i-(a?d%a:0),s&&(c.fillStyle="white",c.clearRect(0,0,l.width,l.height)),this.generator.animate(d)?this.rafId=requestAnimationFrame(this.update):(o&&typeof o=="function"&&this.generator.particlesGenerated>0&&o.call(this,this),this._options.run=!1)},this.reset=()=>{this.generator&&this.generator.particlesGenerated>0&&(this.generator.particlesGenerated=0,this.generator.particles=[],this.generator.lastNumberOfPieces=0)},this.stop=()=>{this.options={run:!1},this.rafId&&(cancelAnimationFrame(this.rafId),this.rafId=void 0)},this.canvas=t;const r=this.canvas.getContext("2d");if(!r)throw new Error("Could not get canvas context");this.context=r,this.generator=new zZ(this.canvas,()=>this.options),this.options=n,this.update()}get options(){return this._options}set options(t){var i,s;const n=(i=this._options)==null?void 0:i.run,r=(s=this._options)==null?void 0:s.recycle;this.setOptionsWithDefaults(t),this.generator&&(Object.assign(this.generator,this.options.confettiSource),typeof t.recycle=="boolean"&&t.recycle&&r===!1&&(this.generator.lastNumberOfPieces=this.generator.particles.length)),typeof t.run=="boolean"&&t.run&&n===!1&&this.update()}}const HZ=Q.createRef();class d1 extends Q.Component{constructor(t){super(t),this.canvas=Q.createRef(),this.canvas=t.canvasRef||HZ}componentDidMount(){if(this.canvas.current){const t=Ag(this.props)[0];this.confetti=new WZ(this.canvas.current,t)}}componentDidUpdate(){const t=Ag(this.props)[0];this.confetti&&(this.confetti.options=t)}componentWillUnmount(){this.confetti&&this.confetti.stop(),this.confetti=void 0}render(){const[t,n]=Ag(this.props),r={zIndex:2,position:"absolute",pointerEvents:"none",top:0,left:0,bottom:0,right:0,...n.style};return m.jsx("canvas",{width:t.width,height:t.height,ref:this.canvas,...n,style:r})}}d1.defaultProps={...u1};d1.displayName="ReactConfetti";function Ag(e){const t={},n={},r={},i=[...Object.keys(u1),"confettiSource","drawShape","onConfettiComplete","frameRate"],s=["canvasRef"];for(const o in e){const a=e[o];i.includes(o)?t[o]=a:s.includes(o)?s[o]=a:r[o]=a}return[t,r,n]}const qZ=Q.forwardRef((e,t)=>m.jsx(d1,{canvasRef:t,...e})),GZ=e=>{const t=w.useRef(e);return w.useEffect(()=>{t.current=e}),t},KZ=GZ,YZ=(e,t=100,n=!1)=>{const r=KZ(e),i=w.useRef(),s=[t,n,r];function o(){i.current&&clearTimeout(i.current),i.current=void 0}w.useEffect(()=>o,s);function a(){i.current=void 0}return w.useCallback(function(){const l=arguments,{current:c}=i;if(c===void 0&&n)return i.current=setTimeout(a,t),r.current.apply(null,l);c&&clearTimeout(c),i.current=setTimeout(()=>{i.current=void 0,r.current.apply(null,l)},t)},s)},XZ=(e,t,n)=>{const r=w.useState(e);return[r[0],YZ(r[1],t,n)]};function Ng(e,t,n,r){const i=w.useRef(n),s=w.useRef(r);w.useEffect(()=>{i.current=n,s.current=r}),w.useEffect(()=>{const o=e&&"current"in e?e.current:e;if(!o)return;let a=0;function l(...d){a||i.current.apply(this,d)}o.addEventListener(t,l);const c=s.current;return()=>{a=1,o.removeEventListener(t,l),c&&c()}},[e,t])}const JZ={},mc=typeof window>"u"?null:window,QZ=mc&&typeof mc.visualViewport<"u"?mc.visualViewport:null,yT=()=>[document.documentElement.clientWidth,document.documentElement.clientHeight],ZZ=function(e){e===void 0&&(e=JZ);const{wait:t,leading:n,initialWidth:r=0,initialHeight:i=0}=e,[s,o]=XZ(typeof document>"u"?[r,i]:yT,t,n),a=()=>o(yT);return Ng(mc,"resize",a),Ng(QZ,"resize",a),Ng(mc,"orientationchange",a),s};function eee(){var b,E,R;const{partidoId:e}=Gv(),[t,n]=w.useState({equipo1:0,equipo2:0}),[r,i]=w.useState(null),[s,o]=w.useState([]),[a,l]=w.useState("00:00"),[c,d]=w.useState("activo"),[h,f]=w.useState(!1),[g,v]=ZZ(),S=$n();if(w.useEffect(()=>{const D=ee(te,`partidos/${e}/marcador`),M=ee(te,`partidos/${e}/alineacion`),T=ee(te,`partidos/${e}/eventos`),C=ee(te,`partidos/${e}/cronometro/tiempo`),I=ee(te,`partidos/${e}/estado`),y=Et(D,U=>{U.exists()&&n(U.val())}),N=Et(M,U=>{U.exists()&&i(U.val())}),O=Et(T,U=>{const q=U.val();if(q){const G=[],F=K=>{for(const X in K)G.push({id:X,...K[X]})};q.goles&&F(q.goles),q.tarjetas&&F(q.tarjetas),q.cambios&&F(q.cambios),G.sort((K,X)=>{var se,ce;const[ae,ie]=((se=K.minuto)==null?void 0:se.split(":").map(Number))||[0,0],[H,J]=((ce=X.minuto)==null?void 0:ce.split(":").map(Number))||[0,0];return ae*60+ie-(H*60+J)}),o(G)}}),A=Et(C,U=>{U.exists()&&l(U.val())}),V=Et(I,U=>{if(U.exists()){const q=U.val();d(q),q==="finalizado"&&f(!0)}});return()=>{y(),N(),O(),A(),V()}},[e]),!r)return m.jsx("div",{className:"text-white text-center p-6",children:"Cargando partido..."});const k=D=>{var M,T;return D==="equipo1"?((M=r==null?void 0:r.equipo1)==null?void 0:M.nombre)||"Equipo 1":D==="equipo2"?((T=r==null?void 0:r.equipo2)==null?void 0:T.nombre)||"Equipo 2":"Equipo desconocido"},_=t.equipo1>t.equipo2?r.equipo1.nombre:t.equipo2>t.equipo1?r.equipo2.nombre:"Empate";return m.jsxs("div",{className:"min-h-screen bg-cover bg-center font-qatar text-white px-4",style:{backgroundImage:"url('/EmproChampions-2025/img/fondoempro-horizontal.png')"},children:[m.jsx(ur,{}),m.jsx("h1",{className:"text-4xl font-bold text-center mt-6 text-yellow-400 drop-shadow",children:"Partido en curso"}),m.jsxs("div",{className:"text-center mt-4 text-2xl",children:[" ",a]}),m.jsxs("div",{className:"flex justify-center items-center gap-4 mt-4",children:[m.jsx("img",{src:`/EmproChampions-2025/img/escudos/${r.equipo1.logo}`,className:"w-16 h-16 object-contain"}),m.jsxs("span",{className:"text-4xl font-extrabold",children:[t.equipo1," - ",t.equipo2]}),m.jsx("img",{src:`/EmproChampions-2025/img/escudos/${r.equipo2.logo}`,className:"w-16 h-16 object-contain"})]}),m.jsxs("div",{className:"max-w-3xl mx-auto bg-black/50 p-4 mt-6 mb-20 rounded-xl",children:[m.jsx("h2",{className:"text-yellow-400 font-bold text-xl mb-2",children:"Eventos del partido"}),s.length===0?m.jsx("p",{className:"text-gray-300",children:"Sin eventos todava."}):m.jsx("ul",{className:"space-y-2",children:s.map((D,M)=>m.jsxs("li",{className:"text-white text-sm bg-white/10 px-3 py-2 rounded-lg",children:[m.jsxs("span",{className:"text-yellow-300 font-bold",children:[D.minuto||"?","'"]})," -",m.jsx("span",{className:"uppercase font-bold",children:(D==null?void 0:D.tipo)||"Evento"})," -",(D==null?void 0:D.jugador)||"Desconocido"," (",k(D==null?void 0:D.equipo),")"]},M))})]}),m.jsx(dr,{}),h&&m.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-80 flex justify-center items-center z-50 p-4",children:m.jsxs("div",{className:"bg-gray-900 rounded-2xl shadow-2xl w-full max-w-lg p-8 text-center border-2 border-yellow-400 relative",children:[m.jsx("h2",{className:"text-4xl font-extrabold text-yellow-400 mb-6 animate-bounce",children:"Partido Finalizado!"}),_!=="Empate"?m.jsxs(m.Fragment,{children:[m.jsx("img",{src:`/EmproChampions-2025/img/escudos/${_===((b=r==null?void 0:r.equipo1)==null?void 0:b.nombre)?(E=r==null?void 0:r.equipo1)==null?void 0:E.logo:(R=r==null?void 0:r.equipo2)==null?void 0:R.logo}`,alt:"Escudo ganador",className:"w-36 h-36 mx-auto mb-6 drop-shadow-xl"}),m.jsxs("p",{className:"text-white text-5xl md:text-6xl font-extrabold",children:[" ",_]})]}):m.jsx("p",{className:"text-4xl text-white",children:" El partido termin en empate"}),m.jsx("button",{onClick:()=>S("/"),className:"mt-6 bg-green-600 hover:bg-green-500 text-white font-bold py-2 px-6 rounded-full text-lg shadow-lg",children:"Cerrar"}),_!=="Empate"&&m.jsx(qZ,{width:g,height:v,numberOfPieces:500,gravity:.3,recycle:!1})]})})]})}function _s({children:e}){const{user:t,loading:n}=mo();return n?m.jsx("div",{children:"Cargando aplicacin..."}):t?e:m.jsx(ky,{to:"/login",replace:!0})}function Od({children:e}){const{user:t,rol:n,loading:r}=mo();return r?m.jsx("div",{children:"Cargando aplicacin..."}):t?n!=="admin"&&n!=="superadmin"?m.jsx(ky,{to:"/",replace:!0}):e:m.jsx(ky,{to:"/login",replace:!0})}function tee(){const[e,t]=w.useState(!1),[n,r]=w.useState({title:"",body:""});return w.useEffect(()=>{n8()},[]),w.useEffect(()=>{const i=R2(Ha),s=O3(i,o=>{r({title:o.notification.title,body:o.notification.body}),t(!0)});return"serviceWorker"in navigator&&navigator.serviceWorker.register("/EmproChampions-2025/firebase-messaging-sw.js").then(o=>{console.log(" Service Worker registrado:",o)}).catch(o=>{console.error(" Error al registrar Service Worker:",o)}),()=>s()},[]),m.jsx(t8,{children:m.jsxs(wj,{basename:"/EmproChampions-2025",children:[e&&m.jsx(zR,{title:n.title,body:n.body,onClose:()=>t(!1)}),m.jsxs(KL,{children:[m.jsx(Ut,{path:"/login",element:m.jsx(r8,{})}),m.jsx(Ut,{path:"/registro",element:m.jsx(i8,{})}),m.jsx(Ut,{path:"/",element:m.jsx(_s,{children:m.jsx(a8,{})})}),m.jsx(Ut,{path:"/partido/configurar",element:m.jsx(Od,{children:m.jsx(iC,{})})}),m.jsx(Ut,{path:"/partido/alineacion",element:m.jsx(Od,{children:m.jsx(pq,{})})}),m.jsx(Ut,{path:"/control-partido/:partidoId",element:m.jsx(Od,{children:m.jsx(g8,{})})}),m.jsx(Ut,{path:"/match/:partidoId",element:m.jsx(_s,{children:m.jsx(iC,{modo:"ver"})})}),m.jsx(Ut,{path:"/goleadores",element:m.jsx(_s,{children:m.jsx(y8,{})})}),m.jsx(Ut,{path:"/historial",element:m.jsx(_s,{children:m.jsx(w8,{})})}),m.jsx(Ut,{path:"/configuracion",element:m.jsx(_s,{children:m.jsx(lJ,{})})}),m.jsx(Ut,{path:"/partido/editar/:partidoId",element:m.jsx(Od,{children:m.jsx(cJ,{})})}),m.jsx(Ut,{path:"/calendario",element:m.jsx(_s,{children:m.jsx(jZ,{})})}),m.jsx(Ut,{path:"/partido/en-vivo/:partidoId",element:m.jsx(_s,{children:m.jsx(eee,{})})}),m.jsx(Ut,{path:"*",element:m.jsx("div",{children:"Pgina no encontrada"})})]})]})})}const xs=sessionStorage.getItem("redirect");sessionStorage.removeItem("redirect");if(xs&&xs!==window.location.pathname.replace("/EmproChampions-2025","")){let e=xs;const t="/EmproChampions-2025";xs.startsWith(t)?(e=xs.substring(t.length),e.startsWith("/")||(e="/"+e)):xs.startsWith("/")||(e="/"+xs),e!==window.location.pathname.replace(t,"")&&(window.history.replaceState(null,null,t+(e==="/"?"":e)),console.log("Redirecting to:",t+(e==="/"?"":e)))}Dg.createRoot(document.getElementById("root")).render(m.jsx(Q.StrictMode,{children:m.jsx(tee,{})}));if("serviceWorker"in navigator){const e="/EmproChampions-2025/firebase-messaging-sw.js";navigator.serviceWorker.register(e,{scope:"/EmproChampions-2025/"}).then(t=>{console.log("Service Worker registrado:",t,"con ruta:",e,"y scope:",t.scope)}).catch(t=>{console.error("Fallo el registro del Service Worker:",t,"con ruta:",e)})}
