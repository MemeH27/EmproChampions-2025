<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <title>Historial de Partidos</title>
  <link rel="stylesheet" href="styles/historial.css">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
</head>
<body>

<nav>
  <a href="index.html">📊 Tabla</a>
  <a href="match.html">🎮 Nuevo Partido</a>
  <a href="goleadores.html">🥇 Máximo Goleador</a>
  <a href="historial.html">📋 Historial de Partidos</a>
</nav>

<div style="margin-top: 100px; text-align: center;">
  <img src="logo4.png" alt="Historial de Partidos" style="max-width: 90%; height: auto;" />
</div>


<div class="historial-container">
  <div class="columna" id="columnaMasculino">
    <h2>Masculino</h2>
  </div>
  <div class="columna" id="columnaFemenino">
    <h2>Femenino</h2>
  </div>
</div>

<script>
  const historial = JSON.parse(localStorage.getItem("historialPartidos")) || [];

  const masculino = document.getElementById("columnaMasculino");
  const femenino = document.getElementById("columnaFemenino");

  historial.forEach((p, i) => {
    const id = `detalle-${i}`;
    const tiempoTexto = `${String(Math.floor(p.tiempo / 60)).padStart(2, '0')}:${String(p.tiempo % 60).padStart(2, '0')}`;

    const partidoHTML = `
      <div class="partido">
        <div class="resumen">
          <div>
            🗓️ ${p.fecha}<br>
            🆚 ${p.equipo1} vs ${p.equipo2}
          </div>
          <div class="marcador">${p.marcador}</div>
          <button class="btn-toggle" onclick="toggleDetalles('${id}')">Ver más</button>
        </div>
        <div class="detalles" id="${id}">
          ⚥ Género: ${p.genero}<br>
          ⏱️ Tiempo jugado: ${tiempoTexto}
        </div>
      </div>
    `;

    if (p.genero === "femenino") {
      femenino.innerHTML += partidoHTML;
    } else {
      masculino.innerHTML += partidoHTML;
    }
  });

  function toggleDetalles(id) {
    const div = document.getElementById(id);
    div.style.display = div.style.display === 'block' ? 'none' : 'block';
  }
</script>

</body>
</html>
